import{j as e}from"./ui-UIpCtT3r.js";import{r as h}from"./vendor-vA4cx1mx.js";import{j as f,u as y,b,r as x}from"./index-BJ9Cw0LR.js";import{u as w,L as i}from"./router-CxXythJb.js";import{B as n}from"./button-BvsVcTDx.js";import{D as N,a as C,b as S,c as M,d as L,e as o}from"./dropdown-menu-Dyfg7Gk4.js";import{A as z,a as A,b as D}from"./avatar-DEanbPY_.js";import{B as T}from"./badge-BQpU5zw7.js";import{a as k,S as I,b as B}from"./sheet-NdLuqHVB.js";import{M as O}from"./menu-B7gXVrLX.js";import{L as p}from"./log-out-CdVFLkWN.js";import{S as t}from"./settings-WRZm2y6w.js";import{U}from"./users-ZhvK7Ip9.js";import{C as E}from"./chart-pie-BpPIjllb.js";import{C as F}from"./calendar-tibBNAR3.js";import{M as R}from"./message-square-8xU1RYWw.js";import{F as P}from"./file-text-Dcjpqiow.js";import{D as V}from"./dollar-sign-DtfLClfe.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=f("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=f("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);function le({children:u}){const{user:a,logoutMutation:G}=y(),[r,c]=w(),[g,l]=h.useState(!1),{toast:j}=b();h.useEffect(()=>{a&&a.userType!=="admin"&&c("/")},[a,c]);const d=async()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),console.log("ðŸ”‘ Token removido diretamente do localStorage e sessionStorage"),j({title:"Logout realizado",description:"VocÃª saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("ðŸ”„ Recarregando pÃ¡gina..."),window.location.reload()},500)},m=[{name:"Dashboard",href:"/admin",icon:e.jsx(q,{size:20}),active:r==="/admin"},{name:"UsuÃ¡rios",href:"/admin/users",icon:e.jsx(U,{size:20}),active:r==="/admin/users"},{name:"Categorias",href:"/admin/categories",icon:e.jsx(E,{size:20}),active:r==="/admin/categories"},{name:"ServiÃ§os",href:"/admin/services",icon:e.jsx(Z,{size:20}),active:r==="/admin/services"},{name:"Agendamentos",href:"/admin/appointments",icon:e.jsx(F,{size:20}),active:r==="/admin/appointments"},{name:"Suporte",href:"/admin/support",icon:e.jsx(R,{size:20}),active:r==="/admin/support"},{name:"RelatÃ³rios",href:"/admin/reports",icon:e.jsx(P,{size:20}),active:r==="/admin/reports"},{name:"ConfiguraÃ§Ãµes",href:"/admin/settings",icon:e.jsx(t,{size:20}),active:r==="/admin/settings"},{name:"Taxas por Categoria",href:"/admin/category-fees",icon:e.jsx(V,{size:20}),active:r==="/admin/category-fees"}];if(!a)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Carregando..."});const v=a.name?a.name.split(" ").map(s=>s[0]).join("").toUpperCase().substring(0,2):"AD";return e.jsxs("div",{className:"h-screen flex flex-col",children:[e.jsxs("header",{className:"h-16 border-b bg-background flex items-center justify-between px-4 lg:px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(k,{open:g,onOpenChange:l,children:[e.jsx(I,{asChild:!0,className:"lg:hidden mr-2",children:e.jsx(n,{variant:"ghost",size:"icon",children:e.jsx(O,{size:20})})}),e.jsx(B,{side:"left",className:"w-64 p-0 pt-10",children:e.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[m.map(s=>e.jsx(i,{href:s.href,children:e.jsxs("a",{className:x("flex items-center space-x-2 rounded-lg px-3 py-2 text-sm font-medium",s.active?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-primary/5"),onClick:()=>l(!1),children:[s.icon,e.jsx("span",{children:s.name})]})},s.href)),e.jsxs(n,{variant:"ghost",className:"justify-start",onClick:d,children:[e.jsx(p,{size:20,className:"mr-2"}),e.jsx("span",{children:"Sair"})]})]})})]}),e.jsx(i,{href:"/admin",children:e.jsxs("a",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-xl",children:"AgendoAI"}),e.jsx(T,{variant:"default",children:"Admin"})]})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(N,{children:[e.jsx(C,{asChild:!0,children:e.jsx(n,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(z,{className:"h-10 w-10",children:[e.jsx(A,{src:a.profileImage||"",alt:a.name||"Avatar"}),e.jsx(D,{children:v})]})})}),e.jsxs(S,{className:"w-56 bg-white border border-blue-200 shadow-xl rounded-xl p-2",align:"end",forceMount:!0,children:[e.jsx(M,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a.name}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),e.jsx(L,{}),e.jsx(o,{asChild:!0,className:"hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx(i,{href:"/admin/profile",children:e.jsxs("a",{className:"cursor-pointer w-full flex items-center",children:[e.jsx(t,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Perfil"})]})})}),e.jsx(o,{asChild:!0,className:"hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx(i,{href:"/admin/settings",children:e.jsxs("a",{className:"cursor-pointer w-full flex items-center",children:[e.jsx(t,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"ConfiguraÃ§Ãµes"})]})})}),e.jsxs(o,{onClick:d,className:"cursor-pointer text-red-600 hover:bg-red-50 rounded-lg",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair"})]})]})]})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:border-r",children:e.jsx("div",{className:"flex flex-col space-y-2 p-4",children:m.map(s=>e.jsx(i,{href:s.href,children:e.jsxs("a",{className:x("flex items-center space-x-2 rounded-lg px-3 py-2 text-sm font-medium",s.active?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-primary/5"),children:[s.icon,e.jsx("span",{children:s.name})]})},s.href))})}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-secondary/10 p-4",children:u})]})]})}export{le as A};
