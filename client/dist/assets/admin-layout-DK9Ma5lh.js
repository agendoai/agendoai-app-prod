import{m as O,u as N,a as w,j as e,n as z,r as o,X as B,z as F}from"./index-DlYle-HK.js";import{N as T}from"./navbar-Dyja2Gc-.js";import{B as r}from"./button-0YWTsIWD.js";import{B as W}from"./badge-CHUQCCUH.js";import{A as R,a as P,b as $}from"./avatar-D38M3gQ1.js";import{D as H,a as q,b as X,c as G,d as b,e as p}from"./dropdown-menu-QmsU4ZtQ.js";import{U as v}from"./user-geZPnD2Z.js";import{S as J}from"./settings-DgxQfKxR.js";import{L as C}from"./log-out-DFz9Lucp.js";import{D as K,a as Q,b as V,c as Y,d as Z,e as _}from"./dialog-UHR2Epng.js";import{M as ee}from"./menu-BPr4aO1K.js";import{B as se}from"./bell-1cmMJ3sE.js";import{A as ae}from"./arrow-left-DEtv-0Pf.js";import{U as ne}from"./users-kyBtF-jk.js";import{C as te}from"./calendar-DIqdCud3.js";import{T as oe}from"./trending-up-C2_NnGeP.js";import{F as re}from"./folder-tree-Sgr6uV8y.js";import{C as ie}from"./credit-card-U98LyAvR.js";import{S as le}from"./share-2-D7FGp1YU.js";import{C as ce}from"./circle-help-CdYa6ded.js";import{B as de}from"./book-open-CNw9SgbZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=O("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);function xe({userType:i="admin"}){const{user:s,logoutMutation:l}=N(),[,c]=w(),t=()=>{if(!s||!s.name)return i.substring(0,2).toUpperCase();const n=s.name.split(" ");return n.length===1?n[0].substring(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()},d=()=>{l.mutate(void 0,{onSuccess:()=>{window.location.reload()},onError:n=>{console.error("Erro no logout:",n)}})};return e.jsxs(H,{children:[e.jsx(q,{asChild:!0,children:e.jsx(r,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(R,{className:"h-8 w-8",children:[e.jsx(P,{src:(s==null?void 0:s.profileImage)||void 0,alt:(s==null?void 0:s.name)||"Usuário"}),e.jsx($,{children:t()})]})})}),e.jsxs(X,{align:"end",className:"w-56",children:[e.jsx(G,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:(s==null?void 0:s.name)||"Administrador"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s==null?void 0:s.email})]})}),e.jsx(b,{}),e.jsxs(p,{onClick:()=>c(`/${i}/profile`),children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Perfil"})]}),e.jsxs(p,{onClick:()=>c(`/${i}/settings`),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Configurações"})]}),e.jsx(b,{}),e.jsxs(p,{onClick:d,className:"text-red-600",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair"})]})]})]})}function ze({children:i,title:s="Administração",showBackButton:l=!1,backButtonAction:c}){const[t,d]=w(),{user:n,logoutMutation:y}=N(),{unreadCount:g}=z(),[he,k]=o.useState(!1),[D,x]=o.useState(!1),[h,m]=o.useState(!1),f=o.useRef(null);o.useEffect(()=>{(t.startsWith("/admin/documentation")||t.startsWith("/admin/project-documentation")||t.startsWith("/admin/testing-documentation"))&&k(!0)},[t]),o.useEffect(()=>{function a(u){f.current&&!f.current.contains(u.target)&&m(!1)}return h?document.addEventListener("mousedown",a):document.removeEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[h]);const L=()=>{c?c():window.history.back()},A=()=>{x(!0)},S=()=>{x(!1),y.mutate(void 0,{onError:a=>{console.error("Erro no logout:",a)}})},M=a=>t.startsWith(a),j=[{href:"/admin/dashboard",label:"Dashboard",icon:e.jsx(me,{className:"h-5 w-5"})},{href:"/admin/users",label:"Usuários",icon:e.jsx(v,{className:"h-5 w-5"})},{href:"/admin/providers",label:"Prestadores",icon:e.jsx(ne,{className:"h-5 w-5"})},{href:"/admin/appointments",label:"Agendamentos",icon:e.jsx(te,{className:"h-5 w-5"})}],U=[{href:"/admin/reports",label:"Relatórios",icon:e.jsx(oe,{className:"h-5 w-5"})},{href:"/admin/categories",label:"Categorias",icon:e.jsx(re,{className:"h-5 w-5"})},{href:"/admin/financial-settings",label:"Financeiro",icon:e.jsx(ie,{className:"h-5 w-5"})},{href:"/admin/integrations-settings",label:"Integrações",icon:e.jsx(le,{className:"h-5 w-5"})}],E=[{href:"/admin/support",label:"Suporte",icon:e.jsx(ce,{className:"h-5 w-5"})},{href:"/admin/documentation",label:"Documentação",icon:e.jsx(de,{className:"h-5 w-5"})}];return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[e.jsx("header",{className:"bg-gradient-to-r from-blue-800 via-blue-900 to-indigo-900 text-white shadow-lg z-50",children:e.jsxs("div",{className:"container mx-auto py-4 px-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(r,{variant:"ghost",size:"icon",className:"text-white",onClick:()=>m(!0),children:e.jsx(ee,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-lg sm:text-xl font-bold tracking-wide drop-shadow-md select-none",children:l?s:"Painel Admin"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(r,{variant:"ghost",className:"relative p-2 text-white hover:bg-blue-700/80 focus:bg-blue-700/90",onClick:()=>d("/admin/notifications"),children:[e.jsx(se,{className:"h-6 w-6 text-white"}),g>0&&e.jsx(W,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center p-0 text-[10px]",children:g})]}),e.jsx(xe,{userType:"admin"})]})]})}),l&&e.jsxs("div",{className:"sticky top-0 z-50 border-b bg-background h-14 flex items-center px-4",children:[e.jsx("button",{onClick:L,className:"mr-3 rounded-full p-1 hover:bg-muted",children:e.jsx(ae,{className:"h-5 w-5"})}),s&&e.jsx("h1",{className:"text-lg font-semibold",children:s})]}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[e.jsxs("div",{ref:f,className:"w-80 h-full bg-white shadow-2xl flex flex-col animate-slide-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("span",{className:"text-2xl font-bold text-indigo-700 select-none",children:"AgendoAI"}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>m(!1),children:e.jsx(B,{className:"h-6 w-6 text-gray-500"})})]}),e.jsx("nav",{className:"flex-1 py-6 px-4 space-y-2",children:[...j,...U,...E].map(a=>e.jsxs("button",{onClick:()=>{d(a.href),m(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium transition-colors
                    ${M(a.href)?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-50"}
                  `,children:[a.icon,e.jsx("span",{children:a.label})]},a.href))}),e.jsx("div",{className:"mt-auto p-6 border-t border-gray-100",children:e.jsxs("button",{onClick:A,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(C,{className:"h-5 w-5"}),e.jsx("span",{children:"Sair"})]})})]}),e.jsx("div",{className:"flex-1",onClick:()=>m(!1)})]}),e.jsx("main",{className:F("flex-1",l&&"pt-2"),children:i}),e.jsx("div",{className:"lg:hidden",children:e.jsx(T,{items:j.map(a=>({icon:a.icon,label:a.label,href:a.href,isActive:(u,I)=>u.startsWith(I)})),layoutId:"adminNav",onNavigate:a=>d(a),className:"lg:hidden"})}),e.jsx(K,{open:D,onOpenChange:x,children:e.jsxs(Q,{className:"bg-white",children:[e.jsxs(V,{children:[e.jsx(Y,{children:"Sair do Sistema"}),e.jsx(Z,{children:"Tem certeza que deseja sair do painel administrativo?"})]}),e.jsxs(_,{children:[e.jsx(r,{variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(r,{variant:"destructive",onClick:S,children:"Sair"})]})]})})]})}export{ze as A};
