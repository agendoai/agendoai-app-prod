import{j as e}from"./ui-UIpCtT3r.js";import{r as t}from"./vendor-vA4cx1mx.js";import{u as N}from"./router-CxXythJb.js";import{j as O,u as v,b as k,B as i,l as R,X as B,r as F}from"./index-DyNThJGx.js";import{N as W}from"./navbar-KiPP5LKi.js";import{B as G}from"./badge-8936XTFZ.js";import{A as J,a as P,b as $}from"./avatar-SFIqVQOH.js";import{D as H,a as V,b as q,c as X,d as b,e as g}from"./dropdown-menu-BQgRWKCC.js";import{U as C}from"./user-CHl9goRc.js";import{S as K}from"./settings-DHajXvJe.js";import{L as y}from"./log-out-CF9-_D6G.js";import{D as Q,a as Y,b as Z,c as _,d as ee,e as se}from"./dialog-C-gXrtRk.js";import{M as ae}from"./menu-B3vjIUbu.js";import{B as oe}from"./bell-_h50M4t4.js";import{A as ne}from"./arrow-left-DD0ygwFe.js";import{U as te}from"./users-CrYhhpEH.js";import{C as ie}from"./calendar-CqpYA11m.js";import{T as re}from"./trending-up-Dpcw5jBC.js";import{F as le}from"./folder-tree-aeBltaha.js";import{C as ce}from"./credit-card-BAr81XRd.js";import{S as de}from"./share-2-CRUUAGC-.js";import{C as me}from"./circle-help-CfCL-ES9.js";import{B as he}from"./book-open-VNdz4dX-.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=O("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);function ue({userType:r="admin"}){const{user:s,logoutMutation:h}=v(),[,l]=N(),{toast:n}=k(),c=()=>{if(!s||!s.name)return r.substring(0,2).toUpperCase();const o=s.name.split(" ");return o.length===1?o[0].substring(0,2).toUpperCase():(o[0][0]+o[o.length-1][0]).toUpperCase()},j=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="authToken=; path=/; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT","caches"in window&&caches.keys().then(o=>{o.forEach(x=>{caches.delete(x)})}),n({title:"Logout realizado",description:"VocÃª saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("ðŸ”„ Recarregando pÃ¡gina..."),window.location.reload()},500)};return e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(i,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(J,{className:"h-8 w-8",children:[e.jsx(P,{src:(s==null?void 0:s.profileImage)||void 0,alt:(s==null?void 0:s.name)||"UsuÃ¡rio"}),e.jsx($,{children:c()})]})})}),e.jsxs(q,{align:"end",className:"w-56",children:[e.jsx(X,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:(s==null?void 0:s.name)||"Administrador"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s==null?void 0:s.email})]})}),e.jsx(b,{}),e.jsxs(g,{onClick:()=>l(`/${r}/profile`),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Perfil"})]}),e.jsxs(g,{onClick:()=>l(`/${r}/settings`),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"ConfiguraÃ§Ãµes"})]}),e.jsx(b,{}),e.jsxs(g,{onClick:j,className:"text-red-600",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair"})]})]})]})}function Fe({children:r,title:s="AdministraÃ§Ã£o",showBackButton:h=!1,backButtonAction:l}){const[n,c]=N(),{user:j,logoutMutation:o}=v(),{unreadCount:x}=R(),[fe,T]=t.useState(!1),[D,u]=t.useState(!1),[f,d]=t.useState(!1),p=t.useRef(null),{toast:L}=k();t.useEffect(()=>{(n.startsWith("/admin/documentation")||n.startsWith("/admin/project-documentation")||n.startsWith("/admin/testing-documentation"))&&T(!0)},[n]),t.useEffect(()=>{function a(m){p.current&&!p.current.contains(m.target)&&d(!1)}return f?document.addEventListener("mousedown",a):document.removeEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[f]);const S=()=>{l?l():window.history.back()},A=()=>{u(!0)},M=()=>{u(!1),localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="authToken=; path=/; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT","caches"in window&&caches.keys().then(a=>{a.forEach(m=>{caches.delete(m)})}),L({title:"Logout realizado",description:"VocÃª saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("ðŸ”„ Recarregando pÃ¡gina..."),window.location.reload()},500)},I=a=>n.startsWith(a),w=[{href:"/admin/dashboard",label:"Dashboard",icon:e.jsx(xe,{className:"h-5 w-5"})},{href:"/admin/users",label:"UsuÃ¡rios",icon:e.jsx(C,{className:"h-5 w-5"})},{href:"/admin/providers",label:"Prestadores",icon:e.jsx(te,{className:"h-5 w-5"})},{href:"/admin/appointments",label:"Agendamentos",icon:e.jsx(ie,{className:"h-5 w-5"})}],U=[{href:"/admin/reports",label:"RelatÃ³rios",icon:e.jsx(re,{className:"h-5 w-5"})},{href:"/admin/categories",label:"Categorias",icon:e.jsx(le,{className:"h-5 w-5"})},{href:"/admin/financial-settings",label:"Financeiro",icon:e.jsx(ce,{className:"h-5 w-5"})},{href:"/admin/integrations-settings",label:"IntegraÃ§Ãµes",icon:e.jsx(de,{className:"h-5 w-5"})}],E=[{href:"/admin/support",label:"Suporte",icon:e.jsx(me,{className:"h-5 w-5"})},{href:"/admin/documentation",label:"DocumentaÃ§Ã£o",icon:e.jsx(he,{className:"h-5 w-5"})}];return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[e.jsx("header",{className:"bg-gradient-to-r from-blue-800 via-blue-900 to-indigo-900 text-white shadow-lg z-50",children:e.jsxs("div",{className:"container mx-auto py-4 px-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i,{variant:"ghost",size:"icon",className:"text-white",onClick:()=>d(!0),children:e.jsx(ae,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-lg sm:text-xl font-bold tracking-wide drop-shadow-md select-none",children:h?s:"Painel Admin"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(i,{variant:"ghost",className:"relative p-2 text-white hover:bg-blue-700/80 focus:bg-blue-700/90",onClick:()=>c("/admin/notifications"),children:[e.jsx(oe,{className:"h-6 w-6 text-white"}),x>0&&e.jsx(G,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center p-0 text-[10px]",children:x})]}),e.jsx(ue,{userType:"admin"})]})]})}),h&&e.jsxs("div",{className:"sticky top-0 z-50 border-b bg-background h-14 flex items-center px-4",children:[e.jsx("button",{onClick:S,className:"mr-3 rounded-full p-1 hover:bg-muted",children:e.jsx(ne,{className:"h-5 w-5"})}),s&&e.jsx("h1",{className:"text-lg font-semibold",children:s})]}),f&&e.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[e.jsxs("div",{ref:p,className:"w-80 h-full bg-white shadow-2xl flex flex-col animate-slide-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("span",{className:"text-2xl font-bold text-indigo-700 select-none",children:"AgendoAI"}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>d(!1),children:e.jsx(B,{className:"h-6 w-6 text-gray-500"})})]}),e.jsx("nav",{className:"flex-1 py-6 px-4 space-y-2",children:[...w,...U,...E].map(a=>e.jsxs("button",{onClick:()=>{c(a.href),d(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium transition-colors
                    ${I(a.href)?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-50"}
                  `,children:[a.icon,e.jsx("span",{children:a.label})]},a.href))}),e.jsx("div",{className:"mt-auto p-6 border-t border-gray-100",children:e.jsxs("button",{onClick:A,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(y,{className:"h-5 w-5"}),e.jsx("span",{children:"Sair"})]})})]}),e.jsx("div",{className:"flex-1",onClick:()=>d(!1)})]}),e.jsx("main",{className:F("flex-1",h&&"pt-2"),children:r}),e.jsx("div",{className:"lg:hidden",children:e.jsx(W,{items:w.map(a=>({icon:a.icon,label:a.label,href:a.href,isActive:(m,z)=>m.startsWith(z)})),layoutId:"adminNav",onNavigate:a=>c(a),className:"lg:hidden"})}),e.jsx(Q,{open:D,onOpenChange:u,children:e.jsxs(Y,{className:"bg-white",children:[e.jsxs(Z,{children:[e.jsx(_,{children:"Sair do Sistema"}),e.jsx(ee,{children:"Tem certeza que deseja sair do painel administrativo?"})]}),e.jsxs(se,{children:[e.jsx(i,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(i,{variant:"destructive",onClick:M,children:"Sair"})]})]})})]})}export{Fe as A};
