import{j as e}from"./ui-UIpCtT3r.js";import{r as E}from"./vendor-vA4cx1mx.js";import{u as L}from"./router-CxXythJb.js";import{u as D,b as I,l as $,B as i,H as U}from"./index-C8-zpcKL.js";import{A as z,a as H,b as O}from"./avatar-BBcRvo13.js";import{B as P}from"./badge-DP5DyHeb.js";import{D as V,a as G,b as J,c as R,d as n,e as r}from"./dropdown-menu-CUOsS9wa.js";import{m as q}from"./proxy-B2Nma8Bt.js";import{A as F}from"./arrow-left-DbtXU75N.js";import{B as K}from"./bell-CZnX4FjY.js";import{E as Q}from"./ellipsis-vertical-lNYOA75X.js";import{C as W}from"./calendar-CEG0wbcY.js";import{U as X}from"./user-CXc1AnQW.js";import{S as Y}from"./settings-DR9OFCdO.js";import{C as Z}from"./circle-help-BAOtwWti.js";import{M as _}from"./message-square-CMlinHqp.js";import{L as ee}from"./log-out-BVXZMdHH.js";function ve({title:c,showBackButton:x=!1,showUserInfo:f=!0,transparent:j=!1,className:w="",userType:g,showBackButton:se,backUrl:l,onBack:d,backButtonAction:m,showNotificationIcon:v=!0,showMenuIcon:N=!0}){var u;const{user:o}=D(),[ae,s]=L(),{toast:h}=I(),{unreadCount:p}=$(),[k,b]=E.useState(!1),a=g||(o==null?void 0:o.role)||"client",C=()=>{m?m():d?d():l?s(l):window.history.back()},T=()=>{try{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="authToken=; path=/; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT","caches"in window&&caches.keys().then(t=>{t.forEach(S=>{caches.delete(S)})}),h({title:"Logout realizado",description:"VocÃª saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("ðŸ”„ Recarregando pÃ¡gina..."),window.location.reload()},500)}catch(t){console.error("Erro ao processar logout:",t),h({title:"Erro no logout",description:"Ocorreu um erro ao sair da conta.",variant:"destructive"})}},M=()=>{switch(a){case"client":s("/client/dashboard");break;case"provider":s("/provider/dashboard");break;case"admin":s("/admin/dashboard");break;case"support":s("/support/dashboard");break;default:s("/")}},A=()=>{a==="client"?s("/client/appointments"):a==="provider"&&s("/provider/schedule")},y=()=>{a==="client"?s("/client/profile"):a==="provider"?s("/provider/profile"):(a==="admin"||a==="support")&&s(`/${a}/settings`)},B=()=>{s(`/${a}/notifications`)};return e.jsxs(q.div,{initial:{opacity:.8,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},className:`sticky top-0 z-50 ${j?"":"border-b bg-[#3EB9AA]"} h-14 flex items-center px-4 ${w}`,children:[x&&e.jsx(i,{variant:"ghost",size:"icon",onClick:C,className:"mr-3 rounded-full p-1 text-white hover:bg-white/20","aria-label":"Voltar",children:e.jsx(F,{className:"h-5 w-5"})}),c&&e.jsx("h1",{className:"text-lg font-semibold flex-1 text-white",children:c}),f&&o&&e.jsxs("div",{className:"flex items-center mr-auto",children:[e.jsxs(z,{className:"h-8 w-8 mr-2",children:[e.jsx(H,{src:o.profileImage||"",alt:o.name||"User"}),e.jsx(O,{children:((u=o.name)==null?void 0:u.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("span",{className:"font-medium text-sm text-white",children:o.name||"UsuÃ¡rio"}),e.jsx("span",{className:"text-xs text-white/80",children:a==="client"?"Cliente":a==="provider"?"Prestador":a==="admin"?"Administrador":"Suporte"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[v&&e.jsxs(i,{variant:"ghost",size:"icon",className:"relative p-1 rounded-full text-white hover:bg-white/20",onClick:B,"aria-label":"NotificaÃ§Ãµes",children:[e.jsx(K,{className:"h-5 w-5"}),p>0&&e.jsx(P,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 min-w-4 flex items-center justify-center p-0 text-[10px]",children:p})]}),N&&e.jsxs(V,{open:k,onOpenChange:b,children:[e.jsx(G,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"p-1 rounded-full text-white hover:bg-white/20","aria-label":"Menu",children:e.jsx(Q,{className:"h-5 w-5"})})}),e.jsxs(J,{align:"end",children:[e.jsx(R,{children:"NavegaÃ§Ã£o"}),e.jsx(n,{}),e.jsxs(r,{onClick:M,children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"InÃ­cio"})]}),e.jsxs(r,{onClick:A,children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Minha Agenda"})]}),e.jsxs(r,{onClick:y,children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Meu Perfil"})]}),e.jsx(n,{}),e.jsxs(r,{onClick:()=>s(`/${a}/settings`),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"ConfiguraÃ§Ãµes"})]}),e.jsxs(r,{onClick:()=>s(`/${a}/help`),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Ajuda"})]}),e.jsxs(r,{onClick:()=>s(`/${a}/support`),children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Suporte"})]}),e.jsx(n,{}),e.jsxs(r,{className:"text-destructive",onClick:T,children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Sair"})]})]})]})]})]})}export{ve as A};
