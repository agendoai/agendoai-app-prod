import{j as e}from"./ui-UIpCtT3r.js";import{r as N}from"./vendor-vA4cx1mx.js";import{u as T}from"./router-CxXythJb.js";import{u as y,b as C,l as A}from"./index-BJ9Cw0LR.js";import{A as M,a as B,b as S}from"./avatar-DEanbPY_.js";import{B as I}from"./badge-BQpU5zw7.js";import{B as t}from"./button-BvsVcTDx.js";import{D as L,a as U,b as D,c as E,d as i,e as a}from"./dropdown-menu-Dyfg7Gk4.js";import{m as $}from"./proxy-Bw6ASuXk.js";import{A as z}from"./arrow-left-EWHBe2nW.js";import{B as H}from"./bell-vRE7a1ng.js";import{E as O}from"./ellipsis-vertical-LstE4Dbk.js";import{H as P}from"./house-CCMYCVaH.js";import{C as V}from"./calendar-tibBNAR3.js";import{U as R}from"./user-C2y4PfJ8.js";import{S as q}from"./settings-WRZm2y6w.js";import{C as F}from"./circle-help-CxLgceap.js";import{M as G}from"./message-square-8xU1RYWw.js";import{L as J}from"./log-out-CdVFLkWN.js";function ue({title:n,showBackButton:d=!1,showUserInfo:p=!0,transparent:u=!1,className:h=""}){var m;const{user:o}=y(),[K,s]=T(),{toast:l}=C(),{unreadCount:c}=A(),[x,f]=N.useState(!1),j=()=>{backButtonAction?backButtonAction():onBack?onBack():backUrl?s(backUrl):window.history.back()},g=()=>{try{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),console.log("ðŸ”‘ Token removido diretamente do localStorage e sessionStorage"),l({title:"Logout realizado",description:"VocÃª saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("ðŸ”„ Recarregando pÃ¡gina..."),window.location.reload()},500)}catch(r){console.error("Erro ao processar logout:",r),l({title:"Erro no logout",description:"Ocorreu um erro ao sair da conta.",variant:"destructive"})}},w=()=>{switch(userType){case"client":s("/client/dashboard");break;case"provider":s("/provider/dashboard");break;case"admin":s("/admin/dashboard");break;case"support":s("/support/dashboard");break;default:s("/")}},v=()=>{userType==="client"?s("/client/appointments"):userType==="provider"&&s("/provider/schedule")},b=()=>{userType==="client"?s("/client/profile"):userType==="provider"?s("/provider/profile"):(userType==="admin"||userType==="support")&&s(`/${userType}/settings`)},k=()=>{s(`/${userType}/notifications`)};return e.jsxs($.div,{initial:{opacity:.8,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},className:`sticky top-0 z-50 ${u?"":"border-b bg-[#3EB9AA]"} h-14 flex items-center px-4 ${h}`,children:[d&&e.jsx(t,{variant:"ghost",size:"icon",onClick:j,className:"mr-3 rounded-full p-1 text-white hover:bg-white/20","aria-label":"Voltar",children:e.jsx(z,{className:"h-5 w-5"})}),n&&e.jsx("h1",{className:"text-lg font-semibold flex-1 text-white",children:n}),p&&o&&e.jsxs("div",{className:"flex items-center mr-auto",children:[e.jsxs(M,{className:"h-8 w-8 mr-2",children:[e.jsx(B,{src:o.profileImage||"",alt:o.name||"User"}),e.jsx(S,{children:((m=o.name)==null?void 0:m.split(" ").map(r=>r[0]).join("").substring(0,2).toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("span",{className:"font-medium text-sm text-white",children:o.name||"UsuÃ¡rio"}),e.jsx("span",{className:"text-xs text-white/80",children:userType==="client"?"Cliente":userType==="provider"?"Prestador":userType==="admin"?"Administrador":"Suporte"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[showNotificationIcon&&e.jsxs(t,{variant:"ghost",size:"icon",className:"relative p-1 rounded-full text-white hover:bg-white/20",onClick:k,"aria-label":"NotificaÃ§Ãµes",children:[e.jsx(H,{className:"h-5 w-5"}),c>0&&e.jsx(I,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 min-w-4 flex items-center justify-center p-0 text-[10px]",children:c})]}),showMenuIcon&&e.jsxs(L,{open:x,onOpenChange:f,children:[e.jsx(U,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"p-1 rounded-full text-white hover:bg-white/20","aria-label":"Menu",children:e.jsx(O,{className:"h-5 w-5"})})}),e.jsxs(D,{align:"end",children:[e.jsx(E,{children:"NavegaÃ§Ã£o"}),e.jsx(i,{}),e.jsxs(a,{onClick:w,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"InÃ­cio"})]}),e.jsxs(a,{onClick:v,children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Minha Agenda"})]}),e.jsxs(a,{onClick:b,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Meu Perfil"})]}),e.jsx(i,{}),e.jsxs(a,{onClick:()=>s(`/${userType}/settings`),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"ConfiguraÃ§Ãµes"})]}),e.jsxs(a,{onClick:()=>s(`/${userType}/help`),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Ajuda"})]}),e.jsxs(a,{onClick:()=>s(`/${userType}/support`),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Suporte"})]}),e.jsx(i,{}),e.jsxs(a,{className:"text-destructive",onClick:g,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Sair"})]})]})]})]})]})}export{ue as A};
