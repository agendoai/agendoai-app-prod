import{j as e}from"./ui-UIpCtT3r.js";import{r as N}from"./vendor-vA4cx1mx.js";import{u as y}from"./router-CxXythJb.js";import{u as C,b as A,l as M}from"./index-DEm1NP11.js";import{A as B,a as S,b as I}from"./avatar-CPD-kDAN.js";import{B as E}from"./badge-B2JTkC27.js";import{B as t}from"./button-j6LGAhsQ.js";import{D as L,a as U,b as D,c as $,d as i,e as a}from"./dropdown-menu-Ctl7CAWq.js";import{m as z}from"./proxy-B8DL77xD.js";import{A as H}from"./arrow-left-BNqHqGt7.js";import{B as O}from"./bell-DVVHxsNh.js";import{E as P}from"./ellipsis-vertical-CrOw0oSf.js";import{H as V}from"./house-CfLQCnfM.js";import{C as G}from"./calendar-eMUANn8Q.js";import{U as J}from"./user-DI19obd1.js";import{S as R}from"./settings-CsNNlMhC.js";import{C as q}from"./circle-help-JrPfi8Lq.js";import{M as F}from"./message-square-E0Uk8Sg9.js";import{L as K}from"./log-out-Da473VaU.js";function he({title:n,showBackButton:d=!1,showUserInfo:p=!0,transparent:u=!1,className:h=""}){var m;const{user:o}=C(),[Q,s]=y(),{toast:c}=A(),{unreadCount:l}=M(),[x,f]=N.useState(!1),j=()=>{backButtonAction?backButtonAction():onBack?onBack():backUrl?s(backUrl):window.history.back()},w=()=>{try{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="authToken=; path=/; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT","caches"in window&&caches.keys().then(r=>{r.forEach(b=>{caches.delete(b)})}),c({title:"Logout realizado",description:"VocÃª saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("ðŸ”„ Recarregando pÃ¡gina..."),window.location.reload()},500)}catch(r){console.error("Erro ao processar logout:",r),c({title:"Erro no logout",description:"Ocorreu um erro ao sair da conta.",variant:"destructive"})}},g=()=>{switch(userType){case"client":s("/client/dashboard");break;case"provider":s("/provider/dashboard");break;case"admin":s("/admin/dashboard");break;case"support":s("/support/dashboard");break;default:s("/")}},v=()=>{userType==="client"?s("/client/appointments"):userType==="provider"&&s("/provider/schedule")},k=()=>{userType==="client"?s("/client/profile"):userType==="provider"?s("/provider/profile"):(userType==="admin"||userType==="support")&&s(`/${userType}/settings`)},T=()=>{s(`/${userType}/notifications`)};return e.jsxs(z.div,{initial:{opacity:.8,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},className:`sticky top-0 z-50 ${u?"":"border-b bg-[#3EB9AA]"} h-14 flex items-center px-4 ${h}`,children:[d&&e.jsx(t,{variant:"ghost",size:"icon",onClick:j,className:"mr-3 rounded-full p-1 text-white hover:bg-white/20","aria-label":"Voltar",children:e.jsx(H,{className:"h-5 w-5"})}),n&&e.jsx("h1",{className:"text-lg font-semibold flex-1 text-white",children:n}),p&&o&&e.jsxs("div",{className:"flex items-center mr-auto",children:[e.jsxs(B,{className:"h-8 w-8 mr-2",children:[e.jsx(S,{src:o.profileImage||"",alt:o.name||"User"}),e.jsx(I,{children:((m=o.name)==null?void 0:m.split(" ").map(r=>r[0]).join("").substring(0,2).toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("span",{className:"font-medium text-sm text-white",children:o.name||"UsuÃ¡rio"}),e.jsx("span",{className:"text-xs text-white/80",children:userType==="client"?"Cliente":userType==="provider"?"Prestador":userType==="admin"?"Administrador":"Suporte"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[showNotificationIcon&&e.jsxs(t,{variant:"ghost",size:"icon",className:"relative p-1 rounded-full text-white hover:bg-white/20",onClick:T,"aria-label":"NotificaÃ§Ãµes",children:[e.jsx(O,{className:"h-5 w-5"}),l>0&&e.jsx(E,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 min-w-4 flex items-center justify-center p-0 text-[10px]",children:l})]}),showMenuIcon&&e.jsxs(L,{open:x,onOpenChange:f,children:[e.jsx(U,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"p-1 rounded-full text-white hover:bg-white/20","aria-label":"Menu",children:e.jsx(P,{className:"h-5 w-5"})})}),e.jsxs(D,{align:"end",children:[e.jsx($,{children:"NavegaÃ§Ã£o"}),e.jsx(i,{}),e.jsxs(a,{onClick:g,children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"InÃ­cio"})]}),e.jsxs(a,{onClick:v,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Minha Agenda"})]}),e.jsxs(a,{onClick:k,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Meu Perfil"})]}),e.jsx(i,{}),e.jsxs(a,{onClick:()=>s(`/${userType}/settings`),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"ConfiguraÃ§Ãµes"})]}),e.jsxs(a,{onClick:()=>s(`/${userType}/help`),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Ajuda"})]}),e.jsxs(a,{onClick:()=>s(`/${userType}/support`),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Suporte"})]}),e.jsx(i,{}),e.jsxs(a,{className:"text-destructive",onClick:w,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Sair"})]})]})]})]})]})}export{he as A};
