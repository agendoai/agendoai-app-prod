import{a as D,u as L,n as $,r as B,j as s}from"./index-DOe1OCu1.js";import{A as H,a as I,b as U}from"./avatar-DkIWG9bC.js";import{B as z}from"./badge-Bzn9UYFT.js";import{B as t}from"./button-C168b4m4.js";import{D as O,a as P,b as V,c as q,d as n,e as i}from"./dropdown-menu-BOCN3PER.js";import{m as F}from"./proxy-Ct5X7xz4.js";import{A as R}from"./arrow-left-BPt4aJQo.js";import{B as G}from"./bell-JEvyLzwJ.js";import{E as J}from"./ellipsis-vertical-CLisnDkP.js";import{H as K}from"./house-Calz6FJi.js";import{C as Q}from"./calendar-Mn3IWFfL.js";import{U as W}from"./user-BQOYdOBU.js";import{S as X}from"./settings-CM1XtqIa.js";import{C as Y}from"./circle-help-BJUcWgq1.js";import{M as Z}from"./message-square-BIM01sf-.js";import{L as _}from"./log-out-Bcm4dD8k.js";function ps({title:l,showBackButton:p=!1,backUrl:c,showUserInfo:f=!1,showNotificationIcon:j=!1,showMenuIcon:u=!0,userType:e="client",className:g="",onBack:m,backButtonAction:d,transparent:w=!1}){var x;const[,a]=D(),{user:r,logoutMutation:v}=L(),{unreadCount:h}=$(),[N,b]=B.useState(!1),C=()=>{d?d():m?m():c?a(c):window.history.back()},k=()=>{try{v.mutate(void 0,{onSuccess:()=>{window.location.reload()},onError:o=>{console.error("Erro no logout:",o)}})}catch(o){console.error("Erro ao processar logout:",o)}},M=()=>{switch(e){case"client":a("/client/dashboard");break;case"provider":a("/provider/dashboard");break;case"admin":a("/admin/dashboard");break;case"support":a("/support/dashboard");break;default:a("/")}},A=()=>{e==="client"?a("/client/appointments"):e==="provider"&&a("/provider/schedule")},S=()=>{e==="client"?a("/client/profile"):e==="provider"?a("/provider/profile"):(e==="admin"||e==="support")&&a(`/${e}/settings`)},E=()=>{a(`/${e}/notifications`)};return s.jsxs(F.div,{initial:{opacity:.8,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},className:`sticky top-0 z-50 ${w?"":"border-b bg-[#3EB9AA]"} h-14 flex items-center px-4 ${g}`,children:[p&&s.jsx(t,{variant:"ghost",size:"icon",onClick:C,className:"mr-3 rounded-full p-1 text-white hover:bg-white/20","aria-label":"Voltar",children:s.jsx(R,{className:"h-5 w-5"})}),l&&s.jsx("h1",{className:"text-lg font-semibold flex-1 text-white",children:l}),f&&r&&s.jsxs("div",{className:"flex items-center mr-auto",children:[s.jsxs(H,{className:"h-8 w-8 mr-2",children:[s.jsx(I,{src:r.profileImage||"",alt:r.name||"User"}),s.jsx(U,{children:((x=r.name)==null?void 0:x.split(" ").map(o=>o[0]).join("").substring(0,2).toUpperCase())||"U"})]}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsx("span",{className:"font-medium text-sm text-white",children:r.name||"Usuário"}),s.jsx("span",{className:"text-xs text-white/80",children:e==="client"?"Cliente":e==="provider"?"Prestador":e==="admin"?"Administrador":"Suporte"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[j&&s.jsxs(t,{variant:"ghost",size:"icon",className:"relative p-1 rounded-full text-white hover:bg-white/20",onClick:E,"aria-label":"Notificações",children:[s.jsx(G,{className:"h-5 w-5"}),h>0&&s.jsx(z,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 min-w-4 flex items-center justify-center p-0 text-[10px]",children:h})]}),u&&s.jsxs(O,{open:N,onOpenChange:b,children:[s.jsx(P,{asChild:!0,children:s.jsx(t,{variant:"ghost",size:"icon",className:"p-1 rounded-full text-white hover:bg-white/20","aria-label":"Menu",children:s.jsx(J,{className:"h-5 w-5"})})}),s.jsxs(V,{align:"end",children:[s.jsx(q,{children:"Navegação"}),s.jsx(n,{}),s.jsxs(i,{onClick:M,children:[s.jsx(K,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Início"})]}),s.jsxs(i,{onClick:A,children:[s.jsx(Q,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Minha Agenda"})]}),s.jsxs(i,{onClick:S,children:[s.jsx(W,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Meu Perfil"})]}),s.jsx(n,{}),s.jsxs(i,{onClick:()=>a(`/${e}/settings`),children:[s.jsx(X,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Configurações"})]}),s.jsxs(i,{onClick:()=>a(`/${e}/help`),children:[s.jsx(Y,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Ajuda"})]}),s.jsxs(i,{onClick:()=>a(`/${e}/support`),children:[s.jsx(Z,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Suporte"})]}),s.jsx(n,{}),s.jsxs(i,{className:"text-destructive",onClick:k,children:[s.jsx(_,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Sair"})]})]})]})]})]})}export{ps as A};
