import{j as e}from"./ui-UIpCtT3r.js";import{r as N}from"./vendor-vA4cx1mx.js";import{u as y}from"./router-CxXythJb.js";import{u as C,b as A,l as M,B as t,H as B}from"./index-DMVSlINz.js";import{A as S,a as I,b as E}from"./avatar-DJ_tL6P_.js";import{B as L}from"./badge-CIXRfmkI.js";import{D as U,a as D,b as $,c as z,d as i,e as a}from"./dropdown-menu-DwBmztZZ.js";import{m as H}from"./proxy-CAhTMUof.js";import{A as O}from"./arrow-left-3dZ_zEs-.js";import{B as P}from"./bell-D5zNslsE.js";import{E as V}from"./ellipsis-vertical-BwovH0yi.js";import{C as G}from"./calendar-CYlMr0qt.js";import{U as J}from"./user-DxXpbN3a.js";import{S as R}from"./settings-Blcd0dvr.js";import{C as q}from"./circle-help-C8c3Z800.js";import{M as F}from"./message-square-CHbKsffD.js";import{L as K}from"./log-out-CiUJLpAa.js";function pe({title:n,showBackButton:m=!1,showUserInfo:p=!0,transparent:u=!1,className:h=""}){var d;const{user:o}=C(),[Q,s]=y(),{toast:c}=A(),{unreadCount:l}=M(),[x,f]=N.useState(!1),j=()=>{backButtonAction?backButtonAction():onBack?onBack():backUrl?s(backUrl):window.history.back()},w=()=>{try{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="authToken=; path=/; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT","caches"in window&&caches.keys().then(r=>{r.forEach(b=>{caches.delete(b)})}),c({title:"Logout realizado",description:"VocÃª saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("ðŸ”„ Recarregando pÃ¡gina..."),window.location.reload()},500)}catch(r){console.error("Erro ao processar logout:",r),c({title:"Erro no logout",description:"Ocorreu um erro ao sair da conta.",variant:"destructive"})}},g=()=>{switch(userType){case"client":s("/client/dashboard");break;case"provider":s("/provider/dashboard");break;case"admin":s("/admin/dashboard");break;case"support":s("/support/dashboard");break;default:s("/")}},v=()=>{userType==="client"?s("/client/appointments"):userType==="provider"&&s("/provider/schedule")},k=()=>{userType==="client"?s("/client/profile"):userType==="provider"?s("/provider/profile"):(userType==="admin"||userType==="support")&&s(`/${userType}/settings`)},T=()=>{s(`/${userType}/notifications`)};return e.jsxs(H.div,{initial:{opacity:.8,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},className:`sticky top-0 z-50 ${u?"":"border-b bg-[#3EB9AA]"} h-14 flex items-center px-4 ${h}`,children:[m&&e.jsx(t,{variant:"ghost",size:"icon",onClick:j,className:"mr-3 rounded-full p-1 text-white hover:bg-white/20","aria-label":"Voltar",children:e.jsx(O,{className:"h-5 w-5"})}),n&&e.jsx("h1",{className:"text-lg font-semibold flex-1 text-white",children:n}),p&&o&&e.jsxs("div",{className:"flex items-center mr-auto",children:[e.jsxs(S,{className:"h-8 w-8 mr-2",children:[e.jsx(I,{src:o.profileImage||"",alt:o.name||"User"}),e.jsx(E,{children:((d=o.name)==null?void 0:d.split(" ").map(r=>r[0]).join("").substring(0,2).toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("span",{className:"font-medium text-sm text-white",children:o.name||"UsuÃ¡rio"}),e.jsx("span",{className:"text-xs text-white/80",children:userType==="client"?"Cliente":userType==="provider"?"Prestador":userType==="admin"?"Administrador":"Suporte"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[showNotificationIcon&&e.jsxs(t,{variant:"ghost",size:"icon",className:"relative p-1 rounded-full text-white hover:bg-white/20",onClick:T,"aria-label":"NotificaÃ§Ãµes",children:[e.jsx(P,{className:"h-5 w-5"}),l>0&&e.jsx(L,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 min-w-4 flex items-center justify-center p-0 text-[10px]",children:l})]}),showMenuIcon&&e.jsxs(U,{open:x,onOpenChange:f,children:[e.jsx(D,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"p-1 rounded-full text-white hover:bg-white/20","aria-label":"Menu",children:e.jsx(V,{className:"h-5 w-5"})})}),e.jsxs($,{align:"end",children:[e.jsx(z,{children:"NavegaÃ§Ã£o"}),e.jsx(i,{}),e.jsxs(a,{onClick:g,children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"InÃ­cio"})]}),e.jsxs(a,{onClick:v,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Minha Agenda"})]}),e.jsxs(a,{onClick:k,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Meu Perfil"})]}),e.jsx(i,{}),e.jsxs(a,{onClick:()=>s(`/${userType}/settings`),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"ConfiguraÃ§Ãµes"})]}),e.jsxs(a,{onClick:()=>s(`/${userType}/help`),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Ajuda"})]}),e.jsxs(a,{onClick:()=>s(`/${userType}/support`),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Suporte"})]}),e.jsx(i,{}),e.jsxs(a,{className:"text-destructive",onClick:w,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Sair"})]})]})]})]})]})}export{pe as A};
