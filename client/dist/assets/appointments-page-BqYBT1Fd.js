import{j as e}from"./ui-UIpCtT3r.js";import{r as o}from"./vendor-vA4cx1mx.js";import{j as $,c as B,B as u,H as F}from"./index-C8-zpcKL.js";import{L as I}from"./router-CxXythJb.js";import{P as R}from"./provider-layout-DUNiDEkI.js";import{S as v}from"./skeleton-BVOxvpuD.js";import{A as w,b as C}from"./avatar-BBcRvo13.js";import{N as U}from"./navbar-vyjn30u5.js";import{C as V}from"./chevron-down-CYpsWMdR.js";import{S as _}from"./search-ChrBAPJG.js";import{C as q}from"./chevron-left-tkC6Z4zt.js";import{C as G}from"./chevron-right-DnXY7g-Q.js";import{P as k}from"./plus-Dqfms9_s.js";import{C as A}from"./calendar-CEG0wbcY.js";import{U as K}from"./users-B2n0v15j.js";import{S as O}from"./scissors-wRKqpZhE.js";import{m as Q}from"./proxy-B2Nma8Bt.js";import{C as Y}from"./clock-53JnXU7l.js";import{f as m}from"./format-CGvBu07F.js";import{p as J}from"./parseISO-C4T3oArM.js";import{i as M}from"./isSameDay-BJjwZdUf.js";import{a as f}from"./addDays-BQ37Zmqx.js";import{p as g}from"./pt-BR-Cxqo7XV3.js";import"./arrow-left-DbtXU75N.js";import"./calendar-check-B0nV5Uhw.js";import"./user-CXc1AnQW.js";import"./en-US-xSPtgCq_.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=$("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);function Se(){const[d,X]=o.useState("upcoming"),[x,Z]=o.useState(null),{data:i=[],isLoading:S}=B({queryKey:["/api/appointments"],retry:1});o.useMemo(()=>i.filter(s=>{const r=new Date(`${s.date}T${s.startTime}`)>=new Date;return!(d==="upcoming"&&!r||d==="past"&&r||x&&s.status!==x)}),[i,d,x]);const[l,h]=o.useState(new Date),D=m(l,"MMMM, yyyy",{locale:g}),T=()=>{h(s=>f(s,1))},E=()=>{h(s=>f(s,-1))},z=m(l,"EEEE, d 'de' MMMM 'de' yyyy",{locale:g}),b=[{bg:"bg-orange-100",border:"border-orange-300",text:"text-orange-800",icon:"bg-orange-400"},{bg:"bg-blue-100",border:"border-blue-300",text:"text-blue-800",icon:"bg-blue-400"},{bg:"bg-green-100",border:"border-green-300",text:"text-green-800",icon:"bg-green-400"},{bg:"bg-purple-100",border:"border-purple-300",text:"text-purple-800",icon:"bg-purple-400"},{bg:"bg-pink-100",border:"border-pink-300",text:"text-pink-800",icon:"bg-pink-400"}],n=o.useMemo(()=>!i||!Array.isArray(i)?[]:i.filter(s=>{const r=J(s.date);return M(r,l)}).sort((s,r)=>s.startTime.localeCompare(r.startTime)),[i,l]),P=s=>parseInt(s.split(":")[0],10),H=o.useMemo(()=>{const s={};return n.forEach(r=>{const t=P(r.startTime);s[t]||(s[t]=[]),s[t].push(r)}),s},[n]),L=()=>{if(S)return e.jsx("div",{className:"space-y-6",children:Array(5).fill(0).map((r,t)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-12 text-right pr-4",children:e.jsx(v,{className:"h-6 w-8 ml-auto"})}),e.jsx("div",{className:"flex-1",children:e.jsx(v,{className:"h-24 w-full rounded-lg"})})]},t))});if(n.length===0)return e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(A,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Nenhum agendamento para esta data."}),e.jsxs(u,{variant:"outline",size:"sm",className:"mt-4",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Criar Agendamento"]})]});const s=Array.from({length:12},(r,t)=>t+7);return e.jsx("div",{className:"space-y-4",children:s.map(r=>{const t=H[r]||[],p=t.length>0;return e.jsxs("div",{className:"flex items-start group",children:[e.jsxs("div",{className:"w-12 text-right pr-4 text-gray-500 text-sm pt-2 group-hover:text-gray-700",children:[r,":00"]}),e.jsx("div",{className:"flex-1",children:p?e.jsx("div",{className:"space-y-2",children:t.map((a,j)=>{const c=b[j%b.length];return e.jsxs(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:j*.05},className:`p-3 rounded-lg border ${c.bg} ${c.border} ${c.text}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white ${c.icon} mr-3`,children:a.serviceName.substring(0,1).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:a.serviceName}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:[a.startTime," - ",a.endTime]})]})]})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex -space-x-2",children:Array(Math.min(3,a.clientName.split(" ").length)).fill(0).map((ee,N)=>{var y;return e.jsx(w,{className:"w-6 h-6 border-2 border-white",children:e.jsx(C,{className:"text-[10px]",children:((y=a.clientName.split(" ")[N])==null?void 0:y.charAt(0))||"?"})},N)})}),e.jsx("span",{className:"text-xs ml-1",children:a.clientName})]})]},a.id)})}):e.jsx("div",{className:"h-4 border-b border-dashed border-gray-200"})})]},r)})})};return e.jsx(R,{children:e.jsxs("div",{className:"max-w-md mx-auto bg-white min-h-screen",children:[e.jsxs("div",{className:"px-4 pt-4 pb-2 bg-gray-50 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-lg font-semibold capitalize",children:D}),e.jsx(V,{className:"w-5 h-5 ml-1 text-gray-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{variant:"ghost",size:"icon",className:"rounded-full h-9 w-9",asChild:!0,children:e.jsx(I,{href:"/provider/services",children:e.jsx(_,{className:"h-5 w-5 text-gray-600"})})}),e.jsx(w,{className:"h-8 w-8 ml-2",children:e.jsx(C,{className:"bg-primary text-white text-sm",children:"PR"})})]})]}),e.jsxs("div",{className:"my-3",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Olá Prestador,"}),e.jsxs("h1",{className:"text-2xl font-bold flex items-baseline",children:["Você tem ",e.jsx("span",{className:"text-primary mx-1",children:n.length}),n.length===1?" Evento":" Eventos",e.jsx("span",{className:"ml-1 text-gray-700 font-normal",children:"Aguardando Por Você Hoje"})]})]}),e.jsx("div",{className:"flex justify-between items-center pb-2 mb-2 mt-4",children:[-2,-1,0,1,2].map(s=>{const r=f(l,s),t=M(r,l),p=m(r,"d"),a=m(r,"EEE",{locale:g});return e.jsxs("button",{onClick:()=>h(r),className:`flex flex-col items-center justify-center w-10 h-14 rounded-full ${t?"bg-primary text-white font-bold":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"text-xs capitalize",children:a}),e.jsx("span",{className:"text-lg",children:p})]},s)})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 pt-2 border-t",children:[e.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(q,{className:"h-5 w-5"})}),e.jsx("p",{className:"capitalize",children:z}),e.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(G,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"p-4",children:L()}),e.jsx("div",{className:"fixed bottom-28 right-4",children:e.jsx(u,{className:"h-14 w-14 rounded-full shadow-lg",onClick:()=>window.location.href="/provider/manual-booking",children:e.jsx(k,{className:"h-6 w-6"})})}),e.jsx(U,{items:[{icon:e.jsx(F,{size:26}),label:"Início",href:"/provider/dashboard"},{icon:e.jsx(A,{size:26}),label:"Agenda",href:"/provider/schedule"},{icon:e.jsx(W,{size:26}),label:"Agendamentos",href:"/provider/appointments"},{icon:e.jsx(K,{size:26}),label:"Clientes",href:"/provider/clients"},{icon:e.jsx(O,{size:26}),label:"Serviços",href:"/provider/services"}]})]})})}export{Se as default};
