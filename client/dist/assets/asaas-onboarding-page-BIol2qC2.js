import{j as e}from"./ui-UIpCtT3r.js";import{r as i}from"./vendor-vA4cx1mx.js";import{u as w}from"./router-CxXythJb.js";import{u as q,C as N,g as v,d as P,e as B,f as T,m as C,L,$ as V}from"./index-DEm1NP11.js";import{B as h}from"./button-j6LGAhsQ.js";import{I as t}from"./input-EMniG8vG.js";import{L as c}from"./label-BEQPN1sl.js";import{S as f,a as y,b as A,c as D,d as u}from"./select-DG5YpObX.js";import{A as R,a as U}from"./alert-CORIeup7.js";import{C as G}from"./circle-check-big-Ck17qa4A.js";import{B as H}from"./banknote-D-RSPGSs.js";import{U as k}from"./user-DI19obd1.js";import{C as K}from"./credit-card-C2LZP3Yi.js";import"./index-BdQq_4o_.js";import"./index-BH3L9zMK.js";import"./chevron-down-nAvHMQ-K.js";import"./check-BuvXqBRH.js";const O=[{code:"001",name:"Banco do Brasil"},{code:"104",name:"Caixa Econômica Federal"},{code:"033",name:"Santander"},{code:"341",name:"Itaú"},{code:"237",name:"Bradesco"},{code:"756",name:"Sicoob"},{code:"748",name:"Sicredi"},{code:"212",name:"Banco Original"},{code:"077",name:"Inter"},{code:"260",name:"Nubank"}];function oe(){const[,d]=w(),{user:n}=q(),[m,x]=i.useState(!1),[F,S]=i.useState(!1),[p,j]=i.useState(null),[a,b]=i.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",cpfCnpj:"",phone:"",birthDate:"",monthlyIncome:"",address:"",addressNumber:"",city:"",state:"",postalCode:"",bankAccount:{bank:"",accountNumber:"",accountDigit:"",branchNumber:"",branchDigit:"",accountType:"CHECKING"}}),r=(s,o)=>{if(s.includes(".")){const[l,I]=s.split(".");b(g=>({...g,[l]:{...g[l],[I]:o}}))}else b(l=>({...l,[s]:o}))},E=async s=>{s.preventDefault(),x(!0),j(null);try{if(!a.name||!a.email||!a.cpfCnpj||!a.birthDate||!a.monthlyIncome||!a.address||!a.addressNumber||!a.city||!a.state||!a.postalCode)throw new Error("Preencha todos os campos obrigatórios, incluindo endereço completo.");if(!a.bankAccount.bank||!a.bankAccount.accountNumber||!a.bankAccount.accountDigit||!a.bankAccount.branchNumber)throw new Error("Todos os dados bancários são obrigatórios");(await V({name:a.name,email:a.email,cpfCnpj:a.cpfCnpj,phone:a.phone,birthDate:a.birthDate,monthlyIncome:a.monthlyIncome,address:a.address,addressNumber:a.addressNumber,city:a.city,state:a.state,postalCode:a.postalCode,bankAccount:a.bankAccount})).success&&(S(!0),setTimeout(()=>{d("/provider/dashboard")},3e3))}catch(o){j(o.message||"Erro ao cadastrar prestador")}finally{x(!1)}};return F?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx(N,{className:"w-full max-w-md",children:e.jsx(v,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(G,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cadastro Concluído!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Sua conta foi criada com sucesso no sistema de pagamentos. Você já pode receber pagamentos dos seus clientes!"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-green-800",children:e.jsx("strong",{children:"Próximos passos:"})}),e.jsxs("ul",{className:"text-sm text-green-700 mt-2 space-y-1",children:[e.jsx("li",{children:"• Configure seus serviços"}),e.jsx("li",{children:"• Defina sua agenda"}),e.jsx("li",{children:"• Comece a receber agendamentos"})]})]}),e.jsx(h,{onClick:()=>d("/provider/dashboard"),className:"w-full",children:"Ir para o Dashboard"})]})})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(H,{className:"w-8 h-8 text-blue-600 mr-2"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Configurar Conta de Pagamentos"})]}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Complete seu cadastro para começar a receber pagamentos dos seus clientes. Seus dados estão seguros e serão usados apenas para processar pagamentos."})]}),e.jsxs(N,{children:[e.jsxs(P,{children:[e.jsxs(B,{className:"flex items-center",children:[e.jsx(k,{className:"w-5 h-5 mr-2"}),"Dados Pessoais"]}),e.jsx(T,{children:"Informações básicas para identificação"})]}),e.jsx(v,{children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[p&&e.jsxs(R,{variant:"destructive",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx(U,{children:p})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"Nome Completo *"}),e.jsx(t,{id:"name",value:a.name,onChange:s=>r("name",s.target.value),placeholder:"Seu nome completo",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:"Email *"}),e.jsx(t,{id:"email",type:"email",value:a.email,onChange:s=>r("email",s.target.value),placeholder:"seu@email.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"cpfCnpj",children:"CPF/CNPJ *"}),e.jsx(t,{id:"cpfCnpj",value:a.cpfCnpj,onChange:s=>r("cpfCnpj",s.target.value),placeholder:"000.000.000-00",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"phone",children:"Telefone"}),e.jsx(t,{id:"phone",value:a.phone,onChange:s=>r("phone",s.target.value),placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"birthDate",children:"Data de Nascimento *"}),e.jsx(t,{id:"birthDate",type:"date",value:a.birthDate,onChange:s=>r("birthDate",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"monthlyIncome",children:"Renda/Faturamento Mensal *"}),e.jsx(t,{id:"monthlyIncome",type:"number",min:"0",step:"0.01",value:a.monthlyIncome,onChange:s=>r("monthlyIncome",s.target.value),placeholder:"Ex: 3000.00",required:!0})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(k,{className:"w-5 h-5 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Endereço"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"address",children:"Endereço (Rua/Avenida) *"}),e.jsx(t,{id:"address",value:a.address,onChange:s=>r("address",s.target.value),placeholder:"Ex: Rua das Flores",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"addressNumber",children:"Número *"}),e.jsx(t,{id:"addressNumber",value:a.addressNumber,onChange:s=>r("addressNumber",s.target.value),placeholder:"Ex: 123",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"city",children:"Cidade *"}),e.jsx(t,{id:"city",value:a.city,onChange:s=>r("city",s.target.value),placeholder:"Ex: São Paulo",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"state",children:"Estado (UF) *"}),e.jsx(t,{id:"state",value:a.state,onChange:s=>r("state",s.target.value.toUpperCase()),placeholder:"Ex: SP",maxLength:2,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"postalCode",children:"CEP *"}),e.jsx(t,{id:"postalCode",value:a.postalCode,onChange:s=>r("postalCode",s.target.value),placeholder:"Ex: 01001000",required:!0})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(K,{className:"w-5 h-5 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Dados Bancários"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Estes dados são necessários para que você possa receber os pagamentos dos seus clientes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"bank",children:"Banco *"}),e.jsxs(f,{value:a.bankAccount.bank,onValueChange:s=>r("bankAccount.bank",s),children:[e.jsx(y,{children:e.jsx(A,{placeholder:"Selecione o banco"})}),e.jsx(D,{children:O.map(s=>e.jsx(u,{value:s.code,children:s.name},s.code))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"accountType",children:"Tipo de Conta *"}),e.jsxs(f,{value:a.bankAccount.accountType,onValueChange:s=>r("bankAccount.accountType",s),children:[e.jsx(y,{children:e.jsx(A,{})}),e.jsxs(D,{children:[e.jsx(u,{value:"CHECKING",children:"Conta Corrente"}),e.jsx(u,{value:"SAVINGS",children:"Conta Poupança"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"branchNumber",children:"Agência *"}),e.jsx(t,{id:"branchNumber",value:a.bankAccount.branchNumber,onChange:s=>r("bankAccount.branchNumber",s.target.value),placeholder:"0001",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"branchDigit",children:"Dígito da Agência"}),e.jsx(t,{id:"branchDigit",value:a.bankAccount.branchDigit,onChange:s=>r("bankAccount.branchDigit",s.target.value),placeholder:"0",maxLength:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"accountNumber",children:"Número da Conta *"}),e.jsx(t,{id:"accountNumber",value:a.bankAccount.accountNumber,onChange:s=>r("bankAccount.accountNumber",s.target.value),placeholder:"123456",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"accountDigit",children:"Dígito da Conta *"}),e.jsx(t,{id:"accountDigit",value:a.bankAccount.accountDigit,onChange:s=>r("bankAccount.accountDigit",s.target.value),placeholder:"7",maxLength:2,required:!0})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(C,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Como funciona o pagamento:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Cliente agenda e paga o serviço"}),e.jsx("li",{children:"• Taxa da plataforma (R$ 1,75) é descontada automaticamente"}),e.jsx("li",{children:"• Valor do serviço fica retido até confirmação"}),e.jsx("li",{children:"• Após serviço concluído, valor é liberado para sua conta"})]})]})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(h,{type:"button",variant:"outline",onClick:()=>d("/provider/dashboard"),className:"flex-1",disabled:m,children:"Cancelar"}),e.jsx(h,{type:"submit",className:"flex-1",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 mr-2 animate-spin"}),"Cadastrando..."]}):"Finalizar Cadastro"})]})]})})]})]})})}export{oe as default};
