import{m as D,r as x,a as R,u as p,R as $,j as e,t as N}from"./index-DlYle-HK.js";import{u as v,t as S,o as k,s as a,e as q}from"./zod-fz_9HGRu.js";import{I as r}from"./input-DSZJflgw.js";import{B as C}from"./button-0YWTsIWD.js";import{C as A}from"./circle-check-big-Cgf7H_gr.js";import{C as P}from"./calendar-DIqdCud3.js";import{M as T}from"./mail-yWIq0Q8L.js";import{L as u}from"./lock-CV3Pvfgf.js";import{E as g}from"./eye-off-80-P2Iir.js";import{E as f}from"./eye-B3LVCQcB.js";import{U as E}from"./user-geZPnD2Z.js";import{U as B}from"./users-kyBtF-jk.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=D("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),z=k({email:a().email({message:"Email inválido"}),password:a().min(6,{message:"Senha deve ter pelo menos 6 caracteres"})}),G=k({email:a().email({message:"Email inválido"}),password:a().min(6,{message:"Senha deve ter pelo menos 6 caracteres"}),confirmPassword:a(),name:a().min(1,{message:"Nome é obrigatório"}),phone:a().min(10,{message:"Telefone é obrigatório"}).regex(/^\d{10,15}$/,{message:"Telefone inválido"}),cpf:a().min(11,{message:"CPF é obrigatório"}),userType:q(["client","provider"])}).refine(l=>l.password===l.confirmPassword,{message:"As senhas não conferem",path:["confirmPassword"]});function se(){const[l,b]=x.useState("login"),[c,y]=x.useState(!1),[j,I]=x.useState(!1),[i,m]=x.useState(!1),[,w]=R(),{user:d,isLoading:h}=p();$.useEffect(()=>{if(d&&!h){const s=d.userType==="client"?"/client/dashboard":d.userType==="provider"?"/provider/dashboard":d.userType==="admin"?"/admin/dashboard":"/";w(s)}},[d,h,w]);const o=v({resolver:S(z),defaultValues:{email:"",password:""}}),t=v({resolver:S(G),defaultValues:{email:"",password:"",confirmPassword:"",name:"",phone:"",cpf:"",userType:"client"}});if(h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#58c9d1]/5 to-[#58c9d1]/10 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-[#58c9d1] mx-auto mb-3"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Verificando autenticação..."})]})});if(d)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#58c9d1]/5 to-[#58c9d1]/10 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-[#58c9d1] mx-auto mb-3"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Redirecionando..."})]})});async function L(s){m(!0);try{const{loginMutation:n}=p();await n.mutateAsync(s)}catch(n){N({title:"Erro ao entrar",description:n.message||"Verifique seus dados.",variant:"destructive"})}finally{m(!1)}}async function F(s){m(!0);try{const{confirmPassword:n,...M}=s,{registerMutation:V}=p();await V.mutateAsync(M)}catch(n){N({title:"Erro ao cadastrar",description:n.message||"Verifique seus dados.",variant:"destructive"})}finally{m(!1)}}return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-[#58c9d1]/5 to-[#58c9d1]/10 p-3",children:[e.jsxs("div",{className:"mb-4 w-full max-w-sm text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2 text-gray-900",children:"AgendoAI"}),e.jsx("p",{className:"text-sm mb-3 text-gray-600",children:"Revolucione seus agendamentos com IA"}),e.jsxs("div",{className:"flex justify-center gap-2 mb-3 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1 bg-[#58c9d1]/20 text-[#58c9d1] px-2 py-1 rounded-full font-medium",children:[e.jsx(A,{className:"h-3 w-3"})," Agendamento inteligente"]}),e.jsxs("span",{className:"flex items-center gap-1 bg-[#58c9d1]/20 text-[#58c9d1] px-2 py-1 rounded-full font-medium",children:[e.jsx(P,{className:"h-3 w-3"})," Gestão de agenda"]})]})]}),e.jsxs("div",{className:"w-full max-w-sm bg-white/95 backdrop-blur-sm rounded-xl border border-[#58c9d1]/20 shadow-lg p-4",children:[e.jsx("img",{src:"/AgendoAilogo.png",alt:"AgendoAI Logo",className:"h-12 w-auto mx-auto mb-4",style:{maxWidth:100}}),e.jsxs("div",{className:"flex w-full mb-4",children:[e.jsx("button",{className:`flex-1 py-2 rounded-l-lg text-sm font-medium transition-all duration-200 ${l==="login"?"bg-[#58c9d1] text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>b("login"),type:"button",children:"Entrar"}),e.jsx("button",{className:`flex-1 py-2 rounded-r-lg text-sm font-medium transition-all duration-200 ${l==="register"?"bg-[#58c9d1] text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>b("register"),type:"button",children:"Cadastrar"})]}),l==="login"?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1 text-center",children:"Bem-vindo de volta!"}),e.jsx("p",{className:"text-gray-600 mb-4 text-xs text-center",children:"Acesse sua conta para continuar"}),e.jsxs("form",{onSubmit:o.handleSubmit(L),className:"w-full space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:"email",placeholder:"E-mail",...o.register("email"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 text-sm",autoComplete:"email"}),e.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),o.formState.errors.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:o.formState.errors.email.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:c?"text":"password",placeholder:"Senha",...o.register("password"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 pr-10 text-sm",autoComplete:"current-password"}),e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#58c9d1] hover:text-gray-700 transition-colors",onClick:()=>y(s=>!s),tabIndex:-1,children:c?e.jsx(g,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})}),o.formState.errors.password&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:o.formState.errors.password.message})]}),e.jsx(C,{type:"submit",className:"w-full h-10 mt-2 bg-[#58c9d1] text-white font-medium shadow-md hover:bg-[#58c9d1]/90 transition-all",disabled:i,children:i?e.jsxs("span",{className:"flex items-center gap-2 justify-center text-sm",children:[e.jsx("span",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1 text-center",children:"Crie sua conta"}),e.jsx("p",{className:"text-gray-600 mb-4 text-xs text-center",children:"Desbloqueie benefícios exclusivos!"}),e.jsxs("form",{onSubmit:t.handleSubmit(F),className:"w-full space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:"email",placeholder:"E-mail",...t.register("email"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 text-sm",autoComplete:"email"}),e.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),t.formState.errors.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.formState.errors.email.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:"text",placeholder:"Nome",...t.register("name"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 text-sm",autoComplete:"name"}),e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),t.formState.errors.name&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.formState.errors.name.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:c?"text":"password",placeholder:"Senha",...t.register("password"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 pr-10 text-sm",autoComplete:"new-password"}),e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#58c9d1] hover:text-gray-700 transition-colors",onClick:()=>y(s=>!s),tabIndex:-1,children:c?e.jsx(g,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})}),t.formState.errors.password&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.formState.errors.password.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:j?"text":"password",placeholder:"Confirmar senha",...t.register("confirmPassword"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 pr-10 text-sm",autoComplete:"new-password"}),e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#58c9d1] hover:text-gray-700 transition-colors",onClick:()=>I(s=>!s),tabIndex:-1,children:j?e.jsx(g,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})}),t.formState.errors.confirmPassword&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.formState.errors.confirmPassword.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:"text",placeholder:"Telefone (DDD + número)",...t.register("phone"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 text-sm",autoComplete:"tel",maxLength:15,inputMode:"numeric"}),e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),t.formState.errors.phone&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.formState.errors.phone.message})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",className:`flex-1 py-2 rounded-lg text-xs font-medium border transition-all duration-200 ${t.watch("userType")==="client"?"border-[#58c9d1] bg-[#58c9d1] text-white shadow-md":"border-gray-300 bg-white text-gray-600 hover:bg-gray-50"}`,onClick:()=>t.setValue("userType","client"),children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(B,{className:"h-3 w-3"})," Cliente"]})}),e.jsx("button",{type:"button",className:`flex-1 py-2 rounded-lg text-xs font-medium border transition-all duration-200 ${t.watch("userType")==="provider"?"border-[#58c9d1] bg-[#58c9d1] text-white shadow-md":"border-gray-300 bg-white text-gray-600 hover:bg-gray-50"}`,onClick:()=>t.setValue("userType","provider"),children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(P,{className:"h-3 w-3"})," Prestador"]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{type:"text",placeholder:"CPF",...t.register("cpf"),className:"h-10 bg-white border border-[#58c9d1]/30 rounded-lg text-gray-900 placeholder:text-gray-500 focus:border-[#58c9d1] pl-10 text-sm",maxLength:18,autoComplete:"cpf"}),e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#58c9d1] h-4 w-4"}),t.formState.errors.cpf&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.formState.errors.cpf.message})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Ao continuar, você concorda com os ",e.jsx("span",{className:"underline cursor-pointer",children:"Termos do Serviço"})," e o ",e.jsx("span",{className:"underline cursor-pointer",children:"Aviso de Privacidade"}),"."]}),e.jsx(C,{type:"submit",className:"w-full h-10 mt-2 bg-[#58c9d1] text-white font-medium shadow-md hover:bg-[#58c9d1]/90 transition-all",disabled:i,children:i?e.jsxs("span",{className:"flex items-center gap-2 justify-center text-sm",children:[e.jsx("span",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Criando conta..."]}):e.jsxs("span",{className:"flex items-center gap-2 justify-center text-sm",children:["Criar conta ",e.jsx(A,{className:"h-3 w-3"})]})})]})]}),e.jsxs("div",{className:"w-full text-center mt-4 text-xs text-gray-400 font-medium",children:["© ",new Date().getFullYear()," AgendoAI. Todos os direitos reservados."]})]})]})}export{se as default};
