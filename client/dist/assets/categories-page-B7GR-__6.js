import{a as w,r as i,d,j as e,C as h,i as p}from"./index-BdrEJuYD.js";import{A as v}from"./app-header-HnU5DY7s.js";import{S as c}from"./skeleton-DyFVqEqB.js";import{A as y}from"./arrow-left-nRi6-7bo.js";import{B as b}from"./briefcase-DqJGIbgY.js";import{C as g}from"./chevron-right-DQzs9QCW.js";import"./avatar-YOIRMJBI.js";import"./badge-muy4ZFs4.js";import"./button-CynjWJoH.js";import"./dropdown-menu-DWmQMH9U.js";import"./index-YY5r1pln.js";import"./index-DTy3TPQv.js";import"./index-Bg9Ro7l2.js";import"./index-CeeqZ7YQ.js";import"./index-BoRtQnRr.js";import"./index-BYdWi_2u.js";import"./check-WTIUe9ha.js";import"./circle-CB07NW__.js";import"./proxy-C6NuY9h3.js";import"./bell-DPzU_a_S.js";import"./ellipsis-vertical-BhTX8B4K.js";import"./house-CU2aGGLt.js";import"./calendar-CiGw-_KP.js";import"./user-DCpoqoA-.js";import"./settings-Derag0Pt.js";import"./circle-help-cap19nX6.js";import"./message-square-kvDXS4V3.js";import"./log-out-9hU1A0cG.js";function Y(){const[n,o]=w(),[a,l]=i.useState(null),[x,m]=i.useState("Categorias");i.useEffect(()=>{const r=new URLSearchParams(n.split("?")[1]).get("nicheId");l(r?parseInt(r):null)},[n]);const{data:t}=d({queryKey:["/api/niches",a],queryFn:async()=>{if(!a)return null;const s=await fetch(`/api/niches/${a}`);if(!s.ok)throw new Error("Falha ao carregar nicho");return s.json()},enabled:!!a});i.useEffect(()=>{m(t?`Categorias em ${t.name}`:"Categorias")},[t]);const{data:u=[],isLoading:f}=d({queryKey:["/api/categories",a,"includeServices"],queryFn:async()=>{let s="/api/categories?includeServices=true";a&&(s+=`&nicheId=${a}`);const r=await fetch(s);if(!r.ok)throw new Error("Falha ao carregar categorias");return r.json()}}),j=(s,r)=>{o(`/client/booking/service/${s}`)},N=()=>{o("/client/niches")};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(v,{title:x,showBackButton:!0}),a&&e.jsx("div",{className:"px-4 py-2",children:e.jsxs("button",{className:"text-sm text-primary flex items-center",onClick:N,children:[e.jsx(y,{className:"h-4 w-4 mr-1"}),"Voltar para Nichos"]})}),e.jsx("div",{className:"p-2",children:f?e.jsx("div",{className:"space-y-2",children:[...Array(6)].map((s,r)=>e.jsx(h,{className:"border border-neutral-200",children:e.jsxs(p,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{className:"w-12 h-12 rounded-lg mr-3"}),e.jsx(c,{className:"h-6 w-24"})]}),e.jsx(c,{className:"h-6 w-6 rounded-full"})]})},r))}):e.jsx("div",{className:"space-y-2",children:u.map(s=>e.jsx(h,{className:"border border-neutral-200",children:e.jsxs(p,{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg mr-3 flex items-center justify-center",style:{backgroundColor:"#58c9d1"},children:s.icon?e.jsx("span",{className:"h-6 w-6 text-white flex items-center justify-center",children:e.jsx("i",{className:s.icon})}):e.jsx(b,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"font-medium",children:s.name})]})}),e.jsx("div",{className:"space-y-2",children:s.services&&Array.isArray(s.services)&&s.services.map(r=>e.jsx("button",{className:"w-full text-left",onClick:()=>j(r.id,s.id),children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white border border-gray-200 hover:border-primary hover:shadow-sm transition-all",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:r.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.duration," minutos"]})]}),e.jsx(g,{className:"h-5 w-5 text-neutral-400"})]})},r.id))})]})},s.id))})})]})}export{Y as default};
