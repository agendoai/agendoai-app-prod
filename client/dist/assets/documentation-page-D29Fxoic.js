import{m as p,j as s,C as e,f as r,g as a,h as l,i as d}from"./index-DFO2lo2s.js";import{A as u}from"./admin-layout-C3pKDCEc.js";import{T as N,a as b,b as c,c as n}from"./tabs-DdC9UF4F.js";import{T as g,b as v,c as t,d as j,e as f,f as i}from"./table-B8FpWq2u.js";import{A as y,a as m,b as o,c as x}from"./accordion-D8P3tvB7.js";import{B as h}from"./badge-DWGHGqHr.js";import{I as A}from"./info-Dr6QlzrX.js";import{U as S}from"./users-BzOlSFYN.js";import{L as T}from"./lock-XCq0dHTY.js";import"./navbar-BoNMuwo_.js";import"./proxy-BltBotVH.js";import"./house-sGd4nDnu.js";import"./search-CMPUhstB.js";import"./calendar-check-CDRCjfO9.js";import"./user-WwS7npix.js";import"./button-6IH7luFD.js";import"./avatar-CVSf1ztN.js";import"./dropdown-menu-ap6SW7g-.js";import"./index-BZw1vT_C.js";import"./index-BEl4sio8.js";import"./index-r8gFfIDH.js";import"./index-heHCkeO_.js";import"./index-CWnO1h2h.js";import"./index-zokK3oQV.js";import"./chevron-right-BpYdX1P5.js";import"./check-C4mt73Rm.js";import"./circle-AYNPgkgN.js";import"./settings-DgRwRsZF.js";import"./log-out-CXzoyitA.js";import"./dialog-eRBlhqVz.js";import"./index-O3IU6Cgx.js";import"./menu-Chrz4g6w.js";import"./bell-BMDILFyN.js";import"./arrow-left-DxjewkX7.js";import"./calendar-CXCri533.js";import"./trending-up-DBa8ujnj.js";import"./folder-tree-Dcw3zZgx.js";import"./credit-card-By0IdnTO.js";import"./share-2-BheqIbEr.js";import"./circle-help-HpEjPFgh.js";import"./book-open-BearcadJ.js";import"./chevron-down-Cj8L_1vh.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=p("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=p("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=p("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);function Ns(){return s.jsx(u,{children:s.jsxs("div",{className:"container py-8",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-6 flex items-center",children:[s.jsx(P,{className:"mr-2 h-8 w-8"}),"Documentação do Sistema"]}),s.jsxs(N,{defaultValue:"overview",children:[s.jsxs(b,{className:"mb-4",children:[s.jsxs(c,{value:"overview",className:"flex items-center",children:[s.jsx(A,{className:"mr-2 h-4 w-4"})," Visão Geral"]}),s.jsxs(c,{value:"users",className:"flex items-center",children:[s.jsx(S,{className:"mr-2 h-4 w-4"})," Usuários"]}),s.jsxs(c,{value:"security",className:"flex items-center",children:[s.jsx(T,{className:"mr-2 h-4 w-4"})," Segurança"]}),s.jsxs(c,{value:"database",className:"flex items-center",children:[s.jsx(k,{className:"mr-2 h-4 w-4"})," Banco de Dados"]}),s.jsxs(c,{value:"apis",className:"flex items-center",children:[s.jsx(C,{className:"mr-2 h-4 w-4"})," APIs"]})]}),s.jsx(n,{value:"overview",children:s.jsxs(e,{children:[s.jsxs(r,{children:[s.jsx(a,{children:"Visão Geral do Sistema"}),s.jsx(l,{children:"Funcionalidades principais e arquitetura"})]}),s.jsx(d,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Principais Recursos"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"Gestão de usuários (clientes, prestadores, admins)"}),s.jsx("li",{children:"Sistema de agendamentos em tempo real"}),s.jsx("li",{children:"Integração com Stripe para pagamentos"}),s.jsx("li",{children:"Sistema de avaliações e feedback"}),s.jsx("li",{children:"Notificações via WhatsApp e email"}),s.jsx("li",{children:"Dashboard com métricas e relatórios"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Tecnologias"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(e,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Frontend"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"React + TypeScript"}),s.jsx("li",{children:"TailwindCSS"}),s.jsx("li",{children:"Shadcn/ui"}),s.jsx("li",{children:"TanStack Query"})]})]}),s.jsxs(e,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Backend"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"Node.js + Express"}),s.jsx("li",{children:"WebSocket"}),s.jsx("li",{children:"PostgreSQL"}),s.jsx("li",{children:"Drizzle ORM"})]})]}),s.jsxs(e,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Integrações"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"Stripe"}),s.jsx("li",{children:"WhatsApp API"}),s.jsx("li",{children:"SendGrid"}),s.jsx("li",{children:"Push Notifications"})]})]})]})]})]})})]})}),s.jsx(n,{value:"users",children:s.jsxs(e,{children:[s.jsxs(r,{children:[s.jsx(a,{children:"Gestão de Usuários"}),s.jsx(l,{children:"Tipos de usuário e suas permissões"})]}),s.jsx(d,{children:s.jsxs(g,{children:[s.jsx(v,{children:s.jsxs(t,{children:[s.jsx(j,{children:"Tipo"}),s.jsx(j,{children:"Permissões"}),s.jsx(j,{children:"Restrições"})]})}),s.jsxs(f,{children:[s.jsxs(t,{children:[s.jsx(i,{children:"Cliente"}),s.jsx(i,{children:s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[s.jsx("li",{children:"Agendar serviços"}),s.jsx("li",{children:"Avaliar prestadores"}),s.jsx("li",{children:"Gerenciar perfil"})]})}),s.jsx(i,{children:s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[s.jsx("li",{children:"Sem acesso administrativo"}),s.jsx("li",{children:"Não edita outros perfis"})]})})]}),s.jsxs(t,{children:[s.jsx(i,{children:"Prestador"}),s.jsx(i,{children:s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[s.jsx("li",{children:"Gerenciar serviços"}),s.jsx("li",{children:"Configurar agenda"}),s.jsx("li",{children:"Ver histórico"})]})}),s.jsx(i,{children:s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[s.jsx("li",{children:"Acesso limitado ao painel"}),s.jsx("li",{children:"Não edita outros prestadores"})]})})]}),s.jsxs(t,{children:[s.jsx(i,{children:"Admin"}),s.jsx(i,{children:s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[s.jsx("li",{children:"Acesso total ao sistema"}),s.jsx("li",{children:"Gerencia usuários"}),s.jsx("li",{children:"Configura plataforma"})]})}),s.jsx(i,{children:s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[s.jsx("li",{children:"Não exclui último admin"}),s.jsx("li",{children:"Não acessa senhas"})]})})]})]})]})})]})}),s.jsx(n,{value:"security",children:s.jsxs(e,{children:[s.jsxs(r,{children:[s.jsx(a,{children:"Segurança"}),s.jsx(l,{children:"Medidas de segurança implementadas"})]}),s.jsx(d,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Autenticação"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"Criptografia de senhas com scrypt"}),s.jsx("li",{children:"Sessões seguras com express-session"}),s.jsx("li",{children:"Verificação de email"}),s.jsx("li",{children:"Proteção CSRF"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Logs de Autenticação"}),s.jsx("div",{className:"bg-muted p-4 rounded-md mb-4",children:s.jsx("pre",{className:"text-xs",children:`// Exemplo de log para auditoria no middleware de admin/suporte
Usuário {id} ({userType}) acessando rota de admin: {path}`})}),s.jsx("p",{className:"text-sm mb-2",children:"Os logs de autenticação registram todos os acessos a rotas protegidas, permitindo auditoria de segurança completa."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Permissões Cruzadas"}),s.jsx("div",{className:"bg-muted p-4 rounded-md mb-4",children:s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Admin:"})," Acesso total a todas as funcionalidades administrativas e de suporte"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Suporte:"})," Acesso a funcionalidades de suporte e acesso limitado a funções administrativas"]})]})}),s.jsxs("p",{className:"text-sm",children:["Os middlewares de autenticação ",s.jsx("code",{children:"isAdmin"})," e ",s.jsx("code",{children:"isSupport"})," estão configurados para permitir acesso bidirecional entre esses tipos de usuário, mantendo logs para auditoria."]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dados Sensíveis"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"Dados de pagamento não armazenados"}),s.jsx("li",{children:"HTTPS em produção"}),s.jsx("li",{children:"Validação com Zod"}),s.jsx("li",{children:"Logs de auditoria"})]})]})]})})]})}),s.jsx(n,{value:"database",children:s.jsxs(e,{children:[s.jsxs(r,{children:[s.jsx(a,{children:"Estrutura do Banco"}),s.jsx(l,{children:"Principais tabelas e relacionamentos"})]}),s.jsx(d,{children:s.jsxs(y,{type:"single",collapsible:!0,children:[s.jsxs(m,{value:"users",children:[s.jsx(o,{children:"Usuários"}),s.jsx(x,{children:s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-xs",children:`{
  id: number (PK),
  email: string (unique),
  name: string,
  userType: "client" | "provider" | "admin" | "support",
  isActive: boolean,
  isVerified: boolean
}`})})})]}),s.jsxs(m,{value:"services",children:[s.jsx(o,{children:"Serviços Atuais"}),s.jsxs(x,{children:[s.jsx("div",{className:"bg-muted p-4 rounded-md mb-2",children:s.jsx("pre",{className:"text-xs",children:`// services_templates (gerenciado por admin)
{
  id: number (PK),
  categoryId: number (FK),
  name: string,
  description: string,
  price: number (sugerido),
  duration: number (sugerido)
}`})}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-xs",children:`// provider_services (personalizados pelo prestador)
{
  id: number (PK),
  providerId: number (FK),
  serviceId: number (FK para template),
  price: number,
  execution_time: number,
  break_time: number
}`})})]})]}),s.jsxs(m,{value:"new-services",children:[s.jsx(o,{className:"text-primary font-medium",children:"Nova Estrutura Proposta"}),s.jsxs(x,{children:[s.jsx("p",{className:"text-sm mb-3",children:"Nova estrutura de serviços que separa claramente:"}),s.jsx("div",{className:"bg-muted p-4 rounded-md mb-2",children:s.jsx("pre",{className:"text-xs",children:`// base_services (gerenciado por admin)
{
  id: number (PK),
  categoryId: number (FK),
  name: string,
  description: string,
  suggestedPrice: number (opcional),
  suggestedDuration: number,
  isActive: boolean
}`})}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-xs",children:`// provider_portfolio (personalizado pelo prestador)
{
  id: number (PK),
  providerId: number (FK),
  baseServiceId: number (FK),
  price: number,
  duration: number,
  description: string (opcional),
  breakTime: number,
  isActive: boolean
}`})}),s.jsx("div",{className:"mt-3",children:s.jsxs("p",{className:"text-sm",children:["O plano de migração completo está em ",s.jsx("code",{children:"migration-plan.sql"})]})})]})]}),s.jsxs(m,{value:"appointments",children:[s.jsx(o,{children:"Agendamentos"}),s.jsx(x,{children:s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-xs",children:`{
  id: number (PK),
  clientId: number (FK),
  providerId: number (FK),
  serviceId: number (FK),
  date: Date,
  startTime: string,
  endTime: string,
  status: string,
  paymentStatus: string,
  paymentMethod: string
}`})})})]})]})})]})}),s.jsx(n,{value:"apis",children:s.jsxs(e,{children:[s.jsxs(r,{children:[s.jsx(a,{children:"Integrações"}),s.jsx(l,{children:"APIs externas integradas"})]}),s.jsx(d,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(e,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Stripe"}),s.jsx(h,{className:"mb-2",children:"Pagamentos"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"Processamento de pagamentos"}),s.jsx("li",{children:"Split payments"}),s.jsx("li",{children:"Webhooks"})]})]}),s.jsxs(e,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"WhatsApp"}),s.jsx(h,{className:"mb-2",children:"Comunicação"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"Notificações"}),s.jsx("li",{children:"Chat direto"}),s.jsx("li",{children:"Confirmações"})]})]}),s.jsxs(e,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"SendGrid"}),s.jsx(h,{className:"mb-2",children:"Email"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"Verificação de email"}),s.jsx("li",{children:"Notificações"}),s.jsx("li",{children:"Marketing"})]})]}),s.jsxs(e,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Push"}),s.jsx(h,{className:"mb-2",children:"Notificações"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"Notificações em tempo real"}),s.jsx("li",{children:"Service Worker"}),s.jsx("li",{children:"Offline support"})]})]})]})})]})})]})]})})}export{Ns as default};
