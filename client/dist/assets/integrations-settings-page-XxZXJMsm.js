import{j as e}from"./ui-UIpCtT3r.js";import{r}from"./vendor-vA4cx1mx.js";import{u as ne}from"./router-CxXythJb.js";import{j as J,b as X,c as re,C as M,d as F,e as B,f as D,g as O,q as ie,i as g}from"./index-BJ9Cw0LR.js";import{u as E}from"./useMutation-CDdW0pzE.js";import{u as oe,t as le,o as de,b as P,s as h}from"./zod-BPPSwYm9.js";import{B as x}from"./button-BvsVcTDx.js";import{I as m}from"./input-CNw_l4dQ.js";import{L as ce}from"./label-qfvszZNj.js";import{T as me,a as pe,b as q,c as L}from"./tabs-0uPJ4FVU.js";import{F as he,a as i,b as o,c as l,f as d,d as c,e as u}from"./form-Cf7t4W3I.js";import{S as I}from"./switch-BjwSyAKP.js";import{A as ue}from"./admin-layout-I_J5o8A_.js";import{A as xe}from"./arrow-left-EWHBe2nW.js";import{M as R}from"./mail-CWCa77eK.js";import{B as U}from"./bell-vRE7a1ng.js";import{M as je}from"./message-circle-DReStHpm.js";import{E as z}from"./eye-off-D02LmxDM.js";import{E as H}from"./eye-B-pO_WB7.js";import{R as K}from"./refresh-cw-CHjwlvH4.js";import{K as be}from"./key-IeO_9d7Q.js";import{M as fe}from"./message-square-8xU1RYWw.js";import{S as ge}from"./save-DEXi9IVe.js";import{U as ve}from"./user-C2y4PfJ8.js";import{S as ye}from"./send-oszBgKEz.js";import"./index-BH3L9zMK.js";import"./navbar-YJYqy7V_.js";import"./proxy-Bw6ASuXk.js";import"./house-CCMYCVaH.js";import"./search-ByWcnwgm.js";import"./calendar-check-DUwfC2Eu.js";import"./badge-BQpU5zw7.js";import"./avatar-DEanbPY_.js";import"./dropdown-menu-Dyfg7Gk4.js";import"./chevron-right-CATzdtP3.js";import"./check-ZbxB06uW.js";import"./circle-CxgECyF4.js";import"./settings-WRZm2y6w.js";import"./log-out-CdVFLkWN.js";import"./dialog-BlryVO8p.js";import"./menu-B7gXVrLX.js";import"./users-ZhvK7Ip9.js";import"./calendar-tibBNAR3.js";import"./trending-up-BcBXLPRG.js";import"./folder-tree-Duy3Amda.js";import"./credit-card-CO61cKh_.js";import"./share-2-B19OuGMQ.js";import"./circle-help-CxLgceap.js";import"./book-open-Esw08_-n.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=J("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=J("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Ne=de({sendGridEnabled:P().optional(),sendGridApiKey:h().optional(),pushNotificationsEnabled:P().optional(),vapidPublicKey:h().optional(),vapidPrivateKey:h().optional(),whatsappEnabled:P().optional(),whatsappApiKey:h().optional(),whatsappPhoneNumberId:h().optional(),whatsappVerifyToken:h().optional(),whatsappBusinessId:h().optional(),whatsappChatbotEnabled:P().optional(),whatsappChatbotWelcomeMessage:h().optional(),whatsappChatbotSchedulingEnabled:P().optional()});function we(){const[p,n]=r.useState(""),[v,G]=r.useState("5511999999999"),[j,k]=r.useState([]),[b,A]=r.useState(!1),[y,S]=r.useState(!1),{toast:N}=X(),f=r.useRef(null),T=E({mutationFn:async({message:a,phoneNumber:C})=>(await g("POST","/api/admin/integrations-settings/test-chatbot",{message:a,phoneNumber:C})).json(),onSuccess:a=>{a.success?(k(C=>[...C,{type:"bot",content:a.botResponse}]),N({title:"Estado da sessão: "+a.sessionState,description:"Teste do chatbot realizado com sucesso",duration:3e3})):N({title:"Falha no teste do chatbot",description:a.message||"Ocorreu um erro ao testar o chatbot.",variant:"destructive"}),A(!1),n("")},onError:a=>{N({title:"Erro no teste do chatbot",description:a.message||"Ocorreu um erro ao testar o chatbot.",variant:"destructive"}),A(!1)}});r.useEffect(()=>{f.current&&f.current.scrollIntoView({behavior:"smooth"})},[j]);const w=()=>{p.trim()&&(k(a=>[...a,{type:"user",content:p}]),A(!0),T.mutate({message:p,phoneNumber:v}))};return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Chat de Teste"}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>S(!y),children:y?"Ocultar Config":"Configurar"})]}),y&&e.jsxs("div",{className:"mb-4 p-3 bg-slate-50 rounded-md",children:[e.jsx(ce,{htmlFor:"test-phone",className:"text-sm mb-1 block",children:"Número de telefone para teste"}),e.jsx(m,{id:"test-phone",value:v,onChange:a=>G(a.target.value),placeholder:"Ex: 5511999999999",className:"mb-2"}),e.jsx("p",{className:"text-xs text-slate-500",children:"O telefone é usado apenas para simular uma sessão de usuário."})]}),e.jsx("div",{className:"border rounded-md p-3 h-64 overflow-y-auto mb-4 bg-slate-50",children:j.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[e.jsx(Q,{className:"h-8 w-8 mb-2"}),e.jsx("p",{className:"text-sm",children:"Envie uma mensagem para começar o teste"})]}):e.jsxs(e.Fragment,{children:[j.map((a,C)=>e.jsxs("div",{className:`mb-2 p-2 rounded-lg max-w-[80%] ${a.type==="user"?"bg-blue-100 ml-auto text-right":"bg-white border"}`,children:[e.jsx("div",{className:"flex items-center mb-1",children:a.type==="user"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs font-medium text-blue-600 mr-1",children:"Você"}),e.jsx(ve,{className:"h-3 w-3 text-blue-600"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"h-3 w-3 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs font-medium text-green-600",children:"Chatbot"})]})}),e.jsx("p",{className:"text-sm",children:a.content})]},C)),e.jsx("div",{ref:f})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{value:p,onChange:a=>n(a.target.value),placeholder:"Digite uma mensagem para testar o chatbot...",onKeyDown:a=>a.key==="Enter"&&w(),disabled:b}),e.jsx(x,{onClick:w,disabled:b||!p.trim(),children:b?e.jsx(K,{className:"h-4 w-4 animate-spin"}):e.jsx(ye,{className:"h-4 w-4"})})]})]})}function gs(){const[,p]=ne(),{toast:n}=X(),[v,G]=r.useState(!1),[j,k]=r.useState(!1),[b,A]=r.useState(!1),[y,S]=r.useState(!1),[N,f]=r.useState(!1),[T,w]=r.useState(!1),{data:a,isLoading:C}=re({queryKey:["/api/admin/integrations-settings"],queryFn:async()=>{try{return await(await g("GET","/api/admin/integrations-settings")).json()}catch(s){return console.error("Error fetching integration settings:",s),{sendGridEnabled:!1,pushNotificationsEnabled:!1,whatsappEnabled:!1}}}}),t=oe({resolver:le(Ne),defaultValues:{sendGridEnabled:!1,sendGridApiKey:"",pushNotificationsEnabled:!1,vapidPublicKey:"",vapidPrivateKey:"",whatsappEnabled:!1,whatsappApiKey:"",whatsappPhoneNumberId:"",whatsappVerifyToken:"",whatsappBusinessId:"",whatsappChatbotEnabled:!1,whatsappChatbotWelcomeMessage:"Olá! Bem-vindo ao AgendoAI. Como posso ajudar você hoje?",whatsappChatbotSchedulingEnabled:!1}});r.useEffect(()=>{a&&t.reset({sendGridEnabled:a.sendGridEnabled||!1,sendGridApiKey:a.sendGridApiKey||"",pushNotificationsEnabled:a.pushNotificationsEnabled||!1,vapidPublicKey:a.vapidPublicKey||"",vapidPrivateKey:a.vapidPrivateKey||"",whatsappEnabled:a.whatsappEnabled||!1,whatsappApiKey:a.whatsappApiKey||"",whatsappPhoneNumberId:a.whatsappPhoneNumberId||"",whatsappVerifyToken:a.whatsappVerifyToken||"",whatsappBusinessId:a.whatsappBusinessId||"",whatsappChatbotEnabled:a.whatsappChatbotEnabled||!1,whatsappChatbotWelcomeMessage:a.whatsappChatbotWelcomeMessage||"Olá! Bem-vindo ao AgendoAI. Como posso ajudar você hoje?",whatsappChatbotSchedulingEnabled:a.whatsappChatbotSchedulingEnabled||!1})},[a,t]);const W=E({mutationFn:async s=>a!=null&&a.id?(await g("PUT",`/api/admin/integrations-settings/${a.id}`,s)).json():(await g("POST","/api/admin/integrations-settings",s)).json(),onSuccess:()=>{ie.invalidateQueries({queryKey:["/api/admin/integrations-settings"]}),n({title:"Configurações salvas",description:"As configurações de integração foram atualizadas com sucesso."})},onError:s=>{n({title:"Erro ao salvar configurações",description:s.message||"Ocorreu um erro ao salvar as configurações.",variant:"destructive"})}}),Y=E({mutationFn:async()=>(await g("POST","/api/push/generate-keys")).json(),onSuccess:s=>{t.setValue("vapidPublicKey",s.publicKey),t.setValue("vapidPrivateKey",s.privateKey),n({title:"Chaves VAPID geradas",description:"As chaves foram geradas com sucesso. Clique em Salvar para armazená-las."}),S(!1)},onError:s=>{n({title:"Erro ao gerar chaves VAPID",description:s.message||"Ocorreu um erro ao gerar as chaves VAPID.",variant:"destructive"}),S(!1)}}),Z=E({mutationFn:async()=>(await g("POST","/api/admin/test-sendgrid",{apiKey:t.getValues("sendGridApiKey")})).json(),onSuccess:s=>{s.success?n({title:"Teste bem-sucedido",description:"A conexão com SendGrid foi testada com sucesso."}):n({title:"Falha no teste",description:s.message||"O teste de conexão com SendGrid falhou.",variant:"destructive"}),f(!1)},onError:s=>{n({title:"Erro no teste de SendGrid",description:s.message||"Ocorreu um erro ao testar a conexão com SendGrid.",variant:"destructive"}),f(!1)}}),_=E({mutationFn:async()=>(await g("POST","/api/admin/integrations-settings/test-whatsapp",{apiKey:t.getValues("whatsappApiKey"),phoneNumberId:t.getValues("whatsappPhoneNumberId")})).json(),onSuccess:s=>{s.success?n({title:"Teste bem-sucedido",description:"A conexão com a API do WhatsApp foi verificada com sucesso."}):n({title:"Falha no teste",description:s.message||"O teste de conexão com a API do WhatsApp falhou.",variant:"destructive"}),w(!1)},onError:s=>{n({title:"Erro no teste da API do WhatsApp",description:s.message||"Ocorreu um erro ao testar a conexão com a API do WhatsApp.",variant:"destructive"}),w(!1)}}),ee=s=>{W.mutate(s)},se=()=>{S(!0),Y.mutate()},ae=()=>{if(!t.getValues("sendGridApiKey")){n({title:"Chave API não fornecida",description:"Por favor, insira uma chave de API SendGrid antes de testar.",variant:"destructive"});return}f(!0),Z.mutate()},te=()=>{const s=t.getValues("whatsappApiKey"),V=t.getValues("whatsappPhoneNumberId");if(!s||!V){n({title:"Informações incompletas",description:"Por favor, insira a chave de API e o ID do número de telefone do WhatsApp antes de testar.",variant:"destructive"});return}w(!0),_.mutate()};return e.jsx(ue,{children:e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>p("/admin/dashboard"),className:"mr-2",children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Voltar"]}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Configurações de Integrações"})]})}),e.jsxs(me,{defaultValue:"email",children:[e.jsxs(pe,{className:"grid w-full grid-cols-1 sm:grid-cols-3",children:[e.jsxs(q,{value:"email",className:"text-xs sm:text-sm",children:[e.jsx(R,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Email (SendGrid)"}),e.jsx("span",{className:"sm:hidden",children:"Email"})]}),e.jsxs(q,{value:"notifications",className:"text-xs sm:text-sm",children:[e.jsx(U,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Notificações Push"}),e.jsx("span",{className:"sm:hidden",children:"Push"})]}),e.jsxs(q,{value:"whatsapp",className:"text-xs sm:text-sm",children:[e.jsx(je,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"}),e.jsx("span",{className:"sm:hidden",children:"WhatsApp"})]})]}),e.jsx(he,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(ee),children:[e.jsx(L,{value:"email",className:"mt-4",children:e.jsxs(M,{children:[e.jsxs(F,{children:[e.jsxs(B,{className:"flex items-center",children:[e.jsx(R,{className:"h-5 w-5 mr-2"}),"Integração com SendGrid"]}),e.jsx(D,{children:"Configure a integração com SendGrid para enviar emails transacionais."})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsx(i,{control:t.control,name:"sendGridEnabled",render:({field:s})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base",children:"Ativar integração SendGrid"}),e.jsx(d,{children:"Habilite para enviar emails transacionais via SendGrid."})]}),e.jsx(c,{children:e.jsx(I,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:t.control,name:"sendGridApiKey",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Chave de API SendGrid"}),e.jsxs("div",{className:"flex",children:[e.jsx(c,{children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(m,{...s,type:j?"text":"password",placeholder:"Insira sua chave de API SendGrid",className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>k(!j),className:"absolute inset-y-0 right-0 flex items-center px-3",children:j?e.jsx(z,{className:"h-4 w-4 text-gray-500"}):e.jsx(H,{className:"h-4 w-4 text-gray-500"})})]})}),e.jsxs(x,{type:"button",variant:"outline",size:"sm",className:"ml-2",onClick:ae,disabled:N||!t.getValues("sendGridApiKey"),children:[N?e.jsx(K,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx($,{className:"h-4 w-4 mr-2"}),"Testar"]})]}),e.jsx(d,{children:"Você pode obter esta chave no painel de administração do SendGrid."}),e.jsx(u,{})]})})]})]})}),e.jsx(L,{value:"notifications",className:"mt-4",children:e.jsxs(M,{children:[e.jsxs(F,{children:[e.jsxs(B,{className:"flex items-center",children:[e.jsx(U,{className:"h-5 w-5 mr-2"}),"Notificações Push"]}),e.jsx(D,{children:"Configure as chaves VAPID para habilitar notificações push nos navegadores."})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsx(i,{control:t.control,name:"pushNotificationsEnabled",render:({field:s})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base",children:"Ativar notificações push"}),e.jsx(d,{children:"Habilite para enviar notificações push para os navegadores dos usuários."})]}),e.jsx(c,{children:e.jsx(I,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(x,{type:"button",variant:"outline",onClick:se,disabled:y,children:[y?e.jsx(K,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(be,{className:"h-4 w-4 mr-2"}),"Gerar Chaves VAPID"]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(i,{control:t.control,name:"vapidPublicKey",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Chave Pública VAPID"}),e.jsx(c,{children:e.jsx(m,{...s,placeholder:"Chave pública VAPID"})}),e.jsx(d,{children:"Esta chave é usada pelos navegadores para autenticar notificações."}),e.jsx(u,{})]})}),e.jsx(i,{control:t.control,name:"vapidPrivateKey",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Chave Privada VAPID"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{children:e.jsx(m,{...s,type:v?"text":"password",placeholder:"Chave privada VAPID",className:"pr-10"})}),e.jsx("button",{type:"button",onClick:()=>G(!v),className:"absolute inset-y-0 right-0 flex items-center px-3",children:v?e.jsx(z,{className:"h-4 w-4 text-gray-500"}):e.jsx(H,{className:"h-4 w-4 text-gray-500"})})]}),e.jsx(d,{children:"Esta chave deve ser mantida em segurança. Nunca compartilhe ou exponha no frontend."}),e.jsx(u,{})]})})]})]})]})}),e.jsx(L,{value:"whatsapp",className:"mt-4",children:e.jsxs(M,{children:[e.jsxs(F,{children:[e.jsxs(B,{className:"flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 mr-2"}),"Integração com WhatsApp"]}),e.jsx(D,{children:"Configure a integração com a API do WhatsApp Business para enviar mensagens."})]}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border p-4 pb-5",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configurações da API"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{control:t.control,name:"whatsappEnabled",render:({field:s})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base",children:"Ativar integração WhatsApp"}),e.jsx(d,{children:"Habilite para enviar mensagens via WhatsApp Business API."})]}),e.jsx(c,{children:e.jsx(I,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:t.control,name:"whatsappApiKey",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Token de Acesso WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{children:e.jsx(m,{...s,type:b?"text":"password",placeholder:"Token de acesso da API WhatsApp Business",className:"pr-10"})}),e.jsx("button",{type:"button",onClick:()=>A(!b),className:"absolute inset-y-0 right-0 flex items-center px-3",children:b?e.jsx(z,{className:"h-4 w-4 text-gray-500"}):e.jsx(H,{className:"h-4 w-4 text-gray-500"})})]}),e.jsx(d,{children:"Token de acesso permanente obtido no Facebook Developer Portal."}),e.jsx(u,{})]})}),e.jsx(i,{control:t.control,name:"whatsappPhoneNumberId",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"ID do Número de Telefone"}),e.jsxs("div",{className:"flex",children:[e.jsx(c,{children:e.jsx(m,{...s,placeholder:"ID do número de telefone WhatsApp Business"})}),e.jsxs(x,{type:"button",variant:"outline",size:"sm",className:"ml-2",onClick:te,disabled:T||!t.getValues("whatsappApiKey")||!t.getValues("whatsappPhoneNumberId"),children:[T?e.jsx(K,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx($,{className:"h-4 w-4 mr-2"}),"Testar Conexão"]})]}),e.jsx(d,{children:"ID do número de telefone registrado na API do WhatsApp Business."}),e.jsx(u,{})]})}),e.jsx(i,{control:t.control,name:"whatsappVerifyToken",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Token de Verificação do Webhook"}),e.jsx(c,{children:e.jsx(m,{...s,placeholder:"Token para verificação de segurança do webhook"})}),e.jsx(d,{children:"Token de verificação usado para autenticar as chamadas de webhook do WhatsApp."}),e.jsx(u,{})]})}),e.jsx(i,{control:t.control,name:"whatsappBusinessId",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"ID do WhatsApp Business"}),e.jsx(c,{children:e.jsx(m,{...s,placeholder:"ID da conta WhatsApp Business"})}),e.jsx(d,{children:"ID da sua conta no WhatsApp Business."}),e.jsx(u,{})]})})]})]}),e.jsxs("div",{className:"rounded-lg border p-4 pb-5",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configurações do Chatbot"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{control:t.control,name:"whatsappChatbotEnabled",render:({field:s})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base",children:"Ativar Chatbot WhatsApp"}),e.jsx(d,{children:"Habilite o chatbot inteligente para atendimento e agendamentos pelo WhatsApp."})]}),e.jsx(c,{children:e.jsx(I,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:t.control,name:"whatsappChatbotWelcomeMessage",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Mensagem de Boas-Vindas"}),e.jsx(c,{children:e.jsx("textarea",{...s,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Mensagem que será enviada ao iniciar uma conversa"})}),e.jsx(d,{children:"Mensagem de boas-vindas enviada pelo chatbot ao iniciar uma conversa."}),e.jsx(u,{})]})}),e.jsx(i,{control:t.control,name:"whatsappChatbotSchedulingEnabled",render:({field:s})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base",children:"Permitir Agendamentos pelo Chatbot"}),e.jsx(d,{children:"Habilite para permitir que clientes façam agendamentos diretamente pelo WhatsApp."})]}),e.jsx(c,{children:e.jsx(I,{checked:s.value,onCheckedChange:s.onChange})})]})}),t.watch("whatsappChatbotEnabled")&&e.jsxs("div",{className:"mt-6 border rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Testar Chatbot"}),e.jsx("div",{className:"space-y-4",children:e.jsx(we,{})})]})]})]})]})]})}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-4",children:[e.jsx(x,{variant:"outline",type:"button",onClick:()=>p("/admin/dashboard"),children:"Cancelar"}),e.jsx(x,{type:"submit",disabled:W.isPending,children:W.isPending?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),"Salvar Configurações"]})})]})]})})]})]})})}export{gs as default};
