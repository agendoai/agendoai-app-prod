import{a as u,r as x,j as e,c as h}from"./index-DlYle-HK.js";import{u as p,t as f,o as j,s as v}from"./zod-fz_9HGRu.js";import{B as c}from"./button-0YWTsIWD.js";import{F as b,a as N,b as g,c as w,d as y,e as F}from"./form-0_ean7KV.js";import{I as S}from"./input-DSZJflgw.js";import{S as d}from"./separator-DFxxhpCE.js";import{C as E}from"./chevron-left-D6TwQ2r-.js";import{M as C}from"./mail-yWIq0Q8L.js";import"./label-ClF4Xt_H.js";function I({to:s,label:t="Voltar",variant:r="ghost",size:i="default",className:a=""}){const[,o]=u(),l=x.useCallback(()=>{s?o(s):window.history.back()},[s,o]);return e.jsxs(c,{variant:r,size:i,onClick:l,className:`${a}`,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),t]})}const L=j({email:v().email({message:"Email inválido"})});function O(){const[,s]=u(),{toast:t}=h(),[r,i]=x.useState(!1),a=p({resolver:f(L),defaultValues:{email:""}}),o=async n=>{i(!0);try{await new Promise(m=>setTimeout(m,1e3)),t({title:"Email enviado",description:"Verifique sua caixa de entrada para redefinir sua senha."}),s("/email-verification")}catch{t({title:"Erro",description:"Não foi possível enviar o email de recuperação. Tente novamente.",variant:"destructive"})}finally{i(!1)}},l=()=>{s("/auth")};return e.jsxs("div",{className:"h-screen bg-white px-6 pt-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(I,{to:"/auth"}),e.jsx("div",{})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:"/logo-new.png",alt:"AgendoAI Logo",className:"h-24 object-contain",onError:n=>{n.currentTarget.src="https://via.placeholder.com/96?text=AgendoAI"}})}),e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Recupere sua senha!"}),e.jsx("p",{className:"text-neutral-600 mb-8",children:"Insira o e-mail associado à sua conta e enviaremos um e-mail com instruções para redefinir sua senha."}),e.jsx(b,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-8",children:[e.jsx(N,{control:a.control,name:"email",render:({field:n})=>e.jsxs(g,{children:[e.jsxs(w,{children:["E-mail ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(y,{children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{placeholder:"seu@email.com",...n,className:"pl-10"}),e.jsx(C,{className:"absolute left-3 top-3 text-neutral-400 h-5 w-5"})]})}),e.jsx(F,{})]})}),e.jsx(c,{type:"submit",className:"w-full",disabled:r,children:r?"Enviando...":"Receber instruções"})]})}),e.jsxs("div",{className:"mt-10 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(d,{className:"flex-grow"}),e.jsx("span",{className:"px-4 text-neutral-500 text-sm",children:"Ou"}),e.jsx(d,{className:"flex-grow"})]}),e.jsx(c,{variant:"outline",className:"w-full",onClick:l,children:"Acessar conta"})]})]})}export{O as default};
