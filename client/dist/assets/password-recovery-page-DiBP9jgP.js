import{j as e}from"./ui-UIpCtT3r.js";import{r as u}from"./vendor-vA4cx1mx.js";import{u as x}from"./router-CxXythJb.js";import{u as p,t as f,o as h,s as j}from"./zod-BPPSwYm9.js";import{B as c,b as v}from"./index-DyNThJGx.js";import{F as b,a as N,b as g,c as w,d as y,e as F}from"./form-BhR49_6F.js";import{I as S}from"./input-Cpt0D0t5.js";import{S as d}from"./separator-BO2ZN1UN.js";import{C as E}from"./chevron-left-BADql8Jf.js";import{M as C}from"./mail-Cwaqlbea.js";import"./label-BRQ1ms59.js";function I({to:s,label:t="Voltar",variant:r="ghost",size:o="default",className:a=""}){const[,i]=x(),l=u.useCallback(()=>{s?i(s):window.history.back()},[s,i]);return e.jsxs(c,{variant:r,size:o,onClick:l,className:`${a}`,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),t]})}const L=h({email:j().email({message:"Email inválido"})});function z(){const[,s]=x(),{toast:t}=v(),[r,o]=u.useState(!1),a=p({resolver:f(L),defaultValues:{email:""}}),i=async n=>{o(!0);try{await new Promise(m=>setTimeout(m,1e3)),t({title:"Email enviado",description:"Verifique sua caixa de entrada para redefinir sua senha."}),s("/email-verification")}catch{t({title:"Erro",description:"Não foi possível enviar o email de recuperação. Tente novamente.",variant:"destructive"})}finally{o(!1)}},l=()=>{s("/auth")};return e.jsxs("div",{className:"h-screen bg-white px-6 pt-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(I,{to:"/auth"}),e.jsx("div",{})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:"/logo-new.png",alt:"AgendoAI Logo",className:"h-24 object-contain",onError:n=>{n.currentTarget.src="https://via.placeholder.com/96?text=AgendoAI"}})}),e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Recupere sua senha!"}),e.jsx("p",{className:"text-neutral-600 mb-8",children:"Insira o e-mail associado à sua conta e enviaremos um e-mail com instruções para redefinir sua senha."}),e.jsx(b,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-8",children:[e.jsx(N,{control:a.control,name:"email",render:({field:n})=>e.jsxs(g,{children:[e.jsxs(w,{children:["E-mail ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(y,{children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{placeholder:"seu@email.com",...n,className:"pl-10"}),e.jsx(C,{className:"absolute left-3 top-3 text-neutral-400 h-5 w-5"})]})}),e.jsx(F,{})]})}),e.jsx(c,{type:"submit",className:"w-full",disabled:r,children:r?"Enviando...":"Receber instruções"})]})}),e.jsxs("div",{className:"mt-10 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(d,{className:"flex-grow"}),e.jsx("span",{className:"px-4 text-neutral-500 text-sm",children:"Ou"}),e.jsx(d,{className:"flex-grow"})]}),e.jsx(c,{variant:"outline",className:"w-full",onClick:l,children:"Acessar conta"})]})]})}export{z as default};
