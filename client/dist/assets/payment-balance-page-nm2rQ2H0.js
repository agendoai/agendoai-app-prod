import{j as e}from"./ui-UIpCtT3r.js";import{r as t}from"./vendor-vA4cx1mx.js";import{u as I}from"./router-CxXythJb.js";import{u as P,L as d,C as c,g as l,m as N,B as m,a2 as T,d as x,e as h,f as y,a5 as L,a6 as F}from"./index-DMVSlINz.js";import{B as V}from"./badge-CIXRfmkI.js";import{A as v,a as C}from"./alert-93oPSpR2.js";import{B as $}from"./banknote-B7RGdfb5.js";import{D as q}from"./dollar-sign-ByvZRex2.js";import{T as z}from"./trending-up-BatoiHQK.js";import{C as G}from"./credit-card-DTBtIUOk.js";import{C as H}from"./clock-DluLCsci.js";import{C as O}from"./circle-check-big-CXpzSzX6.js";const K=[{code:"001",name:"Banco do Brasil"},{code:"104",name:"Caixa Econômica Federal"},{code:"033",name:"Santander"},{code:"341",name:"Itaú"},{code:"237",name:"Bradesco"},{code:"756",name:"Sicoob"},{code:"748",name:"Sicredi"},{code:"212",name:"Banco Original"},{code:"077",name:"Inter"},{code:"260",name:"Nubank"}];function te(){var b;const[,w]=I(),{user:o}=P(),[A,k]=t.useState(!0),[i,g]=t.useState(!1),[u,j]=t.useState(null),[r,B]=t.useState(null),[a,D]=t.useState(null),f=async()=>{try{j(null);const s=await L((o==null?void 0:o.id)||0);if(s.success){D(s.provider);const n=await F(s.provider.id);n.success&&B(n)}}catch(s){j(s.message||"Erro ao carregar dados")}finally{k(!1)}},p=async()=>{g(!0),await f(),g(!1)};t.useEffect(()=>{f()},[]);const S=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),R=s=>{const n=K.find(E=>E.code===s);return n?n.name:s};return A?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),e.jsx("p",{className:"text-gray-600",children:"Carregando dados de pagamento..."})]})}):u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx(c,{className:"w-full max-w-md",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Erro ao carregar dados"}),e.jsx("p",{className:"text-gray-600 mb-4",children:u}),e.jsx(m,{onClick:p,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4 mr-2 animate-spin"}),"Tentando novamente..."]}):"Tentar novamente"})]})})})}):a?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx(q,{className:"w-8 h-8 mr-3 text-green-600"}),"Meus Pagamentos"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie seus recebimentos e consulte seu saldo"})]}),e.jsx(m,{onClick:p,disabled:i,variant:"outline",children:i?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4 mr-2 animate-spin"}),"Atualizando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Atualizar"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(c,{className:"lg:col-span-1",children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2 text-green-600"}),"Saldo Disponível"]}),e.jsx(y,{children:"Valor disponível para saque"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:r?S(r.balance):"R$ 0,00"}),e.jsxs(V,{variant:"secondary",className:"text-sm",children:["Wallet ID: ",(b=r==null?void 0:r.walletId)==null?void 0:b.slice(0,8),"..."]})]})]}),e.jsxs(c,{className:"lg:col-span-2",children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(G,{className:"w-5 h-5 mr-2 text-blue-600"}),"Dados da Conta"]}),e.jsx(y,{children:"Informações bancárias para recebimento"})]}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Banco"}),e.jsx("p",{className:"text-gray-900",children:R(a.bankAccount.bank)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo de Conta"}),e.jsx("p",{className:"text-gray-900",children:a.bankAccount.accountType==="CHECKING"?"Conta Corrente":"Conta Poupança"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Agência"}),e.jsxs("p",{className:"text-gray-900",children:[a.bankAccount.branchNumber,a.bankAccount.branchDigit&&`-${a.bankAccount.branchDigit}`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conta"}),e.jsxs("p",{className:"text-gray-900",children:[a.bankAccount.accountNumber,"-",a.bankAccount.accountDigit]})]})]})})]})]}),e.jsxs(c,{className:"mb-8",children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2 text-orange-600"}),"Como funciona o pagamento"]})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-sm font-bold",children:"1"}),e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Cliente agenda"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cliente agenda e paga o serviço"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-sm font-bold",children:"2"}),e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Taxa descontada"}),e.jsx("p",{className:"text-sm text-gray-600",children:"R$ 1,75 vai para a plataforma"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-600 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-sm font-bold",children:"3"}),e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Valor retido"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valor do serviço fica em custódia"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-sm font-bold",children:"4"}),e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Liberação"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Após confirmação, valor é liberado"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(v,{children:[e.jsx(O,{className:"h-4 w-4"}),e.jsxs(C,{children:[e.jsx("strong",{children:"Segurança:"})," Seus dados bancários são criptografados e usados apenas para processar pagamentos."]})]}),e.jsxs(v,{children:[e.jsx(N,{className:"h-4 w-4"}),e.jsxs(C,{children:[e.jsx("strong",{children:"Importante:"})," O valor dos serviços fica retido até que o serviço seja confirmado como concluído."]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx(c,{className:"w-full max-w-md",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx($,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Conta de Pagamentos não configurada"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Você precisa configurar sua conta de pagamentos para receber os valores dos seus clientes."}),e.jsx(m,{onClick:()=>w("/provider/asaas-onboarding"),children:"Configurar Agora"})]})})})})}export{te as default};
