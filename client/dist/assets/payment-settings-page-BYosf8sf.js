import{a as H,c as Q,r as g,d as X,j as e,C as Z,f as J,h as Y,i as _,k as ee,q as ae,l as E}from"./index-DOe1OCu1.js";import{u as K}from"./useMutation-Lmj9MX3Y.js";import{u as se,t as re,o as oe,b as k,s as T,e as te,p as P,n as w,Z as ne}from"./zod-DXT7XQRH.js";import{B as S}from"./button-C168b4m4.js";import{C as D}from"./checkbox-D9tFp3VZ.js";import{I as j}from"./input-BHH75Tpk.js";import{T as ie,a as le,b as W,c as B}from"./tabs-BbH-RVGd.js";import{S as ce,a as de,b as me,c as xe,d as A}from"./select-CXehJHOL.js";import{F as ue,a as c,b as d,d as m,c as x,f as u,e as b}from"./form-KOvJa5oz.js";import{A as he,b as pe,c as ge,d as be,e as je,f as fe,h as ve}from"./alert-dialog-DHnaaDCZ.js";import{A as I}from"./admin-layout-DMuYYlcx.js";import{A as ye}from"./arrow-left-BPt4aJQo.js";import{C as f}from"./credit-card-DtANwWGP.js";import{W as Ne}from"./wallet-BB9nbDPl.js";import{R as L}from"./refresh-cw-ClGhKB9y.js";import{D as v}from"./dollar-sign-D5ikk9cU.js";import{P as we}from"./percent-CITLSmPi.js";import{S as Se}from"./save-C3GtLHVl.js";import{C as Ae}from"./circle-check-big-CmCHynor.js";import{C as Fe}from"./circle-x-x0lNBPbI.js";import"./index-CCWTWNPs.js";import"./index-tIxYtZzE.js";import"./check-C4wNsCXx.js";import"./index-DbsNQ1RS.js";import"./index-CQF81cx3.js";import"./index-DdZceiuF.js";import"./index-BdQq_4o_.js";import"./index-CtQ14QdP.js";import"./index-C933frGi.js";import"./chevron-down-C3yMjgZz.js";import"./label-MMklymaS.js";import"./index-DxOiueDc.js";import"./navbar-DlESdVVP.js";import"./proxy-Ct5X7xz4.js";import"./house-Calz6FJi.js";import"./search-Bjz8DxPP.js";import"./calendar-check-CY2XiYKN.js";import"./user-BQOYdOBU.js";import"./badge-Bzn9UYFT.js";import"./avatar-DkIWG9bC.js";import"./dropdown-menu-BOCN3PER.js";import"./chevron-right-D4BSFwhT.js";import"./circle-DjQT6JQX.js";import"./settings-CM1XtqIa.js";import"./log-out-Bcm4dD8k.js";import"./dialog-DsJAgbDW.js";import"./menu-ylsVJAGl.js";import"./bell-JEvyLzwJ.js";import"./users-CKUz_ceh.js";import"./calendar-Mn3IWFfL.js";import"./trending-up-CWfbCM5F.js";import"./folder-tree-CekGzc5n.js";import"./share-2-BYcRmu4H.js";import"./circle-help-BJUcWgq1.js";import"./book-open-DVxVhmVC.js";const Ce=oe({id:w().optional(),serviceFeePercentage:P(n=>{const t=parseFloat(n);return isNaN(t)?0:t},w().min(0,"A taxa deve ser maior ou igual a 0").max(100,"A taxa n√£o pode exceder 100%")),minServiceFee:P(n=>{const t=parseFloat(n);return isNaN(t)?0:t},w().min(0,"O valor m√≠nimo deve ser maior ou igual a 0")),maxServiceFee:P(n=>{const t=parseFloat(n);return isNaN(t)?0:t},w().min(0,"O valor m√°ximo deve ser maior ou igual a 0")),payoutSchedule:te(["instant","daily","weekly","monthly"]),asaasEnabled:k().default(!1),asaasLiveMode:k().default(!1),asaasApiKey:T(),asaasWebhookToken:T().optional(),asaasWalletId:T().optional(),asaasSplitEnabled:k().default(!1)}).superRefine((n,t)=>{n.asaasEnabled&&n.asaasApiKey.trim()===""&&t.addIssue({code:ne.custom,message:"A chave API do Asaas √© obrigat√≥ria quando o Asaas est√° ativado",path:["asaasApiKey"]})}).refine(n=>n.maxServiceFee>=n.minServiceFee,{message:"O valor m√°ximo da taxa deve ser maior ou igual ao valor m√≠nimo",path:["maxServiceFee"]});function Ia(){console.log("[DEBUG] Renderizando PaymentSettingsPage");const[,n]=H(),{toast:t}=Q(),[U,V]=g.useState("asaas"),[Ee,ke]=g.useState(!1),[Te,Pe]=g.useState(null),[$,F]=g.useState(!1),[h,M]=g.useState(null),[q,G]=g.useState(!1),r=se({resolver:re(Ce),defaultValues:{serviceFeePercentage:10,minServiceFee:2,maxServiceFee:50,payoutSchedule:"weekly",asaasEnabled:!1,asaasLiveMode:!1,asaasApiKey:"",asaasWebhookToken:"",asaasWalletId:"",asaasSplitEnabled:!1}}),{data:s,isLoading:R}=X({queryKey:["/api/admin/payment-settings"],queryFn:async()=>{try{return await(await E("GET","/api/admin/payment-settings")).json()}catch(a){console.error("Erro ao carregar configura√ß√µes de pagamento:",a);return}}});g.useEffect(()=>{s&&r.reset({id:s.id,serviceFeePercentage:s.serviceFee/100||0,minServiceFee:s.minServiceFee/100||0,maxServiceFee:s.maxServiceFee/100||0,payoutSchedule:s.payoutSchedule||"weekly",asaasEnabled:s.asaasEnabled||!1,asaasLiveMode:s.asaasLiveMode||!1,asaasApiKey:s.asaasApiKey||"",asaasWebhookToken:s.asaasWebhookToken||"",asaasWalletId:s.asaasWalletId||"",asaasSplitEnabled:s.asaasSplitEnabled||!1})},[s,r]);const y=K({mutationFn:async a=>{try{const o=a.id||(s==null?void 0:s.id),i=o?`/api/admin/payment-settings/${o}`:"/api/admin/payment-settings",l=o?"PATCH":"POST";console.log(`[DEBUG] Vai enviar ${l} para ${i} com dados:`,a);const p=await E(l,i,a);if(console.log(`[DEBUG] Resposta do backend para ${l} ${i}:`,p),!p.ok){const N=await p.json().catch(()=>null);throw console.error("Resposta de erro do servidor:",N),new Error((N==null?void 0:N.error)||`Erro ${p.status}: ${p.statusText}`)}return await p.json()}catch(o){throw console.error("Erro na requisi√ß√£o:",o),o}},onSuccess:a=>{console.log("Configura√ß√µes salvas com sucesso:",a),t({title:"Configura√ß√µes salvas",description:"As configura√ß√µes de pagamento foram atualizadas com sucesso."}),ae.invalidateQueries({queryKey:["/api/admin/payment-settings"]})},onError:a=>{console.error("Erro ao salvar configura√ß√µes:",a),t({title:"Erro",description:`Erro ao salvar configura√ß√µes: ${a instanceof Error?a.message:String(a)}`,variant:"destructive"})}}),C=K({mutationFn:async()=>{const a=r.getValues().asaasApiKey,o=r.getValues().asaasLiveMode;if(console.log("Testando conex√£o Asaas:",{asaasApiKey:a?"***":void 0,asaasLiveMode:o}),s!=null&&s.id)try{const l=r.getValues(),p={...l,id:s.id,serviceFeePercentage:Math.round(parseFloat(l.serviceFeePercentage.toString())*100),serviceFee:Math.round(parseFloat(l.serviceFeePercentage.toString())*100),minServiceFee:Math.round(parseFloat(l.minServiceFee.toString())*100),maxServiceFee:Math.round(parseFloat(l.maxServiceFee.toString())*100),asaasApiKey:a,asaasLiveMode:o};console.log("Salvando configura√ß√µes antes do teste Asaas:",p),await y.mutateAsync(p)}catch(l){console.error("Erro ao salvar configura√ß√µes antes do teste Asaas:",l)}return await(await E("POST","/api/admin/payment-settings/test-asaas",{asaasApiKey:a,asaasLiveMode:o})).json()},onSuccess:a=>{console.log("Teste de conex√£o Asaas bem-sucedido:",a),M({success:a.success,message:a.message||(a.success?"Conex√£o estabelecida com sucesso!":"Falha na conex√£o")}),F(!0)},onError:a=>{console.error("Erro ao testar conex√£o Asaas:",a),M({success:!1,message:`Erro ao testar conex√£o: ${a.message}`}),F(!0)}}),O=async a=>{console.log("[DEBUG] onSubmit foi chamado!");try{console.log("[DEBUG] onSubmit chamado com:",a);const o={...a,id:a.id||(s==null?void 0:s.id),serviceFee:Math.round(Number(a.serviceFeePercentage)*100),serviceFeePercentage:Math.round(Number(a.serviceFeePercentage)*100),minServiceFee:Math.round(Number(a.minServiceFee)*100),maxServiceFee:Math.round(Number(a.maxServiceFee)*100),payoutSchedule:a.payoutSchedule||"weekly",asaasEnabled:!!a.asaasEnabled,asaasLiveMode:!!a.asaasLiveMode,asaasApiKey:a.asaasApiKey||"",asaasWebhookToken:a.asaasWebhookToken||"",asaasWalletId:a.asaasWalletId||"",asaasSplitEnabled:!!a.asaasSplitEnabled};console.log("[DEBUG] Dados enviados para o backend:",o);try{const i=await y.mutateAsync(o);console.log("[DEBUG] Resultado do salvamento:",i)}catch(i){throw console.error("[DEBUG] Erro na muta√ß√£o:",i),t({title:"Erro ao salvar configura√ß√µes",description:i instanceof Error?i.message:String(i),variant:"destructive"}),i}}catch(o){console.error("[DEBUG] Erro ao preparar ou enviar dados:",o),t({title:"Erro",description:o instanceof Error?o.message:String(o),variant:"destructive"})}},z=()=>{const a=r.getValues().asaasApiKey;if(!a||a.trim()===""){t({title:"Chave API Ausente",description:"Por favor, adicione a chave API do Asaas antes de testar a conex√£o.",variant:"destructive"});return}C.mutate()};return R?e.jsx(I,{children:e.jsx("div",{className:"container mx-auto py-6",children:e.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):(!s||Object.keys(s).length===0)&&!q?e.jsx(I,{children:e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:[e.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800",children:"Nenhuma configura√ß√£o encontrada"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Clique abaixo para criar as configura√ß√µes iniciais de pagamento."}),e.jsx(S,{onClick:()=>G(!0),variant:"default",children:"Criar configura√ß√µes iniciais"})]})})}):e.jsx(I,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-white border-b border-blue-100 shadow-sm",children:e.jsx("div",{className:"container mx-auto py-4 px-4 sm:py-6 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>n("/admin/dashboard"),className:"mr-3 sm:mr-4 hover:bg-blue-100",children:e.jsx(ye,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl",children:e.jsx(f,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-white"})}),e.jsx("span",{children:"Configura√ß√µes de Pagamento"})]}),e.jsx("p",{className:"text-gray-600 mt-1 sm:mt-2 text-sm",children:"Configure integra√ß√µes de pagamento e taxas da plataforma"})]})]})})}),e.jsxs("div",{className:"container mx-auto py-4 px-4 sm:py-6 sm:px-6",children:[e.jsx("form",{id:"payment-settings-form",name:"payment-settings-form",onSubmit:r.handleSubmit(O,a=>{console.log("[DEBUG] Erros de valida√ß√£o:",a)}),children:e.jsx(ue,{...r,children:e.jsxs(Z,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-blue-50",children:[e.jsx(J,{className:"pb-6",children:e.jsx(Y,{className:"text-gray-600 text-sm mt-4",children:"Configure as integra√ß√µes de pagamento e as taxas da plataforma"})}),e.jsx(_,{className:"px-4 sm:px-6",children:e.jsxs(ie,{value:U,onValueChange:V,className:"w-full",children:[e.jsxs(le,{className:"grid w-full grid-cols-1 sm:grid-cols-3 bg-gradient-to-r from-blue-100 to-purple-100 p-1 rounded-xl",children:[e.jsx(W,{value:"asaas",children:"Asaas"}),e.jsx(W,{value:"fees",children:"Taxas"})]}),e.jsx(B,{value:"asaas",className:"mt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(c,{control:r.control,name:"asaasEnabled",render:({field:a})=>e.jsxs(d,{className:"flex flex-row items-center space-x-3 space-y-0",children:[e.jsx(m,{children:e.jsx(D,{checked:a.value,onCheckedChange:a.onChange,className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(x,{className:"text-green-900 font-semibold",children:"Habilitar Asaas"}),e.jsx(u,{className:"text-green-700",children:"Ative para permitir pagamentos online via Asaas (PIX, Boleto, Cart√£o)"})]})]})})})}),r.watch("asaasEnabled")&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:e.jsx(c,{control:r.control,name:"asaasApiKey",render:({field:a})=>e.jsxs(d,{children:[e.jsxs(x,{className:"text-gray-900 font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"h-3 w-3 text-green-600"})}),"API Key do Asaas"]}),e.jsx(m,{children:e.jsx(j,{placeholder:"Sua chave de API do Asaas",type:"password",...a,className:"rounded-lg border-gray-300 focus:border-green-500 focus:ring-green-500"})}),e.jsx(u,{className:"text-gray-600 text-xs sm:text-sm",children:"Chave de API obtida no painel do Asaas"}),e.jsx(b,{})]})})}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:e.jsx(c,{control:r.control,name:"asaasWalletId",render:({field:a})=>e.jsxs(d,{children:[e.jsxs(x,{className:"text-gray-900 font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ne,{className:"h-3 w-3 text-blue-600"})}),"Wallet ID da Plataforma"]}),e.jsx(m,{children:e.jsx(j,{placeholder:"ID da carteira principal",...a,className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})}),e.jsx(u,{className:"text-gray-600 text-xs sm:text-sm",children:"ID da carteira principal da plataforma no Asaas"}),e.jsx(b,{})]})})}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:e.jsx(c,{control:r.control,name:"asaasWebhookToken",render:({field:a})=>e.jsxs(d,{children:[e.jsxs(x,{className:"text-gray-900 font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"h-3 w-3 text-purple-600"})}),"Token do Webhook"]}),e.jsx(m,{children:e.jsx(j,{placeholder:"Token para webhooks (opcional)",...a,className:"rounded-lg border-gray-300 focus:border-purple-500 focus:ring-purple-500"})}),e.jsx(u,{className:"text-gray-600",children:"Token usado para verificar eventos do Asaas (opcional)"}),e.jsx(b,{})]})})}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4 border border-indigo-200",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(c,{control:r.control,name:"asaasSplitEnabled",render:({field:a})=>e.jsxs(d,{className:"flex flex-row items-center space-x-3 space-y-0",children:[e.jsx(m,{children:e.jsx(D,{checked:a.value,onCheckedChange:a.onChange,className:"data-[state=checked]:bg-indigo-600 data-[state=checked]:border-indigo-600"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(x,{className:"text-indigo-900 font-semibold",children:"Split Autom√°tico"}),e.jsx(u,{className:"text-indigo-700",children:"Divide automaticamente os pagamentos entre plataforma e prestador"})]})]})})})}),e.jsx("div",{className:"bg-slate-50 p-4 rounded-md",children:e.jsx(c,{control:r.control,name:"asaasLiveMode",render:({field:a})=>e.jsxs(d,{className:"flex flex-row items-center space-x-3 space-y-0",children:[e.jsx(m,{children:e.jsx(D,{checked:a.value,onCheckedChange:a.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(x,{children:"Usar ambiente de produ√ß√£o do Asaas"}),e.jsx(u,{children:"Ative para usar a API de produ√ß√£o do Asaas. Desative para usar o ambiente de testes (sandbox)."})]})]})})}),e.jsx(S,{type:"button",variant:"outline",className:"w-full bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 hover:bg-green-100 text-green-700 rounded-xl py-3",onClick:z,disabled:C.isPending,children:C.isPending?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-4 w-4 animate-spin"}),"Testando Conex√£o..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Testar Conex√£o Asaas"]})})]})]})}),e.jsx(B,{value:"fees",className:"mt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:e.jsx(c,{control:r.control,name:"serviceFeePercentage",render:({field:a})=>e.jsxs(d,{children:[e.jsxs(x,{className:"text-gray-900 font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(v,{className:"h-3 w-3 text-green-600"})}),"Taxa de Servi√ßo"]}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 text-gray-500 font-medium",children:"R$"}),e.jsx(j,{type:"number",min:"0",step:"0.01",...a,className:"rounded-lg border-gray-300 focus:border-green-500 focus:ring-green-500"})]})}),e.jsx(u,{className:"text-gray-600 text-xs sm:text-sm",children:"Valor fixo em reais cobrado sobre cada transa√ß√£o"}),e.jsx(b,{})]})})}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:e.jsx(c,{control:r.control,name:"payoutSchedule",render:({field:a})=>e.jsxs(d,{children:[e.jsxs(x,{className:"text-gray-900 font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"h-3 w-3 text-blue-600"})}),"Frequ√™ncia de Pagamentos"]}),e.jsxs(ce,{onValueChange:a.onChange,defaultValue:a.value,value:a.value,children:[e.jsx(m,{children:e.jsx(de,{className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(me,{placeholder:"Selecione"})})}),e.jsxs(xe,{children:[e.jsx(A,{value:"instant",children:"‚ö° Instant√¢neo"}),e.jsx(A,{value:"daily",children:"üìÖ Di√°rio"}),e.jsx(A,{value:"weekly",children:"üìä Semanal"}),e.jsx(A,{value:"monthly",children:"üìà Mensal"})]})]}),e.jsx(u,{className:"text-gray-600 text-xs sm:text-sm",children:"Frequ√™ncia com que os prestadores recebem os pagamentos"}),e.jsx(b,{})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:e.jsx(c,{control:r.control,name:"minServiceFee",render:({field:a})=>e.jsxs(d,{children:[e.jsxs(x,{className:"text-gray-900 font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(v,{className:"h-3 w-3 text-orange-600"})}),"Taxa M√≠nima"]}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsx(j,{type:"number",min:"0",step:"0.01",...a,className:"rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"})]})}),e.jsx(u,{className:"text-gray-600 text-xs sm:text-sm",children:"Valor m√≠nimo cobrado em cada transa√ß√£o"}),e.jsx(b,{})]})})}),e.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:e.jsx(c,{control:r.control,name:"maxServiceFee",render:({field:a})=>e.jsxs(d,{children:[e.jsxs(x,{className:"text-gray-900 font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(v,{className:"h-3 w-3 text-red-600"})}),"Taxa M√°xima"]}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsx(j,{type:"number",min:"0",step:"0.01",...a,className:"rounded-lg border-gray-300 focus:border-red-500 focus:ring-red-500"})]})}),e.jsx(u,{className:"text-gray-600 text-xs sm:text-sm",children:"Valor m√°ximo cobrado em cada transa√ß√£o"}),e.jsx(b,{})]})})})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-6 rounded-xl border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(we,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-amber-900 font-semibold mb-2",children:"Resumo das Taxas"}),e.jsxs("p",{className:"text-amber-700 text-sm leading-relaxed",children:["Uma taxa fixa de ",e.jsxs("strong",{children:["R$ ",r.watch("serviceFeePercentage")]})," ser√° adicionada a cada transa√ß√£o, respeitando os limites m√≠nimo de ",e.jsxs("strong",{children:["R$ ",r.watch("minServiceFee")]}),"e m√°ximo de ",e.jsxs("strong",{children:["R$ ",r.watch("maxServiceFee")]}),"."]})]})]})})]})})]})}),e.jsx(ee,{className:"border-t border-gray-200 p-6 flex justify-end",children:e.jsx(S,{id:"save-settings-btn",name:"save-settings-btn",type:"submit",size:"lg",disabled:y.isPending||r.formState.isSubmitting,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl px-8 py-3 shadow-lg",onClick:()=>{console.log("[DEBUG] Bot√£o de salvar clicado")},children:y.isPending||r.formState.isSubmitting?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Salvar Configura√ß√µes"]})})})]})})}),e.jsx(he,{open:$,onOpenChange:F,children:e.jsxs(pe,{className:"backdrop-blur-md backdrop:bg-purple-100/60 border-0 shadow-2xl rounded-2xl",children:[e.jsxs(ge,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[h!=null&&h.success?e.jsx(Ae,{className:"h-5 w-5 text-green-500"}):e.jsx(Fe,{className:"h-5 w-5 text-red-500"}),h!=null&&h.success?"Conex√£o Asaas bem-sucedida":"Falha na conex√£o Asaas"]}),e.jsx(je,{className:"text-gray-700",children:h==null?void 0:h.message})]}),e.jsx(fe,{children:e.jsx(ve,{className:"bg-purple-600 hover:bg-purple-700 rounded-lg",children:"OK"})})]})})]})]})})}export{Ia as default};
