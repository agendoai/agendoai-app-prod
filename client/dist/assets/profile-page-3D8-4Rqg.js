import{j as e}from"./ui-UIpCtT3r.js";import{r as N}from"./vendor-vA4cx1mx.js";import{j as ge,u as ue,l as ve,b as pe,B as l,H as Ne,X as be,c as we,L as P,C as u,d as f,e as g,f as v,g as p,h as ie,m as ye,q as re,A as Pe,i as W}from"./index-C8-zpcKL.js";import{u as te}from"./useMutation-P96WDC87.js";import{I as o}from"./input-IX-Ccd3C.js";import{L as t}from"./label-BIAKwpsc.js";import{T as ne,a as le,b as c,c as m}from"./tabs-BhZpxXQ2.js";import{A as Ce,a as Ae}from"./alert-CTqSX79T.js";import{A as L,a as U,b as D}from"./avatar-BBcRvo13.js";import{S}from"./switch-CdyWQkqI.js";import{R as oe,a as F}from"./radio-group-Bf1lSPJM.js";import{B as J}from"./badge-DP5DyHeb.js";import{u as Se,L as z}from"./router-CxXythJb.js";import{S as Fe,a as Te,b as Ie}from"./sheet-Bp-7SUhs.js";import{N as ke,C as Me}from"./client-navbar-B9CLQ7pr.js";import{T as $,a as H,b as V,c as O}from"./tooltip-BXcu8v5X.js";import{m as Ee}from"./proxy-B2Nma8Bt.js";import{M as ze}from"./menu-Cn_vALKP.js";import{C as K}from"./calendar-CEG0wbcY.js";import{C as Le}from"./calendar-check-B0nV5Uhw.js";import{U as Ue}from"./users-B2n0v15j.js";import{C as De}from"./clock-53JnXU7l.js";import{W as Re}from"./wallet-Cl76oh9h.js";import{C as Be}from"./chart-no-axes-column-increasing-BIpBu-0W.js";import{U as T}from"./user-CXc1AnQW.js";import{B as Ge}from"./bell-CZnX4FjY.js";import{L as qe}from"./log-out-BVXZMdHH.js";import{A as $e}from"./AdminLayout-DD_mK3qO.js";import{S as He}from"./settings-DR9OFCdO.js";import{L as de}from"./lock-CzBqvHpk.js";import{U as ce}from"./upload-ByUP9uGz.js";import{C as me}from"./credit-card-CEItYo9H.js";import{I as he}from"./info-T3nclRBe.js";import{C as Ve}from"./camera-B4Z_iX80.js";import{P as Oe}from"./phone-C8roGb90.js";import{M as Xe}from"./map-pin-DhYkN1aN.js";import"./index-BH3L9zMK.js";import"./circle-DyW2RO_p.js";import"./popover-Chrvm51y.js";import"./separator-BvfvTZsL.js";import"./format-CGvBu07F.js";import"./en-US-xSPtgCq_.js";import"./pt-BR-Cxqo7XV3.js";import"./search-ChrBAPJG.js";import"./dropdown-menu-CUOsS9wa.js";import"./chevron-right-DnXY7g-Q.js";import"./check-yFju7Kvd.js";import"./chart-pie-De7ZRv4m.js";import"./message-square-CMlinHqp.js";import"./file-text-DlnYUzEO.js";import"./dollar-sign-DShZq9ts.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=ge("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);function We(){const{user:s,logoutMutation:d}=ue(),{unreadCount:I}=ve(),[k]=Se(),[M,E]=N.useState(!1),[R,y]=N.useState(!1),{toast:B}=pe(),j=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="authToken=; path=/; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT","caches"in window&&caches.keys().then(i=>{i.forEach(h=>{caches.delete(h)})}),B({title:"Logout realizado",description:"Voc√™ saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("üîÑ Recarregando p√°gina..."),window.location.reload()},500)},C=[{href:"/provider/dashboard",label:"In√≠cio",icon:Ne,isActive:i=>i==="/provider/dashboard"||i==="/provider"||i==="/"},{href:"/provider/schedule",label:"Agenda",icon:K,isActive:i=>i.includes("schedule")||i.includes("agenda")},{href:"/provider/appointments",label:"Agendamentos",icon:Le,isActive:i=>i.includes("appointments")||i.includes("agendamentos")},{href:"/provider/clients",label:"Clientes",icon:Ue,isActive:i=>i.includes("clients")||i.includes("clientes")},{href:"/provider/services",label:"Servi√ßos",icon:De,isActive:i=>i.includes("services")||i.includes("servicos")},{href:"/provider/finances",label:"Finan√ßas",icon:Re,isActive:i=>i.includes("finances")||i.includes("financas")},{href:"/provider/reports",label:"Relat√≥rios",icon:Be,isActive:i=>i.includes("reports")||i.includes("relatorios")},{href:"/profile",label:"Perfil",icon:T,isActive:i=>i.includes("profile")||i.includes("perfil")||i.includes("settings")}],r=()=>{y(!R)},b=i=>i.isActive?i.isActive(k):k===i.href;return e.jsxs(Ee.header,{className:"sticky top-0 z-40 bg-white border-b shadow-sm",initial:{y:-60,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},children:[e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(Fe,{asChild:!0,className:"lg:hidden",children:e.jsxs(l,{variant:"ghost",size:"icon",onClick:()=>E(!0),children:[e.jsx(ze,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Abrir menu"})]})})}),e.jsx(O,{children:e.jsx("p",{children:"Menu"})})]})}),e.jsxs(z,{href:"/provider/dashboard",className:"flex items-center space-x-2 ml-4",children:[e.jsx("img",{src:"/logo.svg",alt:"AgendoAI",className:"h-8 w-auto"}),e.jsx("span",{className:"hidden sm:inline-block font-semibold text-lg",children:"AgendoAI"})]})]}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:C.map(i=>{const h=b(i);return e.jsx($,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(z,{href:i.href,children:e.jsxs(l,{variant:h?"default":"ghost",size:"sm",className:"flex items-center gap-2",children:[e.jsx(i.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xl:inline",children:i.label})]})})}),e.jsx(O,{children:e.jsx("p",{children:i.label})})]})},i.href)})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(l,{variant:"ghost",size:"icon",onClick:r,className:"relative",children:[e.jsx(Ge,{className:"h-5 w-5"}),I>0&&e.jsx(J,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:I})]})}),e.jsx(O,{children:e.jsx("p",{children:"Notifica√ß√µes"})})]})}),e.jsx($,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(z,{href:"/profile",children:e.jsx(l,{variant:"ghost",size:"icon",className:"rounded-full",children:e.jsx(L,{className:"h-8 w-8",children:s!=null&&s.profileImage?e.jsx(U,{src:s.profileImage,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white",children:s!=null&&s.name?s.name.charAt(0).toUpperCase():e.jsx(T,{className:"h-4 w-4"})})})})})}),e.jsx(O,{children:e.jsx("p",{children:"Perfil"})})]})})]})]}),e.jsx(Te,{open:M,onOpenChange:E,children:e.jsx(Ie,{side:"left",className:"w-80",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(z,{href:"/provider/dashboard",className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/logo.svg",alt:"AgendoAI",className:"h-8 w-auto"}),e.jsx("span",{className:"font-semibold text-lg",children:"AgendoAI"})]}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>E(!1),children:e.jsx(be,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:C.map(i=>{const h=b(i);return e.jsx(z,{href:i.href,onClick:()=>E(!1),children:e.jsxs(l,{variant:h?"default":"ghost",className:"w-full justify-start",children:[e.jsx(i.icon,{className:"h-4 w-4 mr-3"}),i.label]})},i.href)})}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs(l,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:j,children:[e.jsx(qe,{className:"h-4 w-4 mr-3"}),"Sair"]})})]})})}),R&&e.jsx(ke,{onClose:()=>y(!1)})]})}function xe(s){return s?s.startsWith("http")?s:`${Pe}${s}`:null}function _s(){const{user:s}=ue(),{toast:d}=pe(),[I,k]=N.useState("personal"),M=N.useRef(null),[E,R]=N.useState(null),[y,B]=N.useState(xe(s==null?void 0:s.profileImage)),[j,C]=N.useState(0),[r,b]=N.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||"",currentPassword:"",newPassword:"",confirmPassword:"",emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,defaultPaymentMethod:"pix"});N.useEffect(()=>{if(s){const a=localStorage.getItem("defaultPaymentMethod")||"credit_card";b(n=>({...n,name:s.name||"",email:s.email||"",phone:s.phone||"",address:s.address||"",defaultPaymentMethod:a})),B(xe(s.profileImage))}},[s]);const i=te({mutationFn:async a=>(await W("PUT",`/api/users/${s==null?void 0:s.id}`,a)).json(),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user"]}),d({title:"Perfil atualizado",description:"Suas informa√ß√µes foram atualizadas com sucesso."})},onError:a=>{d({title:"Erro ao atualizar perfil",description:a.message,variant:"destructive"})}}),h=te({mutationFn:async a=>(await W("PUT",`/api/users/${s==null?void 0:s.id}/password`,a)).json(),onSuccess:()=>{b({...r,currentPassword:"",newPassword:"",confirmPassword:""}),d({title:"Senha alterada",description:"Sua senha foi alterada com sucesso."})},onError:a=>{d({title:"Erro ao alterar senha",description:a.message,variant:"destructive"})}}),x=a=>{const{name:n,value:w}=a.target;b({...r,[n]:w})},Q=a=>{a.preventDefault(),i.mutate({name:r.name,phone:r.phone,address:r.address})},Y=a=>{if(a.preventDefault(),r.newPassword!==r.confirmPassword){d({title:"Erro de valida√ß√£o",description:"As senhas n√£o coincidem.",variant:"destructive"});return}if(r.newPassword.length<6){d({title:"Erro de valida√ß√£o",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}h.mutate({currentPassword:r.currentPassword,newPassword:r.newPassword})},{data:G=[],isLoading:Z}=we({queryKey:["/api/appointments"],queryFn:()=>W("GET","/appointments").then(a=>a.json()),enabled:!!s}),A=(a,n)=>{b({...r,[a]:n});const w={};w[a]=n,i.mutate(w)},ee=a=>{b({...r,defaultPaymentMethod:a}),localStorage.setItem("defaultPaymentMethod",a),d({title:"M√©todo de pagamento atualizado",description:`Seu m√©todo de pagamento padr√£o foi alterado para ${a==="credit_card"?"Cart√£o de Cr√©dito":a==="pix"?"PIX":"Dinheiro"}.`})},X=()=>{var a;(a=M.current)==null||a.click()},se=async a=>{var ae;const n=(ae=a.target.files)==null?void 0:ae[0];if(!n)return;if(!n.type.startsWith("image/")){d({title:"Tipo de arquivo inv√°lido",description:"Por favor, selecione uma imagem.",variant:"destructive"});return}if(n.size>2*1024*1024){d({title:"Arquivo muito grande",description:"A imagem deve ter no m√°ximo 2MB.",variant:"destructive"});return}R(n);const w=new FileReader;w.onloadend=()=>{B(w.result)},w.readAsDataURL(n),C(10);try{if(!n.type.startsWith("image/"))throw new Error("O arquivo selecionado n√£o √© uma imagem v√°lida");if(n.size>5*1024*1024)throw new Error("O arquivo √© muito grande. Tamanho m√°ximo: 5MB");const q=new FormData;q.append("image",n);const _=await fetch(`/api/users/${s==null?void 0:s.id}/profile-image-cloudinary`,{method:"POST",body:q,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!_.ok){const fe=await _.json();throw new Error(fe.error||"Erro ao fazer upload da imagem")}const Je=await _.json();C(100),re.invalidateQueries({queryKey:["/api/user"]}),d({title:"Imagem atualizada",description:"Sua foto de perfil foi atualizada com sucesso."})}catch(q){C(0),d({title:"Erro no upload",description:q.message||"N√£o foi poss√≠vel enviar a imagem.",variant:"destructive"})}},je=(s==null?void 0:s.userType)==="admin";return s?je?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-white py-10 px-2",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(L,{className:"h-32 w-32 border-4 border-blue-500 shadow-lg",children:s.profileImage?e.jsx(U,{src:s.profileImage,alt:s.name||"Administrador"}):e.jsx(D,{className:"bg-blue-500 text-white text-4xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(T,{})})}),e.jsxs("span",{className:"absolute -bottom-3 right-2 bg-blue-600 text-white text-xs px-3 py-1 rounded-full shadow-md font-semibold flex items-center gap-1",children:[e.jsx(He,{className:"h-4 w-4 mr-1"})," Admin"]})]}),e.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-1",children:"Perfil do Administrador"}),e.jsx("p",{className:"text-blue-700 text-sm mb-2",children:"Gerencie suas informa√ß√µes administrativas"}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-base font-medium text-blue-800",children:s.name||"Nome n√£o definido"}),e.jsx("span",{className:"text-sm text-blue-600",children:s.email})]})]}),e.jsx("div",{className:"bg-white border border-blue-100 rounded-2xl shadow-xl p-8",children:e.jsxs(ne,{value:I,onValueChange:k,className:"w-full",children:[e.jsxs(le,{className:"mb-6 bg-blue-50 rounded-lg p-1 flex gap-2 overflow-x-auto",children:[e.jsx(c,{value:"personal",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Informa√ß√µes Pessoais"}),e.jsx(c,{value:"password",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Senha"}),e.jsx(c,{value:"photo",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Foto"}),e.jsx(c,{value:"notifications",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Notifica√ß√µes"}),e.jsx(c,{value:"payment",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Pagamento"}),e.jsx(c,{value:"history",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Hist√≥rico"})]}),e.jsx(m,{value:"personal",children:e.jsxs("form",{id:"personal-info-form",onSubmit:Q,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Nome completo"}),e.jsx(o,{id:"name",name:"name",value:r.name,onChange:x,placeholder:"Seu nome completo",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"E-mail"}),e.jsx(o,{id:"email",name:"email",value:r.email,disabled:!0,className:"bg-blue-50 border-blue-200 rounded-lg"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O e-mail n√£o pode ser alterado"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Telefone"}),e.jsx(o,{id:"phone",name:"phone",value:r.phone,onChange:x,placeholder:"(00) 00000-0000",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{type:"submit",form:"personal-info-form",disabled:i.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-2 rounded-lg shadow-md",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar altera√ß√µes"})})]})}),e.jsx(m,{value:"password",children:e.jsxs("form",{id:"password-form",onSubmit:Y,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"currentPassword",children:"Senha atual"}),e.jsx(o,{id:"currentPassword",name:"currentPassword",type:"password",value:r.currentPassword,onChange:x,placeholder:"Digite sua senha atual",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"newPassword",children:"Nova senha"}),e.jsx(o,{id:"newPassword",name:"newPassword",type:"password",value:r.newPassword,onChange:x,placeholder:"Digite a nova senha",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirme a nova senha"}),e.jsx(o,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:x,placeholder:"Confirme a nova senha",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{type:"submit",form:"password-form",disabled:h.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-2 rounded-lg shadow-md",children:h.isPending?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 mr-2 animate-spin"}),"Alterando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Alterar senha"]})})})]})}),e.jsx(m,{value:"photo",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Foto de Perfil"}),e.jsx(v,{children:"Atualize sua foto de perfil"})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(L,{className:"h-32 w-32 mb-4",children:y?e.jsx(U,{src:y,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white text-3xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(T,{})})}),j>0&&j<100&&e.jsxs("div",{className:"w-full max-w-xs mb-4",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${j}%`}})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-1",children:["Enviando... ",j,"%"]})]}),e.jsx("input",{ref:M,type:"file",accept:"image/*",className:"hidden",onChange:se}),e.jsxs(l,{variant:"outline",onClick:X,className:"mt-2",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Escolher Foto"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:"‚Ä¢ Tamanho m√°ximo: 2MB"}),e.jsx("p",{children:"‚Ä¢ Formatos aceitos: JPG, PNG"}),e.jsx("p",{children:"‚Ä¢ Dimens√µes ideais: 200x200 pixels"})]})]})]})}),e.jsx(m,{value:"notifications",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Notifica√ß√µes"}),e.jsx(v,{children:"Gerencie suas prefer√™ncias de notifica√ß√µes"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"email-notifications",children:"Notifica√ß√µes por E-mail"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualiza√ß√µes de seus agendamentos por e-mail"})]}),e.jsx(S,{id:"email-notifications",checked:r.emailNotifications,onCheckedChange:a=>A("emailNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"push-notifications",children:"Notifica√ß√µes Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notifica√ß√µes em tempo real no navegador"})]}),e.jsx(S,{id:"push-notifications",checked:r.pushNotifications,onCheckedChange:a=>A("pushNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"sms-notifications",children:"Notifica√ß√µes SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes de agendamentos via SMS"})]}),e.jsx(S,{id:"sms-notifications",checked:r.smsNotifications,onCheckedChange:a=>A("smsNotifications",a)})]})]})]})}),e.jsx(m,{value:"payment",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"M√©todos de Pagamento"}),e.jsx(v,{children:"Gerencie suas prefer√™ncias de pagamento"})]}),e.jsxs(p,{children:[e.jsxs(oe,{value:r.defaultPaymentMethod,onValueChange:ee,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"credit_card",id:"creditCard"}),e.jsxs(t,{htmlFor:"creditCard",className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx("span",{children:"Cart√£o de Cr√©dito"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"pix",id:"pix"}),e.jsxs(t,{htmlFor:"pix",className:"flex items-center",children:[e.jsx("img",{src:"https://logospng.org/download/pix/logo-pix-icone-512.png",alt:"PIX",className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"PIX"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"local",id:"local"}),e.jsxs(t,{htmlFor:"local",className:"flex items-center",children:[e.jsx("span",{className:"h-4 w-4 mr-2 flex items-center justify-center text-primary",children:"$"}),e.jsx("span",{children:"Pagamento no Local"})]})]})]}),e.jsx("div",{className:"mt-6 bg-muted p-3 rounded-md",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Esta √© sua prefer√™ncia de pagamento padr√£o, mas voc√™ poder√° escolher um m√©todo diferente durante o agendamento."]})})]})]})}),e.jsx(m,{value:"history",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Hist√≥rico de Agendamentos"}),e.jsx(v,{children:"Visualize seus agendamentos anteriores e atuais"})]}),e.jsx(p,{children:Z?e.jsx("div",{className:"py-10 flex justify-center",children:e.jsx(P,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):G.length===0?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx(K,{className:"h-10 w-10 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Voc√™ ainda n√£o possui agendamentos"})]}):e.jsx("div",{className:"space-y-4",children:G.map(a=>e.jsxs("div",{className:"border rounded-md p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.serviceName}),e.jsx(J,{variant:a.status==="confirmed"?"default":a.status==="completed"?"outline":a.status==="canceled"?"destructive":"secondary",children:a.status==="confirmed"?"Confirmado":a.status==="completed"?"Conclu√≠do":a.status==="canceled"?"Cancelado":"Pendente"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Prestador: ",a.providerName]}),e.jsxs("p",{children:["Data: ",new Date(a.date).toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:["Hor√°rio: ",a.startTime," - ",a.endTime]})]})]},a.id))})})]})})]})})]})})}):e.jsxs("div",{className:"min-h-screen bg-white",children:[s.userType==="provider"?e.jsx(We,{}):s.userType==="client"?e.jsx(Me,{}):null,e.jsxs("main",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Minhas Informa√ß√µes"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-1/3",children:e.jsx(u,{children:e.jsxs(p,{className:"pt-6 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(L,{className:"h-24 w-24",children:s.profileImage?e.jsx(U,{src:s.profileImage,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white text-xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(T,{})})}),e.jsx(l,{size:"icon",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full",onClick:X,children:e.jsx(Ve,{className:"h-4 w-4"})})]}),e.jsx("h2",{className:"text-xl font-semibold",children:s.name||"Nome n√£o definido"}),e.jsx("p",{className:"text-muted-foreground",children:s.userType==="provider"?"Prestador":"Cliente"}),e.jsxs("div",{className:"w-full mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),s.address&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.address})]})]})]})})}),e.jsx("div",{className:"w-full md:w-2/3",children:e.jsxs(ne,{value:I,onValueChange:k,className:"w-full",children:[e.jsxs(le,{className:"mb-6",children:[e.jsx(c,{value:"personal",children:"Informa√ß√µes Pessoais"}),e.jsx(c,{value:"password",children:"Senha"}),e.jsx(c,{value:"photo",children:"Foto"}),e.jsx(c,{value:"notifications",children:"Notifica√ß√µes"}),e.jsx(c,{value:"payment",children:"Pagamento"}),e.jsx(c,{value:"history",children:"Hist√≥rico"})]}),e.jsx(m,{value:"personal",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Informa√ß√µes Pessoais"}),e.jsx(v,{children:"Atualize seus dados de contato e endere√ßo"})]}),e.jsx(p,{children:e.jsx("form",{id:"personal-info-form",onSubmit:Q,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Nome completo"}),e.jsx(o,{id:"name",name:"name",value:r.name,onChange:x,placeholder:"Seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"E-mail"}),e.jsx(o,{id:"email",name:"email",value:r.email,disabled:!0,placeholder:"seu@email.com"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O e-mail n√£o pode ser alterado"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Telefone"}),e.jsx(o,{id:"phone",name:"phone",value:r.phone,onChange:x,placeholder:"(00) 00000-0000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"address",children:"Endere√ßo"}),e.jsx(o,{id:"address",name:"address",value:r.address,onChange:x,placeholder:"Seu endere√ßo completo"})]})]})})}),e.jsx(ie,{className:"border-t px-6 py-4",children:e.jsx(l,{type:"submit",form:"personal-info-form",disabled:i.isPending,className:"ml-auto",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx("span",{children:"Salvando..."})]}):"Salvar altera√ß√µes"})})]})}),e.jsx(m,{value:"password",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Alterar Senha"}),e.jsx(v,{children:"Atualize sua senha de acesso"})]}),e.jsxs(p,{children:[e.jsxs(Ce,{className:"mb-6",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),e.jsx(Ae,{children:"Use uma senha forte com letras, n√∫meros e caracteres especiais"})]}),e.jsx("form",{id:"password-form",onSubmit:Y,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"currentPassword",children:"Senha atual"}),e.jsx(o,{id:"currentPassword",name:"currentPassword",type:"password",value:r.currentPassword,onChange:x,placeholder:"Digite sua senha atual"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"newPassword",children:"Nova senha"}),e.jsx(o,{id:"newPassword",name:"newPassword",type:"password",value:r.newPassword,onChange:x,placeholder:"Digite a nova senha"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirme a nova senha"}),e.jsx(o,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:x,placeholder:"Confirme a nova senha"})]})]})})]}),e.jsx(ie,{className:"border-t px-6 py-4",children:e.jsx(l,{type:"submit",form:"password-form",disabled:h.isPending,className:"ml-auto",children:h.isPending?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx("span",{children:"Alterando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Alterar senha"})]})})})]})}),e.jsx(m,{value:"photo",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Foto de Perfil"}),e.jsx(v,{children:"Atualize sua foto de perfil"})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(L,{className:"h-32 w-32 mb-4",children:y?e.jsx(U,{src:y,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white text-3xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(T,{})})}),j>0&&j<100&&e.jsxs("div",{className:"w-full max-w-xs mb-4",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${j}%`}})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-1",children:["Enviando... ",j,"%"]})]}),e.jsx("input",{ref:M,type:"file",accept:"image/*",className:"hidden",onChange:se}),e.jsxs(l,{variant:"outline",onClick:X,className:"mt-2",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Escolher Foto"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:"‚Ä¢ Tamanho m√°ximo: 2MB"}),e.jsx("p",{children:"‚Ä¢ Formatos aceitos: JPG, PNG"}),e.jsx("p",{children:"‚Ä¢ Dimens√µes ideais: 200x200 pixels"})]})]})]})}),e.jsx(m,{value:"notifications",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Notifica√ß√µes"}),e.jsx(v,{children:"Gerencie suas prefer√™ncias de notifica√ß√µes"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"email-notifications",children:"Notifica√ß√µes por E-mail"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualiza√ß√µes de seus agendamentos por e-mail"})]}),e.jsx(S,{id:"email-notifications",checked:r.emailNotifications,onCheckedChange:a=>A("emailNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"push-notifications",children:"Notifica√ß√µes Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notifica√ß√µes em tempo real no navegador"})]}),e.jsx(S,{id:"push-notifications",checked:r.pushNotifications,onCheckedChange:a=>A("pushNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"sms-notifications",children:"Notifica√ß√µes SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes de agendamentos via SMS"})]}),e.jsx(S,{id:"sms-notifications",checked:r.smsNotifications,onCheckedChange:a=>A("smsNotifications",a)})]})]})]})}),e.jsx(m,{value:"payment",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"M√©todos de Pagamento"}),e.jsx(v,{children:"Gerencie suas prefer√™ncias de pagamento"})]}),e.jsxs(p,{children:[e.jsxs(oe,{value:r.defaultPaymentMethod,onValueChange:ee,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"credit_card",id:"creditCard"}),e.jsxs(t,{htmlFor:"creditCard",className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx("span",{children:"Cart√£o de Cr√©dito"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"pix",id:"pix"}),e.jsxs(t,{htmlFor:"pix",className:"flex items-center",children:[e.jsx("img",{src:"https://logospng.org/download/pix/logo-pix-icone-512.png",alt:"PIX",className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"PIX"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"local",id:"local"}),e.jsxs(t,{htmlFor:"local",className:"flex items-center",children:[e.jsx("span",{className:"h-4 w-4 mr-2 flex items-center justify-center text-primary",children:"$"}),e.jsx("span",{children:"Pagamento no Local"})]})]})]}),e.jsx("div",{className:"mt-6 bg-muted p-3 rounded-md",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Esta √© sua prefer√™ncia de pagamento padr√£o, mas voc√™ poder√° escolher um m√©todo diferente durante o agendamento."]})})]})]})}),e.jsx(m,{value:"history",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Hist√≥rico de Agendamentos"}),e.jsx(v,{children:"Visualize seus agendamentos anteriores e atuais"})]}),e.jsx(p,{children:Z?e.jsx("div",{className:"py-10 flex justify-center",children:e.jsx(P,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):G.length===0?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx(K,{className:"h-10 w-10 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Voc√™ ainda n√£o possui agendamentos"})]}):e.jsx("div",{className:"space-y-4",children:G.map(a=>e.jsxs("div",{className:"border rounded-md p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.serviceName}),e.jsx(J,{variant:a.status==="confirmed"?"default":a.status==="completed"?"outline":a.status==="canceled"?"destructive":"secondary",children:a.status==="confirmed"?"Confirmado":a.status==="completed"?"Conclu√≠do":a.status==="canceled"?"Cancelado":"Pendente"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Prestador: ",a.providerName]}),e.jsxs("p",{children:["Data: ",new Date(a.date).toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:["Hor√°rio: ",a.startTime," - ",a.endTime]})]})]},a.id))})})]})})]})})]})]})]}):e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(P,{className:"h-8 w-8 animate-spin text-primary"})})}export{_s as default};
