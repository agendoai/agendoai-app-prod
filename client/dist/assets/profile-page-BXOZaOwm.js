import{m as fe,u as ue,n as ge,a as ve,r as N,j as e,L as U,X as Ne,c as be,d as we,e as y,C as u,f,g,h as v,i as p,k as ae,o as ye,q as ie,A as Pe,l as re,p as Ce}from"./index-DFO2lo2s.js";import{u as te}from"./useMutation-BIXw1p8a.js";import{I as d}from"./input-DGvqAMIq.js";import{L as t}from"./label-ByXqB0vV.js";import{B as l}from"./button-6IH7luFD.js";import{T as ne,a as le,b as c,c as m}from"./tabs-DdC9UF4F.js";import{A as Ae,a as Se}from"./alert-NIGMftih.js";import{A as z,a as D,b as L}from"./avatar-CVSf1ztN.js";import{S as C}from"./switch-D1vvSbWF.js";import{R as oe,a as A}from"./radio-group-DYdLOZBv.js";import{B as Q}from"./badge-DWGHGqHr.js";import{S as Fe,a as Ie,b as Te}from"./sheet-B7WdakJM.js";import{N as ke,C as Me}from"./client-navbar-h9ka1u48.js";import{T as q,a as H,b as V,c as O}from"./tooltip-BCOswfBn.js";import{m as Ee}from"./proxy-BltBotVH.js";import{M as Ue}from"./menu-Chrz4g6w.js";import{H as ze}from"./house-sGd4nDnu.js";import{C as W}from"./calendar-CXCri533.js";import{C as De}from"./calendar-check-CDRCjfO9.js";import{U as Le}from"./users-BzOlSFYN.js";import{C as Re}from"./clock-BQ1l0DXv.js";import{W as Be}from"./wallet-_HXcfDQq.js";import{C as Ge}from"./chart-no-axes-column-increasing-B2axSPxa.js";import{U as S}from"./user-WwS7npix.js";import{B as $e}from"./bell-BMDILFyN.js";import{L as qe}from"./log-out-CXzoyitA.js";import{A as He}from"./AdminLayout-Oh6el51Y.js";import{S as Ve}from"./settings-DgRwRsZF.js";import{L as de}from"./lock-XCq0dHTY.js";import{U as ce}from"./upload-YlGsGxnx.js";import{C as me}from"./credit-card-By0IdnTO.js";import{I as he}from"./info-Dr6QlzrX.js";import{C as Oe}from"./camera-W0_qZCYL.js";import{P as Xe}from"./phone-PqoFJEyq.js";import{M as _e}from"./map-pin-wlEWBw89.js";import"./index-CWnO1h2h.js";import"./index-zokK3oQV.js";import"./index-BZw1vT_C.js";import"./index-BGiioUCj.js";import"./index-heHCkeO_.js";import"./circle-AYNPgkgN.js";import"./index-O3IU6Cgx.js";import"./index-BEl4sio8.js";import"./popover-kbEvo3Xe.js";import"./index-r8gFfIDH.js";import"./separator-Cw00ASEU.js";import"./format-CGvBu07F.js";import"./en-US-xSPtgCq_.js";import"./pt-BR-Cxqo7XV3.js";import"./search-CMPUhstB.js";import"./dropdown-menu-ap6SW7g-.js";import"./chevron-right-BpYdX1P5.js";import"./check-C4mt73Rm.js";import"./chart-pie-v1_qXiRF.js";import"./message-square-CVPf25-9.js";import"./file-text-BGlUqYEM.js";import"./dollar-sign-BIBdVfnw.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=fe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);function We(){const{user:s,logoutMutation:o}=ue(),{unreadCount:F}=ge(),[I]=ve(),[T,k]=N.useState(!1),[R,w]=N.useState(!1),B=()=>{o.mutate(void 0,{onSuccess:()=>{window.location.reload()},onError:i=>{console.error("Erro no logout:",i)}})},h=[{href:"/provider/dashboard",label:"Início",icon:ze,isActive:i=>i==="/provider/dashboard"||i==="/provider"||i==="/"},{href:"/provider/schedule",label:"Agenda",icon:W,isActive:i=>i.includes("schedule")||i.includes("agenda")},{href:"/provider/appointments",label:"Agendamentos",icon:De,isActive:i=>i.includes("appointments")||i.includes("agendamentos")},{href:"/provider/clients",label:"Clientes",icon:Le,isActive:i=>i.includes("clients")||i.includes("clientes")},{href:"/provider/services",label:"Serviços",icon:Re,isActive:i=>i.includes("services")||i.includes("servicos")},{href:"/provider/finances",label:"Finanças",icon:Be,isActive:i=>i.includes("finances")||i.includes("financas")},{href:"/provider/reports",label:"Relatórios",icon:Ge,isActive:i=>i.includes("reports")||i.includes("relatorios")},{href:"/profile",label:"Perfil",icon:S,isActive:i=>i.includes("profile")||i.includes("perfil")||i.includes("settings")}],M=()=>{w(!R)},r=i=>i.isActive?i.isActive(I):I===i.href;return e.jsxs(Ee.header,{className:"sticky top-0 z-40 bg-white border-b shadow-sm",initial:{y:-60,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},children:[e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(Fe,{asChild:!0,className:"lg:hidden",children:e.jsxs(l,{variant:"ghost",size:"icon",onClick:()=>k(!0),children:[e.jsx(Ue,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Abrir menu"})]})})}),e.jsx(O,{children:e.jsx("p",{children:"Menu"})})]})}),e.jsxs(U,{href:"/provider/dashboard",className:"flex items-center space-x-2 ml-4",children:[e.jsx("img",{src:"/logo.svg",alt:"AgendoAI",className:"h-8 w-auto"}),e.jsx("span",{className:"hidden sm:inline-block font-semibold text-lg",children:"AgendoAI"})]})]}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:h.map(i=>{const j=r(i);return e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(U,{href:i.href,children:e.jsxs(l,{variant:j?"default":"ghost",size:"sm",className:"flex items-center gap-2",children:[e.jsx(i.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xl:inline",children:i.label})]})})}),e.jsx(O,{children:e.jsx("p",{children:i.label})})]})},i.href)})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(l,{variant:"ghost",size:"icon",onClick:M,className:"relative",children:[e.jsx($e,{className:"h-5 w-5"}),F>0&&e.jsx(Q,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:F})]})}),e.jsx(O,{children:e.jsx("p",{children:"Notificações"})})]})}),e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(U,{href:"/profile",children:e.jsx(l,{variant:"ghost",size:"icon",className:"rounded-full",children:e.jsx(z,{className:"h-8 w-8",children:s!=null&&s.profileImage?e.jsx(D,{src:s.profileImage,alt:s.name||"Usuário"}):e.jsx(L,{className:"bg-primary text-white",children:s!=null&&s.name?s.name.charAt(0).toUpperCase():e.jsx(S,{className:"h-4 w-4"})})})})})}),e.jsx(O,{children:e.jsx("p",{children:"Perfil"})})]})})]})]}),e.jsx(Ie,{open:T,onOpenChange:k,children:e.jsx(Te,{side:"left",className:"w-80",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(U,{href:"/provider/dashboard",className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/logo.svg",alt:"AgendoAI",className:"h-8 w-auto"}),e.jsx("span",{className:"font-semibold text-lg",children:"AgendoAI"})]}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>k(!1),children:e.jsx(Ne,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:h.map(i=>{const j=r(i);return e.jsx(U,{href:i.href,onClick:()=>k(!1),children:e.jsxs(l,{variant:j?"default":"ghost",className:"w-full justify-start",children:[e.jsx(i.icon,{className:"h-4 w-4 mr-3"}),i.label]})},i.href)})}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs(l,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:B,children:[e.jsx(qe,{className:"h-4 w-4 mr-3"}),"Sair"]})})]})})}),R&&e.jsx(ke,{onClose:()=>w(!1)})]})}function xe(s){return s?s.startsWith("http")?s:`${Pe}${s}`:null}function ea(){const{user:s}=ue(),{toast:o}=be(),[F,I]=N.useState("personal"),T=N.useRef(null),[k,R]=N.useState(null),[w,B]=N.useState(xe(s==null?void 0:s.profileImage)),[h,M]=N.useState(0),[r,i]=N.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||"",currentPassword:"",newPassword:"",confirmPassword:"",emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,defaultPaymentMethod:"pix"});N.useEffect(()=>{if(s){const a=localStorage.getItem("defaultPaymentMethod")||"credit_card";i(n=>({...n,name:s.name||"",email:s.email||"",phone:s.phone||"",address:s.address||"",defaultPaymentMethod:a})),B(xe(s.profileImage))}},[s]);const j=te({mutationFn:async a=>(await re("PUT",`/api/users/${s==null?void 0:s.id}`,a)).json(),onSuccess:()=>{ie.invalidateQueries({queryKey:["/api/user"]}),o({title:"Perfil atualizado",description:"Suas informações foram atualizadas com sucesso."})},onError:a=>{o({title:"Erro ao atualizar perfil",description:a.message,variant:"destructive"})}}),E=te({mutationFn:async a=>(await re("PUT",`/api/users/${s==null?void 0:s.id}/password`,a)).json(),onSuccess:()=>{i({...r,currentPassword:"",newPassword:"",confirmPassword:""}),o({title:"Senha alterada",description:"Sua senha foi alterada com sucesso."})},onError:a=>{o({title:"Erro ao alterar senha",description:a.message,variant:"destructive"})}}),x=a=>{const{name:n,value:b}=a.target;i({...r,[n]:b})},K=a=>{a.preventDefault(),j.mutate({name:r.name,phone:r.phone,address:r.address})},J=a=>{if(a.preventDefault(),r.newPassword!==r.confirmPassword){o({title:"Erro de validação",description:"As senhas não coincidem.",variant:"destructive"});return}if(r.newPassword.length<6){o({title:"Erro de validação",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}E.mutate({currentPassword:r.currentPassword,newPassword:r.newPassword})},{data:G=[],isLoading:Y}=we({queryKey:["/api/appointments"],queryFn:Ce({on401:"throw"}),enabled:!!s}),P=(a,n)=>{i({...r,[a]:n});const b={};b[a]=n,j.mutate(b)},Z=a=>{i({...r,defaultPaymentMethod:a}),localStorage.setItem("defaultPaymentMethod",a),o({title:"Método de pagamento atualizado",description:`Seu método de pagamento padrão foi alterado para ${a==="credit_card"?"Cartão de Crédito":a==="pix"?"PIX":"Dinheiro"}.`})},X=()=>{var a;(a=T.current)==null||a.click()},ee=async a=>{var se;const n=(se=a.target.files)==null?void 0:se[0];if(!n)return;if(!n.type.startsWith("image/")){o({title:"Tipo de arquivo inválido",description:"Por favor, selecione uma imagem.",variant:"destructive"});return}if(n.size>2*1024*1024){o({title:"Arquivo muito grande",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}R(n);const b=new FileReader;b.onloadend=()=>{B(b.result)},b.readAsDataURL(n),M(10);try{const $=new FormData;$.append("profileImage",n);const _=await fetch(`http://localhost:5000/api/users/${s==null?void 0:s.id}/profile-image`,{method:"POST",body:$,credentials:"include"});if(!_.ok){const je=await _.json();throw new Error(je.error||"Erro ao fazer upload da imagem")}const Ke=await _.json();M(100),ie.invalidateQueries({queryKey:["/api/user"]}),o({title:"Imagem atualizada",description:"Sua foto de perfil foi atualizada com sucesso."})}catch($){M(0),o({title:"Erro no upload",description:$.message||"Não foi possível enviar a imagem.",variant:"destructive"})}},pe=(s==null?void 0:s.userType)==="admin";return s?pe?e.jsx(He,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-white py-10 px-2",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(z,{className:"h-32 w-32 border-4 border-blue-500 shadow-lg",children:s.profileImage?e.jsx(D,{src:s.profileImage,alt:s.name||"Administrador"}):e.jsx(L,{className:"bg-blue-500 text-white text-4xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(S,{})})}),e.jsxs("span",{className:"absolute -bottom-3 right-2 bg-blue-600 text-white text-xs px-3 py-1 rounded-full shadow-md font-semibold flex items-center gap-1",children:[e.jsx(Ve,{className:"h-4 w-4 mr-1"})," Admin"]})]}),e.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-1",children:"Perfil do Administrador"}),e.jsx("p",{className:"text-blue-700 text-sm mb-2",children:"Gerencie suas informações administrativas"}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-base font-medium text-blue-800",children:s.name||"Nome não definido"}),e.jsx("span",{className:"text-sm text-blue-600",children:s.email})]})]}),e.jsx("div",{className:"bg-white border border-blue-100 rounded-2xl shadow-xl p-8",children:e.jsxs(ne,{value:F,onValueChange:I,className:"w-full",children:[e.jsxs(le,{className:"mb-6 bg-blue-50 rounded-lg p-1 flex gap-2 overflow-x-auto",children:[e.jsx(c,{value:"personal",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Informações Pessoais"}),e.jsx(c,{value:"password",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Senha"}),e.jsx(c,{value:"photo",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Foto"}),e.jsx(c,{value:"notifications",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Notificações"}),e.jsx(c,{value:"payment",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Pagamento"}),e.jsx(c,{value:"history",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Histórico"})]}),e.jsx(m,{value:"personal",children:e.jsxs("form",{id:"personal-info-form",onSubmit:K,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Nome completo"}),e.jsx(d,{id:"name",name:"name",value:r.name,onChange:x,placeholder:"Seu nome completo",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"E-mail"}),e.jsx(d,{id:"email",name:"email",value:r.email,disabled:!0,className:"bg-blue-50 border-blue-200 rounded-lg"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O e-mail não pode ser alterado"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Telefone"}),e.jsx(d,{id:"phone",name:"phone",value:r.phone,onChange:x,placeholder:"(00) 00000-0000",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{type:"submit",form:"personal-info-form",disabled:j.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-2 rounded-lg shadow-md",children:j.isPending?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar alterações"})})]})}),e.jsx(m,{value:"password",children:e.jsxs("form",{id:"password-form",onSubmit:J,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"currentPassword",children:"Senha atual"}),e.jsx(d,{id:"currentPassword",name:"currentPassword",type:"password",value:r.currentPassword,onChange:x,placeholder:"Digite sua senha atual",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"newPassword",children:"Nova senha"}),e.jsx(d,{id:"newPassword",name:"newPassword",type:"password",value:r.newPassword,onChange:x,placeholder:"Digite a nova senha",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirme a nova senha"}),e.jsx(d,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:x,placeholder:"Confirme a nova senha",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{type:"submit",form:"password-form",disabled:E.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-2 rounded-lg shadow-md",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Alterando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Alterar senha"]})})})]})}),e.jsx(m,{value:"photo",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Foto de Perfil"}),e.jsx(v,{children:"Atualize sua foto de perfil"})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(z,{className:"h-32 w-32 mb-4",children:w?e.jsx(D,{src:w,alt:s.name||"Usuário"}):e.jsx(L,{className:"bg-primary text-white text-3xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(S,{})})}),h>0&&h<100&&e.jsxs("div",{className:"w-full max-w-xs mb-4",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${h}%`}})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-1",children:["Enviando... ",h,"%"]})]}),e.jsx("input",{ref:T,type:"file",accept:"image/*",className:"hidden",onChange:ee}),e.jsxs(l,{variant:"outline",onClick:X,className:"mt-2",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Escolher Foto"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:"• Tamanho máximo: 2MB"}),e.jsx("p",{children:"• Formatos aceitos: JPG, PNG"}),e.jsx("p",{children:"• Dimensões ideais: 200x200 pixels"})]})]})]})}),e.jsx(m,{value:"notifications",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Notificações"}),e.jsx(v,{children:"Gerencie suas preferências de notificações"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"email-notifications",children:"Notificações por E-mail"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações de seus agendamentos por e-mail"})]}),e.jsx(C,{id:"email-notifications",checked:r.emailNotifications,onCheckedChange:a=>P("emailNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"push-notifications",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações em tempo real no navegador"})]}),e.jsx(C,{id:"push-notifications",checked:r.pushNotifications,onCheckedChange:a=>P("pushNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"sms-notifications",children:"Notificações SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes de agendamentos via SMS"})]}),e.jsx(C,{id:"sms-notifications",checked:r.smsNotifications,onCheckedChange:a=>P("smsNotifications",a)})]})]})]})}),e.jsx(m,{value:"payment",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Métodos de Pagamento"}),e.jsx(v,{children:"Gerencie suas preferências de pagamento"})]}),e.jsxs(p,{children:[e.jsxs(oe,{value:r.defaultPaymentMethod,onValueChange:Z,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(A,{value:"credit_card",id:"creditCard"}),e.jsxs(t,{htmlFor:"creditCard",className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx("span",{children:"Cartão de Crédito"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(A,{value:"pix",id:"pix"}),e.jsxs(t,{htmlFor:"pix",className:"flex items-center",children:[e.jsx("img",{src:"https://logospng.org/download/pix/logo-pix-icone-512.png",alt:"PIX",className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"PIX"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(A,{value:"local",id:"local"}),e.jsxs(t,{htmlFor:"local",className:"flex items-center",children:[e.jsx("span",{className:"h-4 w-4 mr-2 flex items-center justify-center text-primary",children:"$"}),e.jsx("span",{children:"Pagamento no Local"})]})]})]}),e.jsx("div",{className:"mt-6 bg-muted p-3 rounded-md",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Esta é sua preferência de pagamento padrão, mas você poderá escolher um método diferente durante o agendamento."]})})]})]})}),e.jsx(m,{value:"history",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Histórico de Agendamentos"}),e.jsx(v,{children:"Visualize seus agendamentos anteriores e atuais"})]}),e.jsx(p,{children:Y?e.jsx("div",{className:"py-10 flex justify-center",children:e.jsx(y,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):G.length===0?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx(W,{className:"h-10 w-10 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Você ainda não possui agendamentos"})]}):e.jsx("div",{className:"space-y-4",children:G.map(a=>e.jsxs("div",{className:"border rounded-md p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.serviceName}),e.jsx(Q,{variant:a.status==="confirmed"?"default":a.status==="completed"?"outline":a.status==="canceled"?"destructive":"secondary",children:a.status==="confirmed"?"Confirmado":a.status==="completed"?"Concluído":a.status==="canceled"?"Cancelado":"Pendente"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Prestador: ",a.providerName]}),e.jsxs("p",{children:["Data: ",new Date(a.date).toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:["Horário: ",a.startTime," - ",a.endTime]})]})]},a.id))})})]})})]})})]})})}):e.jsxs("div",{className:"min-h-screen bg-white",children:[s.userType==="provider"?e.jsx(We,{}):s.userType==="client"?e.jsx(Me,{}):null,e.jsxs("main",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Minhas Informações"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-1/3",children:e.jsx(u,{children:e.jsxs(p,{className:"pt-6 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(z,{className:"h-24 w-24",children:s.profileImage?e.jsx(D,{src:s.profileImage,alt:s.name||"Usuário"}):e.jsx(L,{className:"bg-primary text-white text-xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(S,{})})}),e.jsx(l,{size:"icon",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full",onClick:X,children:e.jsx(Oe,{className:"h-4 w-4"})})]}),e.jsx("h2",{className:"text-xl font-semibold",children:s.name||"Nome não definido"}),e.jsx("p",{className:"text-muted-foreground",children:s.userType==="provider"?"Prestador":"Cliente"}),e.jsxs("div",{className:"w-full mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),s.address&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.address})]})]})]})})}),e.jsx("div",{className:"w-full md:w-2/3",children:e.jsxs(ne,{value:F,onValueChange:I,className:"w-full",children:[e.jsxs(le,{className:"mb-6",children:[e.jsx(c,{value:"personal",children:"Informações Pessoais"}),e.jsx(c,{value:"password",children:"Senha"}),e.jsx(c,{value:"photo",children:"Foto"}),e.jsx(c,{value:"notifications",children:"Notificações"}),e.jsx(c,{value:"payment",children:"Pagamento"}),e.jsx(c,{value:"history",children:"Histórico"})]}),e.jsx(m,{value:"personal",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Informações Pessoais"}),e.jsx(v,{children:"Atualize seus dados de contato e endereço"})]}),e.jsx(p,{children:e.jsx("form",{id:"personal-info-form",onSubmit:K,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Nome completo"}),e.jsx(d,{id:"name",name:"name",value:r.name,onChange:x,placeholder:"Seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"E-mail"}),e.jsx(d,{id:"email",name:"email",value:r.email,disabled:!0,placeholder:"seu@email.com"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O e-mail não pode ser alterado"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Telefone"}),e.jsx(d,{id:"phone",name:"phone",value:r.phone,onChange:x,placeholder:"(00) 00000-0000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"address",children:"Endereço"}),e.jsx(d,{id:"address",name:"address",value:r.address,onChange:x,placeholder:"Seu endereço completo"})]})]})})}),e.jsx(ae,{className:"border-t px-6 py-4",children:e.jsx(l,{type:"submit",form:"personal-info-form",disabled:j.isPending,className:"ml-auto",children:j.isPending?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx("span",{children:"Salvando..."})]}):"Salvar alterações"})})]})}),e.jsx(m,{value:"password",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Alterar Senha"}),e.jsx(v,{children:"Atualize sua senha de acesso"})]}),e.jsxs(p,{children:[e.jsxs(Ae,{className:"mb-6",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),e.jsx(Se,{children:"Use uma senha forte com letras, números e caracteres especiais"})]}),e.jsx("form",{id:"password-form",onSubmit:J,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"currentPassword",children:"Senha atual"}),e.jsx(d,{id:"currentPassword",name:"currentPassword",type:"password",value:r.currentPassword,onChange:x,placeholder:"Digite sua senha atual"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"newPassword",children:"Nova senha"}),e.jsx(d,{id:"newPassword",name:"newPassword",type:"password",value:r.newPassword,onChange:x,placeholder:"Digite a nova senha"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirme a nova senha"}),e.jsx(d,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:x,placeholder:"Confirme a nova senha"})]})]})})]}),e.jsx(ae,{className:"border-t px-6 py-4",children:e.jsx(l,{type:"submit",form:"password-form",disabled:E.isPending,className:"ml-auto",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx("span",{children:"Alterando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Alterar senha"})]})})})]})}),e.jsx(m,{value:"photo",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Foto de Perfil"}),e.jsx(v,{children:"Atualize sua foto de perfil"})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(z,{className:"h-32 w-32 mb-4",children:w?e.jsx(D,{src:w,alt:s.name||"Usuário"}):e.jsx(L,{className:"bg-primary text-white text-3xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(S,{})})}),h>0&&h<100&&e.jsxs("div",{className:"w-full max-w-xs mb-4",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${h}%`}})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-1",children:["Enviando... ",h,"%"]})]}),e.jsx("input",{ref:T,type:"file",accept:"image/*",className:"hidden",onChange:ee}),e.jsxs(l,{variant:"outline",onClick:X,className:"mt-2",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Escolher Foto"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:"• Tamanho máximo: 2MB"}),e.jsx("p",{children:"• Formatos aceitos: JPG, PNG"}),e.jsx("p",{children:"• Dimensões ideais: 200x200 pixels"})]})]})]})}),e.jsx(m,{value:"notifications",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Notificações"}),e.jsx(v,{children:"Gerencie suas preferências de notificações"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"email-notifications",children:"Notificações por E-mail"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações de seus agendamentos por e-mail"})]}),e.jsx(C,{id:"email-notifications",checked:r.emailNotifications,onCheckedChange:a=>P("emailNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"push-notifications",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações em tempo real no navegador"})]}),e.jsx(C,{id:"push-notifications",checked:r.pushNotifications,onCheckedChange:a=>P("pushNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"sms-notifications",children:"Notificações SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes de agendamentos via SMS"})]}),e.jsx(C,{id:"sms-notifications",checked:r.smsNotifications,onCheckedChange:a=>P("smsNotifications",a)})]})]})]})}),e.jsx(m,{value:"payment",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Métodos de Pagamento"}),e.jsx(v,{children:"Gerencie suas preferências de pagamento"})]}),e.jsxs(p,{children:[e.jsxs(oe,{value:r.defaultPaymentMethod,onValueChange:Z,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(A,{value:"credit_card",id:"creditCard"}),e.jsxs(t,{htmlFor:"creditCard",className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx("span",{children:"Cartão de Crédito"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(A,{value:"pix",id:"pix"}),e.jsxs(t,{htmlFor:"pix",className:"flex items-center",children:[e.jsx("img",{src:"https://logospng.org/download/pix/logo-pix-icone-512.png",alt:"PIX",className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"PIX"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(A,{value:"local",id:"local"}),e.jsxs(t,{htmlFor:"local",className:"flex items-center",children:[e.jsx("span",{className:"h-4 w-4 mr-2 flex items-center justify-center text-primary",children:"$"}),e.jsx("span",{children:"Pagamento no Local"})]})]})]}),e.jsx("div",{className:"mt-6 bg-muted p-3 rounded-md",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Esta é sua preferência de pagamento padrão, mas você poderá escolher um método diferente durante o agendamento."]})})]})]})}),e.jsx(m,{value:"history",children:e.jsxs(u,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Histórico de Agendamentos"}),e.jsx(v,{children:"Visualize seus agendamentos anteriores e atuais"})]}),e.jsx(p,{children:Y?e.jsx("div",{className:"py-10 flex justify-center",children:e.jsx(y,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):G.length===0?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx(W,{className:"h-10 w-10 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Você ainda não possui agendamentos"})]}):e.jsx("div",{className:"space-y-4",children:G.map(a=>e.jsxs("div",{className:"border rounded-md p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.serviceName}),e.jsx(Q,{variant:a.status==="confirmed"?"default":a.status==="completed"?"outline":a.status==="canceled"?"destructive":"secondary",children:a.status==="confirmed"?"Confirmado":a.status==="completed"?"Concluído":a.status==="canceled"?"Cancelado":"Pendente"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Prestador: ",a.providerName]}),e.jsxs("p",{children:["Data: ",new Date(a.date).toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:["Horário: ",a.startTime," - ",a.endTime]})]})]},a.id))})})]})})]})})]})]})]}):e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(y,{className:"h-8 w-8 animate-spin text-primary"})})}export{ea as default};
