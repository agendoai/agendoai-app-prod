import{j as e}from"./ui-UIpCtT3r.js";import{r as N}from"./vendor-vA4cx1mx.js";import{j as ge,u as ue,l as ve,b as pe,X as Ne,c as be,L as C,C as x,d as j,e as f,f as g,g as u,h as ae,m as we,n as ye,q as ie,A as Ce,i as re,o as Pe}from"./index-BJ9Cw0LR.js";import{u as te}from"./useMutation-CDdW0pzE.js";import{I as o}from"./input-CNw_l4dQ.js";import{L as t}from"./label-qfvszZNj.js";import{B as l}from"./button-BvsVcTDx.js";import{T as ne,a as le,b as c,c as m}from"./tabs-0uPJ4FVU.js";import{A as Ae,a as Se}from"./alert-D4b1dLXp.js";import{A as L,a as U,b as D}from"./avatar-DEanbPY_.js";import{S}from"./switch-BjwSyAKP.js";import{R as oe,a as F}from"./radio-group-BgX2rSz9.js";import{B as Q}from"./badge-BQpU5zw7.js";import{u as Fe,L as E}from"./router-CxXythJb.js";import{S as Ie,a as Te,b as ke}from"./sheet-NdLuqHVB.js";import{N as Me,C as ze}from"./client-navbar-BF-FRtxo.js";import{T as q,a as H,b as V,c as O}from"./tooltip-COUzrM8n.js";import{m as Ee}from"./proxy-Bw6ASuXk.js";import{M as Le}from"./menu-B7gXVrLX.js";import{H as Ue}from"./house-CCMYCVaH.js";import{C as W}from"./calendar-tibBNAR3.js";import{C as De}from"./calendar-check-DUwfC2Eu.js";import{U as Re}from"./users-ZhvK7Ip9.js";import{C as Be}from"./clock-BoQP0pJL.js";import{W as Ge}from"./wallet-BMtpzKcM.js";import{C as $e}from"./chart-no-axes-column-increasing-BVwDjs9K.js";import{U as I}from"./user-C2y4PfJ8.js";import{B as qe}from"./bell-vRE7a1ng.js";import{L as He}from"./log-out-CdVFLkWN.js";import{A as Ve}from"./AdminLayout-CK4BVgFY.js";import{S as Oe}from"./settings-WRZm2y6w.js";import{L as de}from"./lock-IdjQRp-S.js";import{U as ce}from"./upload-CVAIpm7t.js";import{C as me}from"./credit-card-CO61cKh_.js";import{I as he}from"./info-BMxsxXaN.js";import{C as Xe}from"./camera-CJ77s7z1.js";import{P as _e}from"./phone-DjbgJx4V.js";import{M as Qe}from"./map-pin-D9hoaVWV.js";import"./index-BH3L9zMK.js";import"./circle-CxgECyF4.js";import"./popover-Cm05a-D6.js";import"./separator-B7JIGNlt.js";import"./format-CGvBu07F.js";import"./en-US-xSPtgCq_.js";import"./pt-BR-Cxqo7XV3.js";import"./search-ByWcnwgm.js";import"./dropdown-menu-Dyfg7Gk4.js";import"./chevron-right-CATzdtP3.js";import"./check-ZbxB06uW.js";import"./chart-pie-BpPIjllb.js";import"./message-square-8xU1RYWw.js";import"./file-text-Dcjpqiow.js";import"./dollar-sign-DtfLClfe.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ge("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);function Ke(){const{user:s,logoutMutation:d}=ue(),{unreadCount:T}=ve(),[k]=Fe(),[M,z]=N.useState(!1),[R,y]=N.useState(!1),{toast:B}=pe(),p=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),console.log("üîë Token removido diretamente do localStorage e sessionStorage"),B({title:"Logout realizado",description:"Voc√™ saiu da sua conta com sucesso."}),setTimeout(()=>{console.log("üîÑ Recarregando p√°gina..."),window.location.reload()},500)},P=[{href:"/provider/dashboard",label:"In√≠cio",icon:Ue,isActive:i=>i==="/provider/dashboard"||i==="/provider"||i==="/"},{href:"/provider/schedule",label:"Agenda",icon:W,isActive:i=>i.includes("schedule")||i.includes("agenda")},{href:"/provider/appointments",label:"Agendamentos",icon:De,isActive:i=>i.includes("appointments")||i.includes("agendamentos")},{href:"/provider/clients",label:"Clientes",icon:Re,isActive:i=>i.includes("clients")||i.includes("clientes")},{href:"/provider/services",label:"Servi√ßos",icon:Be,isActive:i=>i.includes("services")||i.includes("servicos")},{href:"/provider/finances",label:"Finan√ßas",icon:Ge,isActive:i=>i.includes("finances")||i.includes("financas")},{href:"/provider/reports",label:"Relat√≥rios",icon:$e,isActive:i=>i.includes("reports")||i.includes("relatorios")},{href:"/profile",label:"Perfil",icon:I,isActive:i=>i.includes("profile")||i.includes("perfil")||i.includes("settings")}],r=()=>{y(!R)},b=i=>i.isActive?i.isActive(k):k===i.href;return e.jsxs(Ee.header,{className:"sticky top-0 z-40 bg-white border-b shadow-sm",initial:{y:-60,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},children:[e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(Ie,{asChild:!0,className:"lg:hidden",children:e.jsxs(l,{variant:"ghost",size:"icon",onClick:()=>z(!0),children:[e.jsx(Le,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Abrir menu"})]})})}),e.jsx(O,{children:e.jsx("p",{children:"Menu"})})]})}),e.jsxs(E,{href:"/provider/dashboard",className:"flex items-center space-x-2 ml-4",children:[e.jsx("img",{src:"/logo.svg",alt:"AgendoAI",className:"h-8 w-auto"}),e.jsx("span",{className:"hidden sm:inline-block font-semibold text-lg",children:"AgendoAI"})]})]}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:P.map(i=>{const v=b(i);return e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(E,{href:i.href,children:e.jsxs(l,{variant:v?"default":"ghost",size:"sm",className:"flex items-center gap-2",children:[e.jsx(i.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xl:inline",children:i.label})]})})}),e.jsx(O,{children:e.jsx("p",{children:i.label})})]})},i.href)})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(l,{variant:"ghost",size:"icon",onClick:r,className:"relative",children:[e.jsx(qe,{className:"h-5 w-5"}),T>0&&e.jsx(Q,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:T})]})}),e.jsx(O,{children:e.jsx("p",{children:"Notifica√ß√µes"})})]})}),e.jsx(q,{children:e.jsxs(H,{children:[e.jsx(V,{asChild:!0,children:e.jsx(E,{href:"/profile",children:e.jsx(l,{variant:"ghost",size:"icon",className:"rounded-full",children:e.jsx(L,{className:"h-8 w-8",children:s!=null&&s.profileImage?e.jsx(U,{src:s.profileImage,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white",children:s!=null&&s.name?s.name.charAt(0).toUpperCase():e.jsx(I,{className:"h-4 w-4"})})})})})}),e.jsx(O,{children:e.jsx("p",{children:"Perfil"})})]})})]})]}),e.jsx(Te,{open:M,onOpenChange:z,children:e.jsx(ke,{side:"left",className:"w-80",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(E,{href:"/provider/dashboard",className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/logo.svg",alt:"AgendoAI",className:"h-8 w-auto"}),e.jsx("span",{className:"font-semibold text-lg",children:"AgendoAI"})]}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>z(!1),children:e.jsx(Ne,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:P.map(i=>{const v=b(i);return e.jsx(E,{href:i.href,onClick:()=>z(!1),children:e.jsxs(l,{variant:v?"default":"ghost",className:"w-full justify-start",children:[e.jsx(i.icon,{className:"h-4 w-4 mr-3"}),i.label]})},i.href)})}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs(l,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:p,children:[e.jsx(He,{className:"h-4 w-4 mr-3"}),"Sair"]})})]})})}),R&&e.jsx(Me,{onClose:()=>y(!1)})]})}function xe(s){return s?s.startsWith("http")?s:`${Ce}${s}`:null}function Js(){const{user:s}=ue(),{toast:d}=pe(),[T,k]=N.useState("personal"),M=N.useRef(null),[z,R]=N.useState(null),[y,B]=N.useState(xe(s==null?void 0:s.profileImage)),[p,P]=N.useState(0),[r,b]=N.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||"",currentPassword:"",newPassword:"",confirmPassword:"",emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,defaultPaymentMethod:"pix"});N.useEffect(()=>{if(s){const a=localStorage.getItem("defaultPaymentMethod")||"credit_card";b(n=>({...n,name:s.name||"",email:s.email||"",phone:s.phone||"",address:s.address||"",defaultPaymentMethod:a})),B(xe(s.profileImage))}},[s]);const i=te({mutationFn:async a=>(await re("PUT",`/api/users/${s==null?void 0:s.id}`,a)).json(),onSuccess:()=>{ie.invalidateQueries({queryKey:["/api/user"]}),d({title:"Perfil atualizado",description:"Suas informa√ß√µes foram atualizadas com sucesso."})},onError:a=>{d({title:"Erro ao atualizar perfil",description:a.message,variant:"destructive"})}}),v=te({mutationFn:async a=>(await re("PUT",`/api/users/${s==null?void 0:s.id}/password`,a)).json(),onSuccess:()=>{b({...r,currentPassword:"",newPassword:"",confirmPassword:""}),d({title:"Senha alterada",description:"Sua senha foi alterada com sucesso."})},onError:a=>{d({title:"Erro ao alterar senha",description:a.message,variant:"destructive"})}}),h=a=>{const{name:n,value:w}=a.target;b({...r,[n]:w})},K=a=>{a.preventDefault(),i.mutate({name:r.name,phone:r.phone,address:r.address})},J=a=>{if(a.preventDefault(),r.newPassword!==r.confirmPassword){d({title:"Erro de valida√ß√£o",description:"As senhas n√£o coincidem.",variant:"destructive"});return}if(r.newPassword.length<6){d({title:"Erro de valida√ß√£o",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}v.mutate({currentPassword:r.currentPassword,newPassword:r.newPassword})},{data:G=[],isLoading:Y}=be({queryKey:["/api/appointments"],queryFn:Pe({on401:"throw"}),enabled:!!s}),A=(a,n)=>{b({...r,[a]:n});const w={};w[a]=n,i.mutate(w)},Z=a=>{b({...r,defaultPaymentMethod:a}),localStorage.setItem("defaultPaymentMethod",a),d({title:"M√©todo de pagamento atualizado",description:`Seu m√©todo de pagamento padr√£o foi alterado para ${a==="credit_card"?"Cart√£o de Cr√©dito":a==="pix"?"PIX":"Dinheiro"}.`})},X=()=>{var a;(a=M.current)==null||a.click()},ee=async a=>{var se;const n=(se=a.target.files)==null?void 0:se[0];if(!n)return;if(!n.type.startsWith("image/")){d({title:"Tipo de arquivo inv√°lido",description:"Por favor, selecione uma imagem.",variant:"destructive"});return}if(n.size>2*1024*1024){d({title:"Arquivo muito grande",description:"A imagem deve ter no m√°ximo 2MB.",variant:"destructive"});return}R(n);const w=new FileReader;w.onloadend=()=>{B(w.result)},w.readAsDataURL(n),P(10);try{const $=new FormData;$.append("profileImage",n);const _=await ye(`/users/${s==null?void 0:s.id}/profile-image`,{method:"POST",body:$});if(!_.ok){const fe=await _.json();throw new Error(fe.error||"Erro ao fazer upload da imagem")}const Je=await _.json();P(100),ie.invalidateQueries({queryKey:["/api/user"]}),d({title:"Imagem atualizada",description:"Sua foto de perfil foi atualizada com sucesso."})}catch($){P(0),d({title:"Erro no upload",description:$.message||"N√£o foi poss√≠vel enviar a imagem.",variant:"destructive"})}},je=(s==null?void 0:s.userType)==="admin";return s?je?e.jsx(Ve,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-white py-10 px-2",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(L,{className:"h-32 w-32 border-4 border-blue-500 shadow-lg",children:s.profileImage?e.jsx(U,{src:s.profileImage,alt:s.name||"Administrador"}):e.jsx(D,{className:"bg-blue-500 text-white text-4xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(I,{})})}),e.jsxs("span",{className:"absolute -bottom-3 right-2 bg-blue-600 text-white text-xs px-3 py-1 rounded-full shadow-md font-semibold flex items-center gap-1",children:[e.jsx(Oe,{className:"h-4 w-4 mr-1"})," Admin"]})]}),e.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-1",children:"Perfil do Administrador"}),e.jsx("p",{className:"text-blue-700 text-sm mb-2",children:"Gerencie suas informa√ß√µes administrativas"}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-base font-medium text-blue-800",children:s.name||"Nome n√£o definido"}),e.jsx("span",{className:"text-sm text-blue-600",children:s.email})]})]}),e.jsx("div",{className:"bg-white border border-blue-100 rounded-2xl shadow-xl p-8",children:e.jsxs(ne,{value:T,onValueChange:k,className:"w-full",children:[e.jsxs(le,{className:"mb-6 bg-blue-50 rounded-lg p-1 flex gap-2 overflow-x-auto",children:[e.jsx(c,{value:"personal",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Informa√ß√µes Pessoais"}),e.jsx(c,{value:"password",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Senha"}),e.jsx(c,{value:"photo",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Foto"}),e.jsx(c,{value:"notifications",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Notifica√ß√µes"}),e.jsx(c,{value:"payment",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Pagamento"}),e.jsx(c,{value:"history",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white rounded-lg px-4 py-2 font-semibold",children:"Hist√≥rico"})]}),e.jsx(m,{value:"personal",children:e.jsxs("form",{id:"personal-info-form",onSubmit:K,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Nome completo"}),e.jsx(o,{id:"name",name:"name",value:r.name,onChange:h,placeholder:"Seu nome completo",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"E-mail"}),e.jsx(o,{id:"email",name:"email",value:r.email,disabled:!0,className:"bg-blue-50 border-blue-200 rounded-lg"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O e-mail n√£o pode ser alterado"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Telefone"}),e.jsx(o,{id:"phone",name:"phone",value:r.phone,onChange:h,placeholder:"(00) 00000-0000",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{type:"submit",form:"personal-info-form",disabled:i.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-2 rounded-lg shadow-md",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar altera√ß√µes"})})]})}),e.jsx(m,{value:"password",children:e.jsxs("form",{id:"password-form",onSubmit:J,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"currentPassword",children:"Senha atual"}),e.jsx(o,{id:"currentPassword",name:"currentPassword",type:"password",value:r.currentPassword,onChange:h,placeholder:"Digite sua senha atual",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"newPassword",children:"Nova senha"}),e.jsx(o,{id:"newPassword",name:"newPassword",type:"password",value:r.newPassword,onChange:h,placeholder:"Digite a nova senha",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirme a nova senha"}),e.jsx(o,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:h,placeholder:"Confirme a nova senha",className:"bg-blue-50 border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{type:"submit",form:"password-form",disabled:v.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-2 rounded-lg shadow-md",children:v.isPending?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2 animate-spin"}),"Alterando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Alterar senha"]})})})]})}),e.jsx(m,{value:"photo",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Foto de Perfil"}),e.jsx(g,{children:"Atualize sua foto de perfil"})]}),e.jsxs(u,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(L,{className:"h-32 w-32 mb-4",children:y?e.jsx(U,{src:y,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white text-3xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(I,{})})}),p>0&&p<100&&e.jsxs("div",{className:"w-full max-w-xs mb-4",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${p}%`}})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-1",children:["Enviando... ",p,"%"]})]}),e.jsx("input",{ref:M,type:"file",accept:"image/*",className:"hidden",onChange:ee}),e.jsxs(l,{variant:"outline",onClick:X,className:"mt-2",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Escolher Foto"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:"‚Ä¢ Tamanho m√°ximo: 2MB"}),e.jsx("p",{children:"‚Ä¢ Formatos aceitos: JPG, PNG"}),e.jsx("p",{children:"‚Ä¢ Dimens√µes ideais: 200x200 pixels"})]})]})]})}),e.jsx(m,{value:"notifications",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Notifica√ß√µes"}),e.jsx(g,{children:"Gerencie suas prefer√™ncias de notifica√ß√µes"})]}),e.jsxs(u,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"email-notifications",children:"Notifica√ß√µes por E-mail"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualiza√ß√µes de seus agendamentos por e-mail"})]}),e.jsx(S,{id:"email-notifications",checked:r.emailNotifications,onCheckedChange:a=>A("emailNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"push-notifications",children:"Notifica√ß√µes Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notifica√ß√µes em tempo real no navegador"})]}),e.jsx(S,{id:"push-notifications",checked:r.pushNotifications,onCheckedChange:a=>A("pushNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"sms-notifications",children:"Notifica√ß√µes SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes de agendamentos via SMS"})]}),e.jsx(S,{id:"sms-notifications",checked:r.smsNotifications,onCheckedChange:a=>A("smsNotifications",a)})]})]})]})}),e.jsx(m,{value:"payment",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"M√©todos de Pagamento"}),e.jsx(g,{children:"Gerencie suas prefer√™ncias de pagamento"})]}),e.jsxs(u,{children:[e.jsxs(oe,{value:r.defaultPaymentMethod,onValueChange:Z,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"credit_card",id:"creditCard"}),e.jsxs(t,{htmlFor:"creditCard",className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx("span",{children:"Cart√£o de Cr√©dito"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"pix",id:"pix"}),e.jsxs(t,{htmlFor:"pix",className:"flex items-center",children:[e.jsx("img",{src:"https://logospng.org/download/pix/logo-pix-icone-512.png",alt:"PIX",className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"PIX"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"local",id:"local"}),e.jsxs(t,{htmlFor:"local",className:"flex items-center",children:[e.jsx("span",{className:"h-4 w-4 mr-2 flex items-center justify-center text-primary",children:"$"}),e.jsx("span",{children:"Pagamento no Local"})]})]})]}),e.jsx("div",{className:"mt-6 bg-muted p-3 rounded-md",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Esta √© sua prefer√™ncia de pagamento padr√£o, mas voc√™ poder√° escolher um m√©todo diferente durante o agendamento."]})})]})]})}),e.jsx(m,{value:"history",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Hist√≥rico de Agendamentos"}),e.jsx(g,{children:"Visualize seus agendamentos anteriores e atuais"})]}),e.jsx(u,{children:Y?e.jsx("div",{className:"py-10 flex justify-center",children:e.jsx(C,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):G.length===0?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx(W,{className:"h-10 w-10 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Voc√™ ainda n√£o possui agendamentos"})]}):e.jsx("div",{className:"space-y-4",children:G.map(a=>e.jsxs("div",{className:"border rounded-md p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.serviceName}),e.jsx(Q,{variant:a.status==="confirmed"?"default":a.status==="completed"?"outline":a.status==="canceled"?"destructive":"secondary",children:a.status==="confirmed"?"Confirmado":a.status==="completed"?"Conclu√≠do":a.status==="canceled"?"Cancelado":"Pendente"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Prestador: ",a.providerName]}),e.jsxs("p",{children:["Data: ",new Date(a.date).toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:["Hor√°rio: ",a.startTime," - ",a.endTime]})]})]},a.id))})})]})})]})})]})})}):e.jsxs("div",{className:"min-h-screen bg-white",children:[s.userType==="provider"?e.jsx(Ke,{}):s.userType==="client"?e.jsx(ze,{}):null,e.jsxs("main",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Minhas Informa√ß√µes"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-1/3",children:e.jsx(x,{children:e.jsxs(u,{className:"pt-6 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(L,{className:"h-24 w-24",children:s.profileImage?e.jsx(U,{src:s.profileImage,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white text-xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(I,{})})}),e.jsx(l,{size:"icon",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full",onClick:X,children:e.jsx(Xe,{className:"h-4 w-4"})})]}),e.jsx("h2",{className:"text-xl font-semibold",children:s.name||"Nome n√£o definido"}),e.jsx("p",{className:"text-muted-foreground",children:s.userType==="provider"?"Prestador":"Cliente"}),e.jsxs("div",{className:"w-full mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),s.address&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"h-4 w-4 text-muted-foreground mr-2"}),e.jsx("span",{className:"text-sm",children:s.address})]})]})]})})}),e.jsx("div",{className:"w-full md:w-2/3",children:e.jsxs(ne,{value:T,onValueChange:k,className:"w-full",children:[e.jsxs(le,{className:"mb-6",children:[e.jsx(c,{value:"personal",children:"Informa√ß√µes Pessoais"}),e.jsx(c,{value:"password",children:"Senha"}),e.jsx(c,{value:"photo",children:"Foto"}),e.jsx(c,{value:"notifications",children:"Notifica√ß√µes"}),e.jsx(c,{value:"payment",children:"Pagamento"}),e.jsx(c,{value:"history",children:"Hist√≥rico"})]}),e.jsx(m,{value:"personal",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Informa√ß√µes Pessoais"}),e.jsx(g,{children:"Atualize seus dados de contato e endere√ßo"})]}),e.jsx(u,{children:e.jsx("form",{id:"personal-info-form",onSubmit:K,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Nome completo"}),e.jsx(o,{id:"name",name:"name",value:r.name,onChange:h,placeholder:"Seu nome completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"email",children:"E-mail"}),e.jsx(o,{id:"email",name:"email",value:r.email,disabled:!0,placeholder:"seu@email.com"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O e-mail n√£o pode ser alterado"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"phone",children:"Telefone"}),e.jsx(o,{id:"phone",name:"phone",value:r.phone,onChange:h,placeholder:"(00) 00000-0000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"address",children:"Endere√ßo"}),e.jsx(o,{id:"address",name:"address",value:r.address,onChange:h,placeholder:"Seu endere√ßo completo"})]})]})})}),e.jsx(ae,{className:"border-t px-6 py-4",children:e.jsx(l,{type:"submit",form:"personal-info-form",disabled:i.isPending,className:"ml-auto",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx("span",{children:"Salvando..."})]}):"Salvar altera√ß√µes"})})]})}),e.jsx(m,{value:"password",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Alterar Senha"}),e.jsx(g,{children:"Atualize sua senha de acesso"})]}),e.jsxs(u,{children:[e.jsxs(Ae,{className:"mb-6",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),e.jsx(Se,{children:"Use uma senha forte com letras, n√∫meros e caracteres especiais"})]}),e.jsx("form",{id:"password-form",onSubmit:J,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"currentPassword",children:"Senha atual"}),e.jsx(o,{id:"currentPassword",name:"currentPassword",type:"password",value:r.currentPassword,onChange:h,placeholder:"Digite sua senha atual"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"newPassword",children:"Nova senha"}),e.jsx(o,{id:"newPassword",name:"newPassword",type:"password",value:r.newPassword,onChange:h,placeholder:"Digite a nova senha"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirme a nova senha"}),e.jsx(o,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:h,placeholder:"Confirme a nova senha"})]})]})})]}),e.jsx(ae,{className:"border-t px-6 py-4",children:e.jsx(l,{type:"submit",form:"password-form",disabled:v.isPending,className:"ml-auto",children:v.isPending?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx("span",{children:"Alterando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Alterar senha"})]})})})]})}),e.jsx(m,{value:"photo",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Foto de Perfil"}),e.jsx(g,{children:"Atualize sua foto de perfil"})]}),e.jsxs(u,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(L,{className:"h-32 w-32 mb-4",children:y?e.jsx(U,{src:y,alt:s.name||"Usu√°rio"}):e.jsx(D,{className:"bg-primary text-white text-3xl",children:s.name?s.name.charAt(0).toUpperCase():e.jsx(I,{})})}),p>0&&p<100&&e.jsxs("div",{className:"w-full max-w-xs mb-4",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${p}%`}})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-1",children:["Enviando... ",p,"%"]})]}),e.jsx("input",{ref:M,type:"file",accept:"image/*",className:"hidden",onChange:ee}),e.jsxs(l,{variant:"outline",onClick:X,className:"mt-2",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Escolher Foto"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:"‚Ä¢ Tamanho m√°ximo: 2MB"}),e.jsx("p",{children:"‚Ä¢ Formatos aceitos: JPG, PNG"}),e.jsx("p",{children:"‚Ä¢ Dimens√µes ideais: 200x200 pixels"})]})]})]})}),e.jsx(m,{value:"notifications",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Notifica√ß√µes"}),e.jsx(g,{children:"Gerencie suas prefer√™ncias de notifica√ß√µes"})]}),e.jsxs(u,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"email-notifications",children:"Notifica√ß√µes por E-mail"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualiza√ß√µes de seus agendamentos por e-mail"})]}),e.jsx(S,{id:"email-notifications",checked:r.emailNotifications,onCheckedChange:a=>A("emailNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"push-notifications",children:"Notifica√ß√µes Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notifica√ß√µes em tempo real no navegador"})]}),e.jsx(S,{id:"push-notifications",checked:r.pushNotifications,onCheckedChange:a=>A("pushNotifications",a)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"sms-notifications",children:"Notifica√ß√µes SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes de agendamentos via SMS"})]}),e.jsx(S,{id:"sms-notifications",checked:r.smsNotifications,onCheckedChange:a=>A("smsNotifications",a)})]})]})]})}),e.jsx(m,{value:"payment",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"M√©todos de Pagamento"}),e.jsx(g,{children:"Gerencie suas prefer√™ncias de pagamento"})]}),e.jsxs(u,{children:[e.jsxs(oe,{value:r.defaultPaymentMethod,onValueChange:Z,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"credit_card",id:"creditCard"}),e.jsxs(t,{htmlFor:"creditCard",className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 mr-2 text-primary"}),e.jsx("span",{children:"Cart√£o de Cr√©dito"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"pix",id:"pix"}),e.jsxs(t,{htmlFor:"pix",className:"flex items-center",children:[e.jsx("img",{src:"https://logospng.org/download/pix/logo-pix-icone-512.png",alt:"PIX",className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"PIX"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(F,{value:"local",id:"local"}),e.jsxs(t,{htmlFor:"local",className:"flex items-center",children:[e.jsx("span",{className:"h-4 w-4 mr-2 flex items-center justify-center text-primary",children:"$"}),e.jsx("span",{children:"Pagamento no Local"})]})]})]}),e.jsx("div",{className:"mt-6 bg-muted p-3 rounded-md",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Esta √© sua prefer√™ncia de pagamento padr√£o, mas voc√™ poder√° escolher um m√©todo diferente durante o agendamento."]})})]})]})}),e.jsx(m,{value:"history",children:e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Hist√≥rico de Agendamentos"}),e.jsx(g,{children:"Visualize seus agendamentos anteriores e atuais"})]}),e.jsx(u,{children:Y?e.jsx("div",{className:"py-10 flex justify-center",children:e.jsx(C,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):G.length===0?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx(W,{className:"h-10 w-10 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Voc√™ ainda n√£o possui agendamentos"})]}):e.jsx("div",{className:"space-y-4",children:G.map(a=>e.jsxs("div",{className:"border rounded-md p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.serviceName}),e.jsx(Q,{variant:a.status==="confirmed"?"default":a.status==="completed"?"outline":a.status==="canceled"?"destructive":"secondary",children:a.status==="confirmed"?"Confirmado":a.status==="completed"?"Conclu√≠do":a.status==="canceled"?"Cancelado":"Pendente"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Prestador: ",a.providerName]}),e.jsxs("p",{children:["Data: ",new Date(a.date).toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:["Hor√°rio: ",a.startTime," - ",a.endTime]})]})]},a.id))})})]})})]})})]})]})]}):e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(C,{className:"h-8 w-8 animate-spin text-primary"})})}export{Js as default};
