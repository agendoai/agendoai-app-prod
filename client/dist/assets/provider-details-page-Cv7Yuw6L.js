import{j as s}from"./ui-UIpCtT3r.js";import{r as O}from"./vendor-vA4cx1mx.js";import{j as _,c as p,B as u,C as i,g as l,p as z}from"./index-C8-zpcKL.js";import{b as E,u as Q}from"./router-CxXythJb.js";import{A as U}from"./app-header-BagtWBY8.js";import{N as R}from"./navbar-vyjn30u5.js";import{T as J,a as W,b as N,c as f}from"./tabs-BhZpxXQ2.js";import{S as t}from"./skeleton-BVOxvpuD.js";import{A as k,a as S,b as A}from"./avatar-BBcRvo13.js";import{B as d}from"./badge-DP5DyHeb.js";import{S as G}from"./page-transition-DPJ0INUt.js";import{S as T}from"./star-D5FTFs0S.js";import{M as L}from"./map-pin-DhYkN1aN.js";import{C as X}from"./calendar-clock--UryPdE9.js";import{M as Y}from"./message-circle-DgzyFwZ-.js";import{I as $}from"./info-T3nclRBe.js";import{T as Z}from"./thumbs-up-DKhcaYWl.js";import{C as I}from"./clock-53JnXU7l.js";import{C as ss}from"./credit-card-CEItYo9H.js";import{m as F}from"./proxy-B2Nma8Bt.js";import{C as as}from"./calendar-CEG0wbcY.js";import"./dropdown-menu-CUOsS9wa.js";import"./chevron-right-DnXY7g-Q.js";import"./check-yFju7Kvd.js";import"./circle-DyW2RO_p.js";import"./arrow-left-DbtXU75N.js";import"./bell-CZnX4FjY.js";import"./ellipsis-vertical-lNYOA75X.js";import"./user-CXc1AnQW.js";import"./settings-DR9OFCdO.js";import"./circle-help-BAOtwWti.js";import"./message-square-CMlinHqp.js";import"./log-out-BVXZMdHH.js";import"./search-ChrBAPJG.js";import"./calendar-check-B0nV5Uhw.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=_("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);function Vs(){var v,w;const{providerId:o,serviceId:n}=E(),[,H]=Q(),[M,P]=O.useState("sobre"),{data:a,isLoading:B}=p({queryKey:[`/api/providers/${o}`]}),{data:x=[],isLoading:b}=p({queryKey:[`/api/providers/${o}/services`]}),{data:y=[],isLoading:q}=p({queryKey:[`/api/providers/${o}/reviews`]}),{data:ts,isLoading:D}=p({queryKey:[`/api/services/${n}`],enabled:!!n}),m=B||b||!!n&&D,g=e=>{H(`/client/book/date/${o}/${e}`)},V=()=>{window.open("https://wa.me/5500000000000?text=Olá, vi seu perfil no AgendoAI e gostaria de saber mais sobre seus serviços.","_blank")},K=e=>{if(!e)return"Horário não informado";try{const r=JSON.parse(e),h={1:"Segunda",2:"Terça",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sábado",7:"Domingo"};return Object.entries(r).map(([j,c])=>{const C=h[j];return c.isOpen?`${C}: ${c.startTime} às ${c.endTime}`:`${C}: Fechado`}).join(`
`)}catch{return e}};return s.jsxs("div",{className:"pb-20 bg-white min-h-screen",children:[s.jsx(U,{showBackButton:!0,userType:"client",showMenuIcon:!0,transparent:!0}),s.jsx(G,{children:s.jsxs("div",{children:[s.jsx("div",{className:"relative h-40 bg-gradient-to-b from-primary/80 to-primary",children:s.jsx("div",{className:"absolute -bottom-16 left-4 z-10",children:s.jsx(k,{className:"h-32 w-32 border-4 border-white shadow-sm",children:m?s.jsx(t,{className:"h-full w-full rounded-full"}):s.jsxs(s.Fragment,{children:[s.jsx(S,{src:(a==null?void 0:a.profileImage)||""}),s.jsx(A,{className:"bg-primary/10 text-primary text-2xl font-medium",children:(v=a==null?void 0:a.name)==null?void 0:v.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase()})]})})})}),s.jsx("div",{className:"pt-20 pb-4 px-4",children:m?s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{className:"h-6 w-48"}),s.jsx(t,{className:"h-4 w-32"}),s.jsx(t,{className:"h-4 w-64"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl font-bold",children:a==null?void 0:a.name}),s.jsxs("div",{className:"flex items-center mt-1 text-sm",children:[s.jsx(T,{className:"h-4 w-4 text-amber-500 mr-1"}),s.jsxs("span",{children:[((w=a==null?void 0:a.rating)==null?void 0:w.toFixed(1))||"Novo",(a==null?void 0:a.ratingCount)>0&&` (${a==null?void 0:a.ratingCount})`]}),(a==null?void 0:a.city)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:"•"}),s.jsx(L,{className:"h-4 w-4 text-neutral-500 mr-1"}),s.jsxs("span",{className:"text-neutral-500",children:[a==null?void 0:a.city,a!=null&&a.state?`, ${a==null?void 0:a.state}`:""]})]})]}),(a==null?void 0:a.specialties)&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:a.specialties.split(",").map((e,r)=>s.jsx(d,{variant:"outline",className:"bg-primary/10 border-primary/20 text-primary font-normal",children:e.trim()},r))})]})}),s.jsxs("div",{className:"flex px-4 mb-4 gap-2",children:[s.jsxs(u,{className:"flex-1",onClick:()=>{var e;return g(parseInt(n||(((e=x[0])==null?void 0:e.id)||0).toString()))},disabled:m||x.length===0,children:[s.jsx(X,{className:"h-4 w-4 mr-2"}),"Agendar"]}),s.jsxs(u,{variant:"outline",onClick:V,disabled:m,children:[s.jsx(Y,{className:"h-4 w-4 mr-2"}),"Contato"]})]}),s.jsxs(J,{defaultValue:"sobre",className:"w-full",value:M,onValueChange:P,children:[s.jsx("div",{className:"border-b",children:s.jsx("div",{className:"px-2",children:s.jsxs(W,{className:"w-full bg-transparent h-auto p-0 mb-0",children:[s.jsxs(N,{value:"sobre",className:"flex-1 py-3 rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:shadow-none",children:[s.jsx($,{className:"h-4 w-4 mr-2"}),"Sobre"]}),s.jsxs(N,{value:"servicos",className:"flex-1 py-3 rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:shadow-none",children:[s.jsx(es,{className:"h-4 w-4 mr-2"}),"Serviços"]}),s.jsxs(N,{value:"avaliacoes",className:"flex-1 py-3 rounded-none data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:shadow-none",children:[s.jsx(Z,{className:"h-4 w-4 mr-2"}),"Avaliações"]})]})})}),s.jsx(f,{value:"sobre",className:"p-4 space-y-4",children:m?s.jsxs("div",{className:"space-y-4",children:[s.jsx(t,{className:"h-32 w-full"}),s.jsx(t,{className:"h-24 w-full"}),s.jsx(t,{className:"h-24 w-full"})]}):s.jsxs(s.Fragment,{children:[(a==null?void 0:a.bio)&&s.jsx(i,{children:s.jsxs(l,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx($,{className:"h-4 w-4 mr-2 text-neutral-500"}),"Sobre mim"]}),s.jsx("p",{className:"text-sm text-neutral-700",children:a.bio})]})}),s.jsx(i,{children:s.jsxs(l,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(I,{className:"h-4 w-4 mr-2 text-neutral-500"}),"Horário de atendimento"]}),s.jsx("div",{className:"text-sm text-neutral-700 whitespace-pre-line",children:K(a==null?void 0:a.workingHours)})]})}),s.jsx(i,{children:s.jsxs(l,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(ss,{className:"h-4 w-4 mr-2 text-neutral-500"}),"Formas de pagamento"]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[(a==null?void 0:a.acceptsCards)&&s.jsx(d,{variant:"outline",className:"bg-neutral-100",children:"Cartão"}),(a==null?void 0:a.acceptsPix)&&s.jsx(d,{variant:"outline",className:"bg-neutral-100",children:"Pix"}),(a==null?void 0:a.acceptsCash)&&s.jsx(d,{variant:"outline",className:"bg-neutral-100",children:"Dinheiro"})]})]})}),(a==null?void 0:a.address)&&s.jsx(i,{children:s.jsxs(l,{className:"p-4",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(L,{className:"h-4 w-4 mr-2 text-neutral-500"}),"Endereço"]}),s.jsx("div",{className:"text-sm text-neutral-700",children:a.address})]})})]})}),s.jsx(f,{value:"servicos",className:"p-4",children:b?s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((e,r)=>s.jsx(i,{children:s.jsxs(l,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx(t,{className:"h-5 w-40"}),s.jsx(t,{className:"h-5 w-16"})]}),s.jsx(t,{className:"h-4 w-full mb-2"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(t,{className:"h-4 w-24 mr-4"}),s.jsx(t,{className:"h-8 w-24"})]})]})},r))}):x.length>0?s.jsx("div",{className:"space-y-3",children:x.map((e,r)=>s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.05},children:s.jsx(i,{className:e.id.toString()===n?"border-primary bg-primary/5":"",children:s.jsxs(l,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("h3",{className:"font-medium",children:e.name}),s.jsx("span",{className:"font-medium text-primary",children:z(e.price)})]}),e.description&&s.jsx("div",{className:"text-sm text-neutral-600 mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-neutral-500",children:[s.jsx(I,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[e.duration," minutos"]})]}),s.jsxs(u,{size:"sm",onClick:()=>g(e.id),className:e.id.toString()===n?"bg-primary-dark hover:bg-primary-dark/90":"",children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),"Agendar"]})]})]})})},e.id))}):s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-neutral-500",children:"Nenhum serviço cadastrado por este prestador."})})}),s.jsx(f,{value:"avaliacoes",className:"p-4",children:q?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,r)=>s.jsx(i,{children:s.jsxs(l,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(t,{className:"h-10 w-10 rounded-full mr-3"}),s.jsxs("div",{children:[s.jsx(t,{className:"h-4 w-32 mb-1"}),s.jsx(t,{className:"h-4 w-24"})]})]}),s.jsx(t,{className:"h-4 w-full mb-1"}),s.jsx(t,{className:"h-4 w-3/4"})]})},r))}):y.length>0?s.jsx("div",{className:"space-y-4",children:y.map((e,r)=>{var h;return s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.05},children:s.jsx(i,{children:s.jsxs(l,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsxs(k,{className:"h-10 w-10 mr-3",children:[s.jsx(S,{src:e.clientAvatar||""}),s.jsx(A,{children:(h=e.clientName)==null?void 0:h.split(" ").map(j=>j[0]).join("").substring(0,2).toUpperCase()})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h4",{className:"font-medium text-sm",children:e.clientName}),e.isVerified&&s.jsx(d,{className:"ml-2 text-[10px] py-0 h-4",variant:"outline",children:"Verificado"})]}),s.jsxs("div",{className:"flex items-center text-xs text-neutral-500",children:[s.jsx("div",{className:"flex mr-2",children:[...Array(5)].map((j,c)=>s.jsx(T,{className:`h-3 w-3 ${c<e.rating?"fill-amber-500 text-amber-500":"text-neutral-300"}`},c))}),s.jsx("span",{children:new Date(e.date).toLocaleDateString()})]})]})]}),e.comment&&s.jsx("div",{className:"text-sm text-neutral-700",children:e.comment})]})})},e.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-neutral-500",children:"Ainda não há avaliações para este prestador."}),s.jsx("div",{className:"text-neutral-500 text-sm mt-2",children:"Seja o primeiro a avaliar após realizar um serviço!"})]})})]})]})}),s.jsx(R,{})]})}export{Vs as default};
