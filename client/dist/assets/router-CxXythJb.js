import{r as c,R as F}from"./vendor-vA4cx1mx.js";function N(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,o,a=[],u="",f=e.split("/");for(f[0]||f.shift();s=f.shift();)n=s[0],n==="*"?(a.push(n),u+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),o=s.indexOf(".",1),a.push(s.substring(1,~r?r:~o?o:s.length)),u+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(u+=(~r?"?":"")+"\\"+s.substring(o))):u+="/"+s;return{keys:a,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var $={exports:{}},U={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y=c;function T(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z=typeof Object.is=="function"?Object.is:T,G=y.useState,Q=y.useEffect,q=y.useLayoutEffect,J=y.useDebugValue;function W(e,t){var n=t(),r=G({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return q(function(){s.value=n,s.getSnapshot=t,g(s)&&o({inst:s})},[e,n,t]),Q(function(){return g(s)&&o({inst:s}),e(function(){g(s)&&o({inst:s})})},[e]),J(n),n}function g(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!z(e,n)}catch{return!0}}function X(e,t){return t()}var Y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X:W;U.useSyncExternalStore=y.useSyncExternalStore!==void 0?y.useSyncExternalStore:Y;$.exports=U;var Z=$.exports;const ee=F.useInsertionEffect,te=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_=te?c.useLayoutEffect:c.useEffect,ne=ee||_,v=e=>{const t=c.useRef([e,(...n)=>t[0](...n)]).current;return ne(()=>{t[0]=e}),t[1]},se="popstate",P="pushState",x="replaceState",re="hashchange",k=[se,P,x,re],oe=e=>{for(const t of k)addEventListener(t,e);return()=>{for(const t of k)removeEventListener(t,e)}},D=(e,t)=>Z.useSyncExternalStore(oe,e,t),ae=()=>location.search,ce=({ssrSearch:e=""}={})=>D(ae,()=>e),C=()=>location.pathname,ue=({ssrPath:e}={})=>D(C,e?()=>e:C),ie=(e,{replace:t=!1,state:n=null}={})=>history[t?x:P](n,"",e),fe=(e={})=>[ue(e),ie],O=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[O]>"u"){for(const e of[P,x]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,O,{value:!0})}const le=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",I=(e="")=>e==="/"?"":e,he=(e,t)=>e[0]==="~"?e.slice(1):I(t)+e,de=(e="",t)=>le(w(I(e)),w(t)),me=e=>e[0]==="?"?e.slice(1):e,w=e=>{try{return decodeURI(e)}catch{return e}},pe=e=>w(me(e)),K={hook:fe,searchHook:ce,parser:N,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},V=c.createContext(K),m=()=>c.useContext(V),H={},M=c.createContext(H),ye=()=>c.useContext(M),S=e=>{const[t,n]=e.hook(e);return[de(e.base,t),v((r,s)=>n(he(r,e.base),s))]},A=()=>S(m()),Ee=()=>{const e=m();return pe(e.searchHook(e))},R=(e,t,n,r)=>{const{pattern:s,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=s.exec(n)||[],[u,...f]=a;return u!==void 0?[!0,(()=>{const i=o!==!1?Object.fromEntries(o.map((E,h)=>[E,f[h]])):a.groups;let l={...f};return i&&Object.assign(l,i),l})(),...r?[u]:[]]:[!1,null]},we=e=>R(m().parser,e,A()[0]),Se=({children:e,...t})=>{var l,E;const n=m(),r=t.hook?K:n;let s=r;const[o,a]=((l=t.ssrPath)==null?void 0:l.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=o),t.hrefs=t.hrefs??((E=t.hook)==null?void 0:E.hrefs);let u=c.useRef({}),f=u.current,i=f;for(let h in r){const p=h==="base"?r[h]+(t[h]||""):t[h]||r[h];f===i&&p!==i[h]&&(u.current=i={...i}),i[h]=p,(p!==r[h]||p!==s[h])&&(s=i)}return c.createElement(V.Provider,{value:s,children:e})},j=({children:e,component:t},n)=>t?c.createElement(t,{params:n}):typeof e=="function"?e(n):e,ve=e=>{let t=c.useRef(H);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n};function Pe(){const[e,t]=A(),n=Ee(),r=c.useMemo(()=>new URLSearchParams(n),[n]);let s=r;const o=v((a,u)=>{s=new URLSearchParams(typeof a=="function"?a(s):a),t(e+"?"+s,u)});return[r,o]}const xe=({path:e,nest:t,match:n,...r})=>{const s=m(),[o]=S(s),[a,u,f]=n??R(s.parser,e,o,t),i=ve({...ye(),...u});if(!a)return null;const l=f?c.createElement(Se,{base:f},j(r,i)):j(r,i);return c.createElement(M.Provider,{value:i,children:l})},Re=c.forwardRef((e,t)=>{const n=m(),[r,s]=S(n),{to:o="",href:a=o,onClick:u,asChild:f,children:i,className:l,replace:E,state:h,...p}=e,b=v(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(u==null||u(d),d.defaultPrevented||(d.preventDefault(),s(a,e)))}),L=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return f&&c.isValidElement(i)?c.cloneElement(i,{onClick:b,href:L}):c.createElement("a",{...p,onClick:b,href:L,className:l!=null&&l.call?l(r===a):l,children:i,ref:t})}),B=e=>Array.isArray(e)?e.flatMap(t=>B(t&&t.type===c.Fragment?t.props.children:t)):[e],be=({children:e,location:t})=>{const n=m(),[r]=S(n);for(const s of B(e)){let o=0;if(c.isValidElement(s)&&(o=R(n.parser,s.props.path,t||r,s.props.nest))[0])return c.cloneElement(s,{match:o})}return null},Le=e=>{const{to:t,href:n=t}=e,r=m(),[,s]=S(r),o=v(()=>s(t||n,e)),{ssrContext:a}=r;return _(()=>{o()},[]),a&&(a.redirectTo=t),null};export{Re as L,xe as R,be as S,Le as a,ye as b,Pe as c,we as d,Z as s,A as u};
