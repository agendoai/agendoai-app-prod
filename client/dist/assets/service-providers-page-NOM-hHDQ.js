import{s as y,a as C,r as S,d as x,j as e,C as p,i as h}from"./index-BdrEJuYD.js";import{A as P}from"./app-header-HnU5DY7s.js";import{I as L}from"./input-BRNzA_b4.js";import{S as r}from"./skeleton-DyFVqEqB.js";import{S as k}from"./search-DiCZmcCn.js";import{S as I}from"./star-B8vaUN9l.js";import{M as $}from"./map-pin-CyBsg2bZ.js";import{C as A}from"./clock-BTnG-tJG.js";import"./avatar-YOIRMJBI.js";import"./badge-muy4ZFs4.js";import"./button-CynjWJoH.js";import"./dropdown-menu-DWmQMH9U.js";import"./index-YY5r1pln.js";import"./index-DTy3TPQv.js";import"./index-Bg9Ro7l2.js";import"./index-CeeqZ7YQ.js";import"./index-BoRtQnRr.js";import"./index-BYdWi_2u.js";import"./chevron-right-DQzs9QCW.js";import"./check-WTIUe9ha.js";import"./circle-CB07NW__.js";import"./proxy-C6NuY9h3.js";import"./arrow-left-nRi6-7bo.js";import"./bell-DPzU_a_S.js";import"./ellipsis-vertical-BhTX8B4K.js";import"./house-CU2aGGLt.js";import"./calendar-CiGw-_KP.js";import"./user-DCpoqoA-.js";import"./settings-Derag0Pt.js";import"./circle-help-cap19nX6.js";import"./message-square-kvDXS4V3.js";import"./log-out-9hU1A0cG.js";function ce(){const{serviceId:i}=y(),[,u]=C(),[n,j]=S.useState(""),{data:m,isLoading:N}=x({queryKey:[`/api/services/${i}`]}),{data:f=[],isLoading:g}=x({queryKey:[`/api/providers?serviceId=${i}`]}),v=s=>{u(`/client/booking-wizard?providerId=${s}&serviceId=${i}`)},b=N||g,l=f.filter(s=>{var t;return(((t=s.settings)==null?void 0:t.businessName)||s.name||"").toLowerCase().includes(n.toLowerCase())});return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(P,{title:(m==null?void 0:m.name)||"Prestadores",showBackButton:!0}),e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(L,{type:"text",placeholder:"Buscar prestadores",className:"pl-10",value:n,onChange:s=>j(s.target.value)}),e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"})]})}),e.jsx("div",{className:"p-4",children:b?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,a)=>e.jsxs(p,{className:"border border-neutral-200 overflow-hidden",children:[e.jsx(r,{className:"h-32 w-full"}),e.jsxs(h,{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(r,{className:"h-6 w-48"}),e.jsx(r,{className:"h-5 w-12"})]}),e.jsx(r,{className:"h-5 w-36 mb-2"}),e.jsx(r,{className:"h-5 w-full"})]})]},a))}):l.length>0?e.jsx("div",{className:"space-y-4",children:l.map(s=>{var a,t,o,c,d;return e.jsxs(p,{className:"border border-neutral-200 overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>v(s.id),children:[e.jsx("div",{className:"h-32 bg-neutral-100 overflow-hidden",children:(a=s.settings)!=null&&a.coverImage?e.jsx("img",{src:s.settings.coverImage,alt:((t=s.settings)==null?void 0:t.businessName)||s.name||"Provider",className:"w-full h-full object-cover",onError:w=>{w.currentTarget.src="https://via.placeholder.com/400x200?text=Sem+imagem"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-primary/10",children:e.jsx("p",{className:"text-primary font-medium",children:"Sem imagem de capa"})})}),e.jsxs(h,{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-lg",children:((o=s.settings)==null?void 0:o.businessName)||s.name||"Prestador"}),((c=s.settings)==null?void 0:c.rating)&&e.jsxs("div",{className:"flex items-center text-yellow-500",children:[e.jsx(I,{className:"h-4 w-4 fill-current"}),e.jsx("span",{className:"ml-1 text-neutral-800",children:(s.settings.rating/10).toFixed(1)})]})]}),((d=s.settings)==null?void 0:d.address)&&e.jsxs("div",{className:"flex items-center text-neutral-500 text-sm mb-2",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:s.settings.address})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(A,{className:"h-4 w-4 mr-1 text-primary"}),e.jsx("span",{children:"Disponível hoje"})]}),e.jsx("span",{className:"text-primary font-medium",children:"Ver horários"})]})]})]},s.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-neutral-500",children:"Nenhum prestador encontrado para este serviço."}),e.jsx("button",{className:"mt-4 text-primary font-medium",onClick:()=>window.history.back(),children:"Voltar para categorias"})]})})]})}export{ce as default};
