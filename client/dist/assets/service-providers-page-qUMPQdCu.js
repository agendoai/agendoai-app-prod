import{j as e}from"./ui-UIpCtT3r.js";import{c as x,C as h,g as p}from"./index-DMVSlINz.js";import{b as y,u as C}from"./router-CxXythJb.js";import{A as S}from"./app-header-wB_4hYan.js";import{I as P}from"./input-swbZ2nNg.js";import{S as r}from"./skeleton-CgQ25LnD.js";import{r as L}from"./vendor-vA4cx1mx.js";import{S as k}from"./search-0bFur5DB.js";import{S as I}from"./star-BTI1i1jV.js";import{M as $}from"./map-pin-BJouWYuW.js";import{C as A}from"./clock-DluLCsci.js";import"./avatar-DJ_tL6P_.js";import"./badge-CIXRfmkI.js";import"./dropdown-menu-DwBmztZZ.js";import"./chevron-right-D0P32XR-.js";import"./check-pZ3JKVe2.js";import"./circle-CRjqYs4g.js";import"./proxy-CAhTMUof.js";import"./arrow-left-3dZ_zEs-.js";import"./bell-D5zNslsE.js";import"./ellipsis-vertical-BwovH0yi.js";import"./calendar-CYlMr0qt.js";import"./user-DxXpbN3a.js";import"./settings-Blcd0dvr.js";import"./circle-help-C8c3Z800.js";import"./message-square-CHbKsffD.js";import"./log-out-CiUJLpAa.js";function ie(){const{serviceId:i}=y(),[,u]=C(),[n,j]=L.useState(""),{data:m,isLoading:f}=x({queryKey:[`/api/services/${i}`]}),{data:N=[],isLoading:g}=x({queryKey:[`/api/providers?serviceId=${i}`]}),v=s=>{u(`/client/booking-wizard?providerId=${s}&serviceId=${i}`)},b=f||g,l=N.filter(s=>{var t;return(((t=s.settings)==null?void 0:t.businessName)||s.name||"").toLowerCase().includes(n.toLowerCase())});return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(S,{title:(m==null?void 0:m.name)||"Prestadores",showBackButton:!0}),e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{type:"text",placeholder:"Buscar prestadores",className:"pl-10",value:n,onChange:s=>j(s.target.value)}),e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"})]})}),e.jsx("div",{className:"p-4",children:b?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,a)=>e.jsxs(h,{className:"border border-neutral-200 overflow-hidden",children:[e.jsx(r,{className:"h-32 w-full"}),e.jsxs(p,{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(r,{className:"h-6 w-48"}),e.jsx(r,{className:"h-5 w-12"})]}),e.jsx(r,{className:"h-5 w-36 mb-2"}),e.jsx(r,{className:"h-5 w-full"})]})]},a))}):l.length>0?e.jsx("div",{className:"space-y-4",children:l.map(s=>{var a,t,o,c,d;return e.jsxs(h,{className:"border border-neutral-200 overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>v(s.id),children:[e.jsx("div",{className:"h-32 bg-neutral-100 overflow-hidden",children:(a=s.settings)!=null&&a.coverImage?e.jsx("img",{src:s.settings.coverImage,alt:((t=s.settings)==null?void 0:t.businessName)||s.name||"Provider",className:"w-full h-full object-cover",onError:w=>{w.currentTarget.src="https://via.placeholder.com/400x200?text=Sem+imagem"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-primary/10",children:e.jsx("p",{className:"text-primary font-medium",children:"Sem imagem de capa"})})}),e.jsxs(p,{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-lg",children:((o=s.settings)==null?void 0:o.businessName)||s.name||"Prestador"}),((c=s.settings)==null?void 0:c.rating)&&e.jsxs("div",{className:"flex items-center text-yellow-500",children:[e.jsx(I,{className:"h-4 w-4 fill-current"}),e.jsx("span",{className:"ml-1 text-neutral-800",children:(s.settings.rating/10).toFixed(1)})]})]}),((d=s.settings)==null?void 0:d.address)&&e.jsxs("div",{className:"flex items-center text-neutral-500 text-sm mb-2",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:s.settings.address})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(A,{className:"h-4 w-4 mr-1 text-primary"}),e.jsx("span",{children:"Disponível hoje"})]}),e.jsx("span",{className:"text-primary font-medium",children:"Ver horários"})]})]})]},s.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-neutral-500",children:"Nenhum prestador encontrado para este serviço."}),e.jsx("button",{className:"mt-4 text-primary font-medium",onClick:()=>window.history.back(),children:"Voltar para categorias"})]})})]})}export{ie as default};
