var Kd=Object.defineProperty;var Gd=(r,e,t)=>e in r?Kd(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var o=(r,e,t)=>Gd(r,typeof e!="symbol"?e+"":e,t);import{c as Wd,b as Xd,r as at,d as Ht,j as c,C as Yt,f as er,g as tr,i as rr,h as Jd,o as Hd,l as jt}from"./index-DFO2lo2s.js";import{u as Ct}from"./useMutation-BIXw1p8a.js";import{B as be}from"./button-6IH7luFD.js";import{T as Yd,b as ec,c as sr,d as ot,e as tc,f as dt}from"./table-B8FpWq2u.js";import{D as Pt,f as rc,a as Dt,b as Et,c as Ot,e as Vt}from"./dialog-eRBlhqVz.js";import{I as Ae}from"./input-DGvqAMIq.js";import{T as nr}from"./textarea-D6LzI8S1.js";import{S as ir,a as ar,b as or,c as dr,d as cr}from"./select-KhIWU-DA.js";import{A as ur}from"./admin-layout-C3pKDCEc.js";import{u as lr,t as fr,f as pr,s as mr,n as hr}from"./zod-BMBsLIH7.js";import{F as gr,a as ee,b as te,c as re,d as se,e as ne,f as ct}from"./form-BF8kH3_z.js";import{P as sc}from"./plus-CUNQfl1u.js";import{C as nc}from"./clock-BQ1l0DXv.js";import{P as ic}from"./pencil-Bzp10w51.js";import{T as ac}from"./trash-2-7t4qwQZj.js";import"./index-O3IU6Cgx.js";import"./index-zokK3oQV.js";import"./index-BEl4sio8.js";import"./index-BdQq_4o_.js";import"./index-BZw1vT_C.js";import"./index-r8gFfIDH.js";import"./index-heHCkeO_.js";import"./index-BGiioUCj.js";import"./chevron-down-Cj8L_1vh.js";import"./check-C4mt73Rm.js";import"./navbar-BoNMuwo_.js";import"./proxy-BltBotVH.js";import"./house-sGd4nDnu.js";import"./search-CMPUhstB.js";import"./calendar-check-CDRCjfO9.js";import"./user-WwS7npix.js";import"./badge-DWGHGqHr.js";import"./avatar-CVSf1ztN.js";import"./dropdown-menu-ap6SW7g-.js";import"./index-CWnO1h2h.js";import"./chevron-right-BpYdX1P5.js";import"./circle-AYNPgkgN.js";import"./settings-DgRwRsZF.js";import"./log-out-CXzoyitA.js";import"./menu-Chrz4g6w.js";import"./bell-BMDILFyN.js";import"./arrow-left-DxjewkX7.js";import"./users-BzOlSFYN.js";import"./calendar-CXCri533.js";import"./trending-up-DBa8ujnj.js";import"./folder-tree-Dcw3zZgx.js";import"./credit-card-By0IdnTO.js";import"./share-2-BheqIbEr.js";import"./circle-help-HpEjPFgh.js";import"./book-open-BearcadJ.js";import"./label-ByXqB0vV.js";const p=Symbol.for("drizzle:entityKind");function B(r,e){if(!r||typeof r!="object")return!1;if(r instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,p))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let t=Object.getPrototypeOf(r).constructor;if(t)for(;t;){if(p in t&&t[p]===e[p])return!0;t=Object.getPrototypeOf(t)}return!1}var kr;kr=p;class Pe{constructor(e,t){o(this,"name");o(this,"keyAsName");o(this,"primary");o(this,"notNull");o(this,"default");o(this,"defaultFn");o(this,"onUpdateFn");o(this,"hasDefault");o(this,"isUnique");o(this,"uniqueName");o(this,"uniqueType");o(this,"dataType");o(this,"columnType");o(this,"enumValues");o(this,"generated");o(this,"generatedIdentity");o(this,"config");this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}o(Pe,kr,"Column");var jr;jr=p;class la{constructor(e,t,s){o(this,"config");o(this,"$default",this.$defaultFn);o(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}o(la,jr,"ColumnBuilder");const je=Symbol.for("drizzle:Name");var Cr;Cr=p;class fa{constructor(e,t){o(this,"reference");o(this,"_onUpdate","no action");o(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:n,foreignColumns:i}=e();return{name:s,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new pa(e,this)}}o(fa,Cr,"PgForeignKeyBuilder");var Pr;Pr=p;class pa{constructor(e,t){o(this,"reference");o(this,"onUpdate");o(this,"onDelete");this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}getName(){const{name:e,columns:t,foreignColumns:s}=this.reference(),n=t.map(d=>d.name),i=s.map(d=>d.name),a=[this.table[je],...n,s[0].table[je],...i];return e??`${a.join("_")}_fk`}}o(pa,Pr,"PgForeignKey");function oc(r,...e){return r(...e)}function dc(r,e){return`${r[je]}_${e.join("_")}_unique`}function yr(r,e,t){for(let s=e;s<r.length;s++){const n=r[s];if(n==="\\"){s++;continue}if(n==='"')return[r.slice(e,s).replace(/\\/g,""),s+1];if(!t&&(n===","||n==="}"))return[r.slice(e,s).replace(/\\/g,""),s]}return[r.slice(e).replace(/\\/g,""),r.length]}function ma(r,e=0){const t=[];let s=e,n=!1;for(;s<r.length;){const i=r[s];if(i===","){(n||s===e)&&t.push(""),n=!0,s++;continue}if(n=!1,i==="\\"){s+=2;continue}if(i==='"'){const[f,m]=yr(r,s+1,!0);t.push(f),s=m;continue}if(i==="}")return[t,s+1];if(i==="{"){const[f,m]=ma(r,s+1);t.push(f),s=m;continue}const[a,d]=yr(r,s,!1);t.push(a),s=d}return[t,s]}function cc(r){const[e]=ma(r,1);return e}function ha(r){return`{${r.map(e=>Array.isArray(e)?ha(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Dr,Er;class C extends(Er=la,Dr=p,Er){constructor(){super(...arguments);o(this,"foreignKeyConfigs",[])}array(t){return new ya(this.config.name,this,t)}references(t,s={}){return this.foreignKeyConfigs.push({ref:t,actions:s}),this}unique(t,s){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,s){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>oc((a,d)=>{const f=new fa(()=>{const m=a();return{columns:[t],foreignColumns:[m]}});return d.onUpdate&&f.onUpdate(d.onUpdate),d.onDelete&&f.onDelete(d.onDelete),f.build(s)},n,i))}buildExtraConfigColumn(t){return new ga(t,this.config)}}o(C,Dr,"PgColumnBuilder");var Or,Vr;class A extends(Vr=Pe,Or=p,Vr){constructor(e,t){t.uniqueName||(t.uniqueName=dc(e,[t.name])),super(e,t),this.table=e}}o(A,Or,"PgColumn");var Mr,zr;class ga extends(zr=A,Mr=p,zr){constructor(){super(...arguments);o(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});o(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}o(ga,Mr,"ExtraConfigColumn");var Rr,Fr;class ya extends(Fr=C,Rr=p,Fr){constructor(e,t,s){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=s}build(e){const t=this.config.baseBuilder.build(e);return new $t(e,this.config,t)}}o(ya,Rr,"PgArrayBuilder");var $r,Lr;const _t=class _t extends(Lr=A,$r=p,Lr){constructor(t,s,n,i){super(t,s);o(this,"size");this.baseColumn=n,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=cc(t)),t.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(t,s=!1){const n=t.map(i=>i===null?null:B(this.baseColumn,_t)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?n:ha(n)}};o(_t,$r,"PgArray");let $t=_t;const _r=Symbol.for("drizzle:isPgEnum");function uc(r){return!!r&&typeof r=="function"&&_r in r&&r[_r]===!0}var Br;Br=p;class qt{constructor(e,t,s,n=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:s,isWith:n}}}o(qt,Br,"Subquery");const lc={startActiveSpan(r,e){return e()}},Ce=Symbol.for("drizzle:ViewBaseConfig"),Mt=Symbol.for("drizzle:Schema"),vr=Symbol.for("drizzle:Columns"),br=Symbol.for("drizzle:ExtraConfigColumns"),zt=Symbol.for("drizzle:OriginalName"),Rt=Symbol.for("drizzle:BaseName"),ut=Symbol.for("drizzle:IsAlias"),xr=Symbol.for("drizzle:ExtraConfigBuilder"),_a=Symbol.for("drizzle:IsDrizzleTable");var Zr,qr,Ur,Qr,Kr,Gr,Wr,Xr,Jr,Hr;Hr=p,Jr=je,Xr=zt,Wr=Mt,Gr=vr,Kr=br,Qr=Rt,Ur=ut,qr=_a,Zr=xr;class U{constructor(e,t,s){o(this,Jr);o(this,Xr);o(this,Wr);o(this,Gr);o(this,Kr);o(this,Qr);o(this,Ur,!1);o(this,qr,!0);o(this,Zr);this[je]=this[zt]=e,this[Mt]=t,this[Rt]=s}}o(U,Hr,"Table"),o(U,"Symbol",{Name:je,Schema:Mt,OriginalName:zt,Columns:vr,ExtraConfigColumns:br,BaseName:Rt,IsAlias:ut,ExtraConfigBuilder:xr});function va(r){return typeof r=="object"&&r!==null&&_a in r}function fc(r){return r!=null&&typeof r.getSQL=="function"}function pc(r){var t;const e={sql:"",params:[]};for(const s of r)e.sql+=s.sql,e.params.push(...s.params),(t=s.typings)!=null&&t.length&&(e.typings||(e.typings=[]),e.typings.push(...s.typings));return e}var Yr;Yr=p;class G{constructor(e){o(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new $([this])}}o(G,Yr,"StringChunk");var es;es=p;const xe=class xe{constructor(e){o(this,"decoder",ba);o(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return lc.startActiveSpan("drizzle.buildSQL",t=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return t==null||t.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,t){const s=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:n,escapeName:i,escapeParam:a,prepareTyping:d,inlineParams:f,paramStartIndex:m}=s;return pc(e.map(l=>{var O;if(B(l,G))return{sql:l.value.join(""),params:[]};if(B(l,lt))return{sql:i(l.value),params:[]};if(l===void 0)return{sql:"",params:[]};if(Array.isArray(l)){const k=[new G("(")];for(const[V,Y]of l.entries())k.push(Y),V<l.length-1&&k.push(new G(", "));return k.push(new G(")")),this.buildQueryFromSourceParams(k,s)}if(B(l,xe))return this.buildQueryFromSourceParams(l.queryChunks,{...s,inlineParams:f||l.shouldInlineParams});if(B(l,U)){const k=l[U.Symbol.Schema],V=l[U.Symbol.Name];return{sql:k===void 0||l[ut]?i(V):i(k)+"."+i(V),params:[]}}if(B(l,Pe)){const k=n.getColumnCasing(l);if(t.invokeSource==="indexes")return{sql:i(k),params:[]};const V=l.table[U.Symbol.Schema];return{sql:l.table[ut]||V===void 0?i(l.table[U.Symbol.Name])+"."+i(k):i(V)+"."+i(l.table[U.Symbol.Name])+"."+i(k),params:[]}}if(B(l,Na)){const k=l[Ce].schema,V=l[Ce].name;return{sql:k===void 0||l[Ce].isAlias?i(V):i(k)+"."+i(V),params:[]}}if(B(l,Ut)){if(B(l.value,ft))return{sql:a(m.value++,l),params:[l],typings:["none"]};const k=l.value===null?null:l.encoder.mapToDriverValue(l.value);if(B(k,xe))return this.buildQueryFromSourceParams([k],s);if(f)return{sql:this.mapInlineParam(k,s),params:[]};let V=["none"];return d&&(V=[d(l.encoder)]),{sql:a(m.value++,k),params:[k],typings:V}}return B(l,ft)?{sql:a(m.value++,l),params:[l],typings:["none"]}:B(l,xe.Aliased)&&l.fieldAlias!==void 0?{sql:i(l.fieldAlias),params:[]}:B(l,qt)?l._.isWith?{sql:i(l._.alias),params:[]}:this.buildQueryFromSourceParams([new G("("),l._.sql,new G(") "),new lt(l._.alias)],s):uc(l)?l.schema?{sql:i(l.schema)+"."+i(l.enumName),params:[]}:{sql:i(l.enumName),params:[]}:fc(l)?(O=l.shouldOmitSQLParens)!=null&&O.call(l)?this.buildQueryFromSourceParams([l.getSQL()],s):this.buildQueryFromSourceParams([new G("("),l.getSQL(),new G(")")],s):f?{sql:this.mapInlineParam(l,s),params:[]}:{sql:a(m.value++,l),params:[l],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return t(e);if(typeof e=="object"){const s=e.toString();return t(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new xe.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};o(xe,es,"SQL");let $=xe;var ts;ts=p;class lt{constructor(e){o(this,"brand");this.value=e}getSQL(){return new $([this])}}o(lt,ts,"Name");const ba={mapFromDriverValue:r=>r},xa={mapToDriverValue:r=>r};({...ba,...xa});var rs;rs=p;class Ut{constructor(e,t=xa){o(this,"brand");this.value=e,this.encoder=t}getSQL(){return new $([this])}}o(Ut,rs,"Param");function De(r,...e){const t=[];(e.length>0||r.length>0&&r[0]!=="")&&t.push(new G(r[0]));for(const[s,n]of e.entries())t.push(n,new G(r[s+1]));return new $(t)}(r=>{function e(){return new $([])}r.empty=e;function t(f){return new $(f)}r.fromList=t;function s(f){return new $([new G(f)])}r.raw=s;function n(f,m){const l=[];for(const[O,k]of f.entries())O>0&&m!==void 0&&l.push(m),l.push(k);return new $(l)}r.join=n;function i(f){return new lt(f)}r.identifier=i;function a(f){return new ft(f)}r.placeholder=a;function d(f,m){return new Ut(f,m)}r.param=d})(De||(De={}));(r=>{var t;t=p;const s=class s{constructor(i,a){o(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};o(s,t,"SQL.Aliased");let e=s;r.Aliased=e})($||($={}));var ss;ss=p;class ft{constructor(e){this.name=e}getSQL(){return new $([this])}}o(ft,ss,"Placeholder");const wa=Symbol.for("drizzle:IsDrizzleView");var ns,is,as;as=p,is=Ce,ns=wa;class Na{constructor({name:e,schema:t,selectedFields:s,query:n}){o(this,is);o(this,ns,!0);this[Ce]={name:e,originalName:e,schema:t,selectedFields:s,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new $([this])}}o(Na,as,"View");function mc(r){return typeof r=="object"&&r!==null&&wa in r}Pe.prototype.getSQL=function(){return new $([this])};U.prototype.getSQL=function(){return new $([this])};qt.prototype.getSQL=function(){return new $([this])};function hc(r){return r[U.Symbol.Columns]}function gc(r){return r[Ce].selectedFields}function L(r,e){return{name:typeof r=="string"&&r.length>0?r:"",config:typeof r=="object"?r:e}}var os,ds;class rt extends(ds=C,os=p,ds){generatedAlwaysAsIdentity(e){if(e){const{name:t,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:t,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}o(rt,os,"PgIntColumnBaseBuilder");var cs,us;class Ta extends(us=rt,cs=p,us){constructor(e){super(e,"number","PgBigInt53")}build(e){return new Sa(e,this.config)}}o(Ta,cs,"PgBigInt53Builder");var ls,fs;class Sa extends(fs=A,ls=p,fs){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}o(Sa,ls,"PgBigInt53");var ps,ms;class Ia extends(ms=rt,ps=p,ms){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Aa(e,this.config)}}o(Ia,ps,"PgBigInt64Builder");var hs,gs;class Aa extends(gs=A,hs=p,gs){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}o(Aa,hs,"PgBigInt64");function yc(r,e){const{name:t,config:s}=L(r,e);return s.mode==="number"?new Ta(t):new Ia(t)}var ys,_s;class ka extends(_s=C,ys=p,_s){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ja(e,this.config)}}o(ka,ys,"PgBigSerial53Builder");var vs,bs;class ja extends(bs=A,vs=p,bs){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}o(ja,vs,"PgBigSerial53");var xs,ws;class Ca extends(ws=C,xs=p,ws){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Pa(e,this.config)}}o(Ca,xs,"PgBigSerial64Builder");var Ns,Ts;class Pa extends(Ts=A,Ns=p,Ts){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}o(Pa,Ns,"PgBigSerial64");function _c(r,e){const{name:t,config:s}=L(r,e);return s.mode==="number"?new ka(t):new Ca(t)}var Ss,Is;class Da extends(Is=C,Ss=p,Is){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Ea(e,this.config)}}o(Da,Ss,"PgBooleanBuilder");var As,ks;class Ea extends(ks=A,As=p,ks){getSQLType(){return"boolean"}}o(Ea,As,"PgBoolean");function x(r){return new Da(r??"")}var js,Cs;class Oa extends(Cs=C,js=p,Cs){constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new Va(e,this.config)}}o(Oa,js,"PgCharBuilder");var Ps,Ds;class Va extends(Ds=A,Ps=p,Ds){constructor(){super(...arguments);o(this,"length",this.config.length);o(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}o(Va,Ps,"PgChar");function vc(r,e={}){const{name:t,config:s}=L(r,e);return new Oa(t,s)}var Es,Os;class Ma extends(Os=C,Es=p,Os){constructor(e){super(e,"string","PgCidr")}build(e){return new za(e,this.config)}}o(Ma,Es,"PgCidrBuilder");var Vs,Ms;class za extends(Ms=A,Vs=p,Ms){getSQLType(){return"cidr"}}o(za,Vs,"PgCidr");function bc(r){return new Ma(r??"")}var zs,Rs;class Ra extends(Rs=C,zs=p,Rs){constructor(e,t,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=s}build(e){return new Fa(e,this.config)}}o(Ra,zs,"PgCustomColumnBuilder");var Fs,$s;class Fa extends($s=A,Fs=p,$s){constructor(t,s){super(t,s);o(this,"sqlName");o(this,"mapTo");o(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}o(Fa,Fs,"PgCustomColumn");function xc(r){return(e,t)=>{const{name:s,config:n}=L(e,t);return new Ra(s,n,r)}}var Ls,Bs;class Qe extends(Bs=C,Ls=p,Bs){defaultNow(){return this.default(De`now()`)}}o(Qe,Ls,"PgDateColumnBaseBuilder");var Zs,qs;class $a extends(qs=Qe,Zs=p,qs){constructor(e){super(e,"date","PgDate")}build(e){return new La(e,this.config)}}o($a,Zs,"PgDateBuilder");var Us,Qs;class La extends(Qs=A,Us=p,Qs){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}o(La,Us,"PgDate");var Ks,Gs;class Ba extends(Gs=Qe,Ks=p,Gs){constructor(e){super(e,"string","PgDateString")}build(e){return new Za(e,this.config)}}o(Ba,Ks,"PgDateStringBuilder");var Ws,Xs;class Za extends(Xs=A,Ws=p,Xs){getSQLType(){return"date"}}o(Za,Ws,"PgDateString");function wc(r,e){const{name:t,config:s}=L(r,e);return(s==null?void 0:s.mode)==="date"?new $a(t):new Ba(t)}var Js,Hs;class qa extends(Hs=C,Js=p,Hs){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Ua(e,this.config)}}o(qa,Js,"PgDoublePrecisionBuilder");var Ys,en;class Ua extends(en=A,Ys=p,en){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}o(Ua,Ys,"PgDoublePrecision");function Nc(r){return new qa(r??"")}var tn,rn;class Qa extends(rn=C,tn=p,rn){constructor(e){super(e,"string","PgInet")}build(e){return new Ka(e,this.config)}}o(Qa,tn,"PgInetBuilder");var sn,nn;class Ka extends(nn=A,sn=p,nn){getSQLType(){return"inet"}}o(Ka,sn,"PgInet");function Tc(r){return new Qa(r??"")}var an,on;class Ga extends(on=rt,an=p,on){constructor(e){super(e,"number","PgInteger")}build(e){return new Wa(e,this.config)}}o(Ga,an,"PgIntegerBuilder");var dn,cn;class Wa extends(cn=A,dn=p,cn){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}o(Wa,dn,"PgInteger");function _(r){return new Ga(r??"")}var un,ln;class Xa extends(ln=C,un=p,ln){constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new Ja(e,this.config)}}o(Xa,un,"PgIntervalBuilder");var fn,pn;class Ja extends(pn=A,fn=p,pn){constructor(){super(...arguments);o(this,"fields",this.config.intervalConfig.fields);o(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const t=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${t}${s}`}}o(Ja,fn,"PgInterval");function Sc(r,e={}){const{name:t,config:s}=L(r,e);return new Xa(t,s)}var mn,hn;class Ha extends(hn=C,mn=p,hn){constructor(e){super(e,"json","PgJson")}build(e){return new Ya(e,this.config)}}o(Ha,mn,"PgJsonBuilder");var gn,yn;class Ya extends(yn=A,gn=p,yn){constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}o(Ya,gn,"PgJson");function Ic(r){return new Ha(r??"")}var _n,vn;class eo extends(vn=C,_n=p,vn){constructor(e){super(e,"json","PgJsonb")}build(e){return new to(e,this.config)}}o(eo,_n,"PgJsonbBuilder");var bn,xn;class to extends(xn=A,bn=p,xn){constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}o(to,bn,"PgJsonb");function vt(r){return new eo(r??"")}var wn,Nn;class ro extends(Nn=C,wn=p,Nn){constructor(e){super(e,"array","PgLine")}build(e){return new so(e,this.config)}}o(ro,wn,"PgLineBuilder");var Tn,Sn;class so extends(Sn=A,Tn=p,Sn){getSQLType(){return"line"}mapFromDriverValue(e){const[t,s,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(s),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}o(so,Tn,"PgLine");var In,An;class no extends(An=C,In=p,An){constructor(e){super(e,"json","PgLineABC")}build(e){return new io(e,this.config)}}o(no,In,"PgLineABCBuilder");var kn,jn;class io extends(jn=A,kn=p,jn){getSQLType(){return"line"}mapFromDriverValue(e){const[t,s,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(s),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}o(io,kn,"PgLineABC");function Ac(r,e){const{name:t,config:s}=L(r,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new ro(t):new no(t)}var Cn,Pn;class ao extends(Pn=C,Cn=p,Pn){constructor(e){super(e,"string","PgMacaddr")}build(e){return new oo(e,this.config)}}o(ao,Cn,"PgMacaddrBuilder");var Dn,En;class oo extends(En=A,Dn=p,En){getSQLType(){return"macaddr"}}o(oo,Dn,"PgMacaddr");function kc(r){return new ao(r??"")}var On,Vn;class co extends(Vn=C,On=p,Vn){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new uo(e,this.config)}}o(co,On,"PgMacaddr8Builder");var Mn,zn;class uo extends(zn=A,Mn=p,zn){getSQLType(){return"macaddr8"}}o(uo,Mn,"PgMacaddr8");function jc(r){return new co(r??"")}var Rn,Fn;class lo extends(Fn=C,Rn=p,Fn){constructor(e,t,s){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=s}build(e){return new fo(e,this.config)}}o(lo,Rn,"PgNumericBuilder");var $n,Ln;class fo extends(Ln=A,$n=p,Ln){constructor(t,s){super(t,s);o(this,"precision");o(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}o(fo,$n,"PgNumeric");function po(r,e){const{name:t,config:s}=L(r,e);return new lo(t,s==null?void 0:s.precision,s==null?void 0:s.scale)}const Ge=po;var Bn,Zn;class mo extends(Zn=C,Bn=p,Zn){constructor(e){super(e,"array","PgPointTuple")}build(e){return new ho(e,this.config)}}o(mo,Bn,"PgPointTupleBuilder");var qn,Un;class ho extends(Un=A,qn=p,Un){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,s]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}o(ho,qn,"PgPointTuple");var Qn,Kn;class go extends(Kn=C,Qn=p,Kn){constructor(e){super(e,"json","PgPointObject")}build(e){return new yo(e,this.config)}}o(go,Qn,"PgPointObjectBuilder");var Gn,Wn;class yo extends(Wn=A,Gn=p,Wn){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}o(yo,Gn,"PgPointObject");function Cc(r,e){const{name:t,config:s}=L(r,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new mo(t):new go(t)}function Pc(r){const e=[];for(let t=0;t<r.length;t+=2)e.push(Number.parseInt(r.slice(t,t+2),16));return new Uint8Array(e)}function wr(r,e){const t=new ArrayBuffer(8),s=new DataView(t);for(let n=0;n<8;n++)s.setUint8(n,r[e+n]);return s.getFloat64(0,!0)}function _o(r){const e=Pc(r);let t=0;const s=e[t];t+=1;const n=new DataView(e.buffer),i=n.getUint32(t,s===1);if(t+=4,i&536870912&&(n.getUint32(t,s===1),t+=4),(i&65535)===1){const a=wr(e,t);t+=8;const d=wr(e,t);return t+=8,[a,d]}throw new Error("Unsupported geometry type")}var Xn,Jn;class vo extends(Jn=C,Xn=p,Jn){constructor(e){super(e,"array","PgGeometry")}build(e){return new bo(e,this.config)}}o(vo,Xn,"PgGeometryBuilder");var Hn,Yn;class bo extends(Yn=A,Hn=p,Yn){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return _o(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}o(bo,Hn,"PgGeometry");var ei,ti;class xo extends(ti=C,ei=p,ti){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new wo(e,this.config)}}o(xo,ei,"PgGeometryObjectBuilder");var ri,si;class wo extends(si=A,ri=p,si){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const t=_o(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}o(wo,ri,"PgGeometryObject");function Dc(r,e){const{name:t,config:s}=L(r,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new vo(t):new xo(t)}var ni,ii;class No extends(ii=C,ni=p,ii){constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new To(e,this.config)}}o(No,ni,"PgRealBuilder");var ai,oi;class To extends(oi=A,ai=p,oi){constructor(t,s){super(t,s);o(this,"mapFromDriverValue",t=>typeof t=="string"?Number.parseFloat(t):t)}getSQLType(){return"real"}}o(To,ai,"PgReal");function Ec(r){return new No(r??"")}var di,ci;class So extends(ci=C,di=p,ci){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Io(e,this.config)}}o(So,di,"PgSerialBuilder");var ui,li;class Io extends(li=A,ui=p,li){getSQLType(){return"serial"}}o(Io,ui,"PgSerial");function P(r){return new So(r??"")}var fi,pi;class Ao extends(pi=rt,fi=p,pi){constructor(e){super(e,"number","PgSmallInt")}build(e){return new ko(e,this.config)}}o(Ao,fi,"PgSmallIntBuilder");var mi,hi;class ko extends(hi=A,mi=p,hi){constructor(){super(...arguments);o(this,"mapFromDriverValue",t=>typeof t=="string"?Number(t):t)}getSQLType(){return"smallint"}}o(ko,mi,"PgSmallInt");function Oc(r){return new Ao(r??"")}var gi,yi;class jo extends(yi=C,gi=p,yi){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Co(e,this.config)}}o(jo,gi,"PgSmallSerialBuilder");var _i,vi;class Co extends(vi=A,_i=p,vi){getSQLType(){return"smallserial"}}o(Co,_i,"PgSmallSerial");function Vc(r){return new jo(r??"")}var bi,xi;class Po extends(xi=C,bi=p,xi){constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new Do(e,this.config)}}o(Po,bi,"PgTextBuilder");var wi,Ni;class Do extends(Ni=A,wi=p,Ni){constructor(){super(...arguments);o(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}o(Do,wi,"PgText");function u(r,e={}){const{name:t,config:s}=L(r,e);return new Po(t,s)}var Ti,Si;class Eo extends(Si=Qe,Ti=p,Si){constructor(e,t,s){super(e,"string","PgTime"),this.withTimezone=t,this.precision=s,this.config.withTimezone=t,this.config.precision=s}build(e){return new Oo(e,this.config)}}o(Eo,Ti,"PgTimeBuilder");var Ii,Ai;class Oo extends(Ai=A,Ii=p,Ai){constructor(t,s){super(t,s);o(this,"withTimezone");o(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}o(Oo,Ii,"PgTime");function Mc(r,e={}){const{name:t,config:s}=L(r,e);return new Eo(t,s.withTimezone??!1,s.precision)}var ki,ji;class Vo extends(ji=Qe,ki=p,ji){constructor(e,t,s){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=s}build(e){return new Mo(e,this.config)}}o(Vo,ki,"PgTimestampBuilder");var Ci,Pi;class Mo extends(Pi=A,Ci=p,Pi){constructor(t,s){super(t,s);o(this,"withTimezone");o(this,"precision");o(this,"mapFromDriverValue",t=>new Date(this.withTimezone?t:t+"+0000"));o(this,"mapToDriverValue",t=>t.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}o(Mo,Ci,"PgTimestamp");var Di,Ei;class zo extends(Ei=Qe,Di=p,Ei){constructor(e,t,s){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=s}build(e){return new Ro(e,this.config)}}o(zo,Di,"PgTimestampStringBuilder");var Oi,Vi;class Ro extends(Vi=A,Oi=p,Vi){constructor(t,s){super(t,s);o(this,"withTimezone");o(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}o(Ro,Oi,"PgTimestampString");function T(r,e={}){const{name:t,config:s}=L(r,e);return(s==null?void 0:s.mode)==="string"?new zo(t,s.withTimezone??!1,s.precision):new Vo(t,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var Mi,zi;class Fo extends(zi=C,Mi=p,zi){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(De`gen_random_uuid()`)}build(e){return new $o(e,this.config)}}o(Fo,Mi,"PgUUIDBuilder");var Ri,Fi;class $o extends(Fi=A,Ri=p,Fi){getSQLType(){return"uuid"}}o($o,Ri,"PgUUID");function zc(r){return new Fo(r??"")}var $i,Li;class Lo extends(Li=C,$i=p,Li){constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new Bo(e,this.config)}}o(Lo,$i,"PgVarcharBuilder");var Bi,Zi;class Bo extends(Zi=A,Bi=p,Zi){constructor(){super(...arguments);o(this,"length",this.config.length);o(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}o(Bo,Bi,"PgVarchar");function Lt(r,e={}){const{name:t,config:s}=L(r,e);return new Lo(t,s)}var qi,Ui;class Zo extends(Ui=C,qi=p,Ui){constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new qo(e,this.config)}}o(Zo,qi,"PgBinaryVectorBuilder");var Qi,Ki;class qo extends(Ki=A,Qi=p,Ki){constructor(){super(...arguments);o(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}o(qo,Qi,"PgBinaryVector");function Rc(r,e){const{name:t,config:s}=L(r,e);return new Zo(t,s)}var Gi,Wi;class Uo extends(Wi=C,Gi=p,Wi){constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new Qo(e,this.config)}}o(Uo,Gi,"PgHalfVectorBuilder");var Xi,Ji;class Qo extends(Ji=A,Xi=p,Ji){constructor(){super(...arguments);o(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}o(Qo,Xi,"PgHalfVector");function Fc(r,e){const{name:t,config:s}=L(r,e);return new Uo(t,s)}var Hi,Yi;class Ko extends(Yi=C,Hi=p,Yi){constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new Go(e,this.config)}}o(Ko,Hi,"PgSparseVectorBuilder");var ea,ta;class Go extends(ta=A,ea=p,ta){constructor(){super(...arguments);o(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}o(Go,ea,"PgSparseVector");function $c(r,e){const{name:t,config:s}=L(r,e);return new Ko(t,s)}var ra,sa;class Wo extends(sa=C,ra=p,sa){constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new Xo(e,this.config)}}o(Wo,ra,"PgVectorBuilder");var na,ia;class Xo extends(ia=A,na=p,ia){constructor(){super(...arguments);o(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}o(Xo,na,"PgVector");function Lc(r,e){const{name:t,config:s}=L(r,e);return new Wo(t,s)}function Bc(){return{bigint:yc,bigserial:_c,boolean:x,char:vc,cidr:bc,customType:xc,date:wc,doublePrecision:Nc,inet:Tc,integer:_,interval:Sc,json:Ic,jsonb:vt,line:Ac,macaddr:kc,macaddr8:jc,numeric:po,point:Cc,geometry:Dc,real:Ec,serial:P,smallint:Oc,smallserial:Vc,text:u,time:Mc,timestamp:T,uuid:zc,varchar:Lt,bit:Rc,halfvec:Fc,sparsevec:$c,vector:Lc}}const Bt=Symbol.for("drizzle:PgInlineForeignKeys"),Nr=Symbol.for("drizzle:EnableRLS");var aa,oa,da,ca,ua;class pt extends(ua=U,ca=p,da=Bt,oa=Nr,aa=U.Symbol.ExtraConfigBuilder,ua){constructor(){super(...arguments);o(this,da,[]);o(this,oa,!1);o(this,aa)}}o(pt,ca,"PgTable"),o(pt,"Symbol",Object.assign({},U.Symbol,{InlineForeignKeys:Bt,EnableRLS:Nr}));function Zc(r,e,t,s,n=r){const i=new pt(r,s,n),a=typeof e=="function"?e(Bc()):e,d=Object.fromEntries(Object.entries(a).map(([l,O])=>{const k=O;k.setName(l);const V=k.build(i);return i[Bt].push(...k.buildForeignKeys(V,i)),[l,V]})),f=Object.fromEntries(Object.entries(a).map(([l,O])=>{const k=O;k.setName(l);const V=k.buildExtraConfigColumn(i);return[l,V]})),m=Object.assign(i,d);return m[U.Symbol.Columns]=d,m[U.Symbol.ExtraConfigColumns]=f,Object.assign(m,{enableRLS:()=>(m[pt.Symbol.EnableRLS]=!0,m)})}const D=(r,e,t)=>Zc(r,e,t,void 0);var j;(function(r){r.assertEqual=n=>{};function e(n){}r.assertIs=e;function t(n){throw new Error}r.assertNever=t,r.arrayToEnum=n=>{const i={};for(const a of n)i[a]=a;return i},r.getValidEnumValues=n=>{const i=r.objectKeys(n).filter(d=>typeof n[n[d]]!="number"),a={};for(const d of i)a[d]=n[d];return r.objectValues(a)},r.objectValues=n=>r.objectKeys(n).map(function(i){return n[i]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.push(a);return i},r.find=(n,i)=>{for(const a of n)if(i(a))return a},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function s(n,i=" | "){return n.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}r.joinValues=s,r.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(j||(j={}));var mt;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(mt||(mt={}));const y=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ie=r=>{switch(typeof r){case"undefined":return y.undefined;case"string":return y.string;case"number":return Number.isNaN(r)?y.nan:y.number;case"boolean":return y.boolean;case"function":return y.function;case"bigint":return y.bigint;case"symbol":return y.symbol;case"object":return Array.isArray(r)?y.array:r===null?y.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?y.promise:typeof Map<"u"&&r instanceof Map?y.map:typeof Set<"u"&&r instanceof Set?y.set:typeof Date<"u"&&r instanceof Date?y.date:y.object;default:return y.unknown}},h=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Jo=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class Q extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},s={_errors:[]},n=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(n);else if(a.code==="invalid_return_type")n(a.returnTypeError);else if(a.code==="invalid_arguments")n(a.argumentsError);else if(a.path.length===0)s._errors.push(t(a));else{let d=s,f=0;for(;f<a.path.length;){const m=a.path[f];f===a.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(t(a))):d[m]=d[m]||{_errors:[]},d=d[m],f++}}};return n(this),s}static assert(e){if(!(e instanceof Q))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];t[i]=t[i]||[],t[i].push(e(n))}else s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}Q.create=r=>new Q(r);const Te=(r,e)=>{let t;switch(r.code){case h.invalid_type:r.received===y.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case h.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,j.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:t=`Unrecognized key(s) in object: ${j.joinValues(r.keys,", ")}`;break;case h.invalid_union:t="Invalid input";break;case h.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${j.joinValues(r.options)}`;break;case h.invalid_enum_value:t=`Invalid enum value. Expected ${j.joinValues(r.options)}, received '${r.received}'`;break;case h.invalid_arguments:t="Invalid function arguments";break;case h.invalid_return_type:t="Invalid function return type";break;case h.invalid_date:t="Invalid date";break;case h.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:j.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case h.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case h.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case h.custom:t="Invalid input";break;case h.invalid_intersection_types:t="Intersection results could not be merged";break;case h.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case h.not_finite:t="Number must be finite";break;default:t=e.defaultError,j.assertNever(r)}return{message:t}};let Ho=Te;function Yo(r){Ho=r}function We(){return Ho}const Xe=r=>{const{data:e,path:t,errorMaps:s,issueData:n}=r,i=[...t,...n.path||[]],a={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let d="";const f=s.filter(m=>!!m).slice().reverse();for(const m of f)d=m(a,{data:e,defaultError:d}).message;return{...n,path:i,message:d}},ed=[];function g(r,e){const t=We(),s=Xe({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Te?void 0:Te].filter(n=>!!n)});r.common.issues.push(s)}class Z{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const n of t){if(n.status==="aborted")return w;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const n of t){const i=await n.key,a=await n.value;s.push({key:i,value:a})}return Z.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const n of t){const{key:i,value:a}=n;if(i.status==="aborted"||a.status==="aborted")return w;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||n.alwaysSet)&&(s[i.value]=a.value)}return{status:e.value,value:s}}}const w=Object.freeze({status:"aborted"}),we=r=>({status:"dirty",value:r}),q=r=>({status:"valid",value:r}),ht=r=>r.status==="aborted",gt=r=>r.status==="dirty",ye=r=>r.status==="valid",Ee=r=>typeof Promise<"u"&&r instanceof Promise;var b;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(b||(b={}));class ae{constructor(e,t,s,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tr=(r,e)=>{if(ye(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Q(r.common.issues);return this._error=t,this._error}}};function I(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:n}=r;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(a,d)=>{const{message:f}=r;return a.code==="invalid_enum_value"?{message:f??d.defaultError}:typeof d.data>"u"?{message:f??s??d.defaultError}:a.code!=="invalid_type"?{message:d.defaultError}:{message:f??t??d.defaultError}},description:n}}class S{get description(){return this._def.description}_getType(e){return ie(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Z,ctx:{common:e.parent.common,data:e.data,parsedType:ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ee(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){const s={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ie(e)},n=this._parseSync({data:e,path:s.path,parent:s});return Tr(s,n)}"~validate"(e){var s,n;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ie(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return ye(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(n=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>ye(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ie(e)},n=this._parse({data:e,path:s.path,parent:s}),i=await(Ee(n)?n:Promise.resolve(n));return Tr(s,i)}refine(e,t){const s=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,i)=>{const a=e(n),d=()=>i.addIssue({code:h.custom,...s(n)});return typeof Promise<"u"&&a instanceof Promise?a.then(f=>f?!0:(d(),!1)):a?!0:(d(),!1)})}refinement(e,t){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof t=="function"?t(s,n):t),!1))}_refinement(e){return new K({schema:this,typeName:N.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return J.create(this,this._def)}nullable(){return me.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return X.create(this)}promise(){return Ie.create(this,this._def)}or(e){return ze.create([this,e],this._def)}and(e){return Re.create(this,e,this._def)}transform(e){return new K({...I(this._def),schema:this,typeName:N.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ze({...I(this._def),innerType:this,defaultValue:t,typeName:N.ZodDefault})}brand(){return new bt({typeName:N.ZodBranded,type:this,...I(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new qe({...I(this._def),innerType:this,catchValue:t,typeName:N.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ke.create(this,e)}readonly(){return Ue.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qc=/^c[^\s-]{8,}$/i,Uc=/^[0-9a-z]+$/,Qc=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Kc=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gc=/^[a-z0-9_-]{21}$/i,Wc=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xc=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jc=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hc="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ft;const Yc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tu=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ru=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,su=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nu=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,td="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iu=new RegExp(`^${td}$`);function rd(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function au(r){return new RegExp(`^${rd(r)}$`)}function Qt(r){let e=`${td}T${rd(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ou(r,e){return!!((e==="v4"||!e)&&Yc.test(r)||(e==="v6"||!e)&&tu.test(r))}function du(r,e){if(!Wc.test(r))return!1;try{const[t]=r.split(".");if(!t)return!1;const s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function cu(r,e){return!!((e==="v4"||!e)&&eu.test(r)||(e==="v6"||!e)&&ru.test(r))}class W extends S{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==y.string){const i=this._getOrReturnCtx(e);return g(i,{code:h.invalid_type,expected:y.string,received:i.parsedType}),w}const s=new Z;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:h.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:h.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,d=e.data.length<i.value;(a||d)&&(n=this._getOrReturnCtx(e,n),a?g(n,{code:h.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):d&&g(n,{code:h.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Jc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"email",code:h.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Ft||(Ft=new RegExp(Hc,"u")),Ft.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"emoji",code:h.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Kc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"uuid",code:h.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Gc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"nanoid",code:h.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")qc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"cuid",code:h.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Uc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"cuid2",code:h.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Qc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"ulid",code:h.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),g(n,{validation:"url",code:h.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"regex",code:h.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),g(n,{code:h.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),g(n,{code:h.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),g(n,{code:h.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?Qt(i).test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:h.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?iu.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:h.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?au(i).test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:h.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Xc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"duration",code:h.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?ou(e.data,i.version)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"ip",code:h.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?du(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"jwt",code:h.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?cu(e.data,i.version)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"cidr",code:h.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?su.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"base64",code:h.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?nu.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"base64url",code:h.invalid_string,message:i.message}),s.dirty()):j.assertNever(i);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(n=>e.test(n),{validation:t,code:h.invalid_string,...b.errToObj(s)})}_addCheck(e){return new W({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...b.errToObj(e)})}url(e){return this._addCheck({kind:"url",...b.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...b.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...b.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...b.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...b.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...b.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...b.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...b.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...b.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...b.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...b.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...b.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...b.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...b.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...b.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...b.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...b.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...b.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...b.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...b.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...b.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...b.errToObj(t)})}nonempty(e){return this.min(1,b.errToObj(e))}trim(){return new W({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new W({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new W({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}W.create=r=>new W({checks:[],typeName:N.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...I(r)});function uu(r,e){const t=(r.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=t>s?t:s,i=Number.parseInt(r.toFixed(n).replace(".","")),a=Number.parseInt(e.toFixed(n).replace(".",""));return i%a/10**n}class le extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==y.number){const i=this._getOrReturnCtx(e);return g(i,{code:h.invalid_type,expected:y.number,received:i.parsedType}),w}let s;const n=new Z;for(const i of this._def.checks)i.kind==="int"?j.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?uu(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.not_finite,message:i.message}),n.dirty()):j.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,b.toString(t))}gt(e,t){return this.setLimit("min",e,!1,b.toString(t))}lte(e,t){return this.setLimit("max",e,!0,b.toString(t))}lt(e,t){return this.setLimit("max",e,!1,b.toString(t))}setLimit(e,t,s,n){return new le({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:b.toString(n)}]})}_addCheck(e){return new le({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:b.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:b.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:b.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:b.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:b.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:b.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&j.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}le.create=r=>new le({checks:[],typeName:N.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...I(r)});class fe extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==y.bigint)return this._getInvalidInput(e);let s;const n=new Z;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):j.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:y.bigint,received:t.parsedType}),w}gte(e,t){return this.setLimit("min",e,!0,b.toString(t))}gt(e,t){return this.setLimit("min",e,!1,b.toString(t))}lte(e,t){return this.setLimit("max",e,!0,b.toString(t))}lt(e,t){return this.setLimit("max",e,!1,b.toString(t))}setLimit(e,t,s,n){return new fe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:b.toString(n)}]})}_addCheck(e){return new fe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:b.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:b.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}fe.create=r=>new fe({checks:[],typeName:N.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...I(r)});class Oe extends S{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==y.boolean){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:y.boolean,received:s.parsedType}),w}return q(e.data)}}Oe.create=r=>new Oe({typeName:N.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...I(r)});class _e extends S{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==y.date){const i=this._getOrReturnCtx(e);return g(i,{code:h.invalid_type,expected:y.date,received:i.parsedType}),w}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return g(i,{code:h.invalid_date}),w}const s=new Z;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:h.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:h.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):j.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _e({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:b.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:b.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}_e.create=r=>new _e({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:N.ZodDate,...I(r)});class Je extends S{_parse(e){if(this._getType(e)!==y.symbol){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:y.symbol,received:s.parsedType}),w}return q(e.data)}}Je.create=r=>new Je({typeName:N.ZodSymbol,...I(r)});class Ve extends S{_parse(e){if(this._getType(e)!==y.undefined){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:y.undefined,received:s.parsedType}),w}return q(e.data)}}Ve.create=r=>new Ve({typeName:N.ZodUndefined,...I(r)});class Me extends S{_parse(e){if(this._getType(e)!==y.null){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:y.null,received:s.parsedType}),w}return q(e.data)}}Me.create=r=>new Me({typeName:N.ZodNull,...I(r)});class Se extends S{constructor(){super(...arguments),this._any=!0}_parse(e){return q(e.data)}}Se.create=r=>new Se({typeName:N.ZodAny,...I(r)});class ge extends S{constructor(){super(...arguments),this._unknown=!0}_parse(e){return q(e.data)}}ge.create=r=>new ge({typeName:N.ZodUnknown,...I(r)});class oe extends S{_parse(e){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:y.never,received:t.parsedType}),w}}oe.create=r=>new oe({typeName:N.ZodNever,...I(r)});class He extends S{_parse(e){if(this._getType(e)!==y.undefined){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:y.void,received:s.parsedType}),w}return q(e.data)}}He.create=r=>new He({typeName:N.ZodVoid,...I(r)});class X extends S{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==y.array)return g(t,{code:h.invalid_type,expected:y.array,received:t.parsedType}),w;if(n.exactLength!==null){const a=t.data.length>n.exactLength.value,d=t.data.length<n.exactLength.value;(a||d)&&(g(t,{code:a?h.too_big:h.too_small,minimum:d?n.exactLength.value:void 0,maximum:a?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(g(t,{code:h.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(g(t,{code:h.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((a,d)=>n.type._parseAsync(new ae(t,a,t.path,d)))).then(a=>Z.mergeArray(s,a));const i=[...t.data].map((a,d)=>n.type._parseSync(new ae(t,a,t.path,d)));return Z.mergeArray(s,i)}get element(){return this._def.type}min(e,t){return new X({...this._def,minLength:{value:e,message:b.toString(t)}})}max(e,t){return new X({...this._def,maxLength:{value:e,message:b.toString(t)}})}length(e,t){return new X({...this._def,exactLength:{value:e,message:b.toString(t)}})}nonempty(e){return this.min(1,e)}}X.create=(r,e)=>new X({type:r,minLength:null,maxLength:null,exactLength:null,typeName:N.ZodArray,...I(e)});function ke(r){if(r instanceof M){const e={};for(const t in r.shape){const s=r.shape[t];e[t]=J.create(ke(s))}return new M({...r._def,shape:()=>e})}else return r instanceof X?new X({...r._def,type:ke(r.element)}):r instanceof J?J.create(ke(r.unwrap())):r instanceof me?me.create(ke(r.unwrap())):r instanceof H?H.create(r.items.map(e=>ke(e))):r}class M extends S{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=j.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==y.object){const m=this._getOrReturnCtx(e);return g(m,{code:h.invalid_type,expected:y.object,received:m.parsedType}),w}const{status:s,ctx:n}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),d=[];if(!(this._def.catchall instanceof oe&&this._def.unknownKeys==="strip"))for(const m in n.data)a.includes(m)||d.push(m);const f=[];for(const m of a){const l=i[m],O=n.data[m];f.push({key:{status:"valid",value:m},value:l._parse(new ae(n,O,n.path,m)),alwaysSet:m in n.data})}if(this._def.catchall instanceof oe){const m=this._def.unknownKeys;if(m==="passthrough")for(const l of d)f.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(m==="strict")d.length>0&&(g(n,{code:h.unrecognized_keys,keys:d}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const l of d){const O=n.data[l];f.push({key:{status:"valid",value:l},value:m._parse(new ae(n,O,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const m=[];for(const l of f){const O=await l.key,k=await l.value;m.push({key:O,value:k,alwaysSet:l.alwaysSet})}return m}).then(m=>Z.mergeObjectSync(s,m)):Z.mergeObjectSync(s,f)}get shape(){return this._def.shape()}strict(e){return b.errToObj,new M({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var i,a;const n=((a=(i=this._def).errorMap)==null?void 0:a.call(i,t,s).message)??s.defaultError;return t.code==="unrecognized_keys"?{message:b.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new M({...this._def,unknownKeys:"strip"})}passthrough(){return new M({...this._def,unknownKeys:"passthrough"})}extend(e){return new M({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new M({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:N.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new M({...this._def,catchall:e})}pick(e){const t={};for(const s of j.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new M({...this._def,shape:()=>t})}omit(e){const t={};for(const s of j.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new M({...this._def,shape:()=>t})}deepPartial(){return ke(this)}partial(e){const t={};for(const s of j.objectKeys(this.shape)){const n=this.shape[s];e&&!e[s]?t[s]=n:t[s]=n.optional()}return new M({...this._def,shape:()=>t})}required(e){const t={};for(const s of j.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof J;)i=i._def.innerType;t[s]=i}return new M({...this._def,shape:()=>t})}keyof(){return sd(j.objectKeys(this.shape))}}M.create=(r,e)=>new M({shape:()=>r,unknownKeys:"strip",catchall:oe.create(),typeName:N.ZodObject,...I(e)});M.strictCreate=(r,e)=>new M({shape:()=>r,unknownKeys:"strict",catchall:oe.create(),typeName:N.ZodObject,...I(e)});M.lazycreate=(r,e)=>new M({shape:r,unknownKeys:"strip",catchall:oe.create(),typeName:N.ZodObject,...I(e)});class ze extends S{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function n(i){for(const d of i)if(d.result.status==="valid")return d.result;for(const d of i)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const a=i.map(d=>new Q(d.ctx.common.issues));return g(t,{code:h.invalid_union,unionErrors:a}),w}if(t.common.async)return Promise.all(s.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(n);{let i;const a=[];for(const f of s){const m={...t,common:{...t.common,issues:[]},parent:null},l=f._parseSync({data:t.data,path:t.path,parent:m});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:m}),m.common.issues.length&&a.push(m.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const d=a.map(f=>new Q(f));return g(t,{code:h.invalid_union,unionErrors:d}),w}}get options(){return this._def.options}}ze.create=(r,e)=>new ze({options:r,typeName:N.ZodUnion,...I(e)});const ue=r=>r instanceof $e?ue(r.schema):r instanceof K?ue(r.innerType()):r instanceof Le?[r.value]:r instanceof pe?r.options:r instanceof Be?j.objectValues(r.enum):r instanceof Ze?ue(r._def.innerType):r instanceof Ve?[void 0]:r instanceof Me?[null]:r instanceof J?[void 0,...ue(r.unwrap())]:r instanceof me?[null,...ue(r.unwrap())]:r instanceof bt||r instanceof Ue?ue(r.unwrap()):r instanceof qe?ue(r._def.innerType):[];class st extends S{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==y.object)return g(t,{code:h.invalid_type,expected:y.object,received:t.parsedType}),w;const s=this.discriminator,n=t.data[s],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),w)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const n=new Map;for(const i of t){const a=ue(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of a){if(n.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);n.set(d,i)}}return new st({typeName:N.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...I(s)})}}function Zt(r,e){const t=ie(r),s=ie(e);if(r===e)return{valid:!0,data:r};if(t===y.object&&s===y.object){const n=j.objectKeys(e),i=j.objectKeys(r).filter(d=>n.indexOf(d)!==-1),a={...r,...e};for(const d of i){const f=Zt(r[d],e[d]);if(!f.valid)return{valid:!1};a[d]=f.data}return{valid:!0,data:a}}else if(t===y.array&&s===y.array){if(r.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<r.length;i++){const a=r[i],d=e[i],f=Zt(a,d);if(!f.valid)return{valid:!1};n.push(f.data)}return{valid:!0,data:n}}else return t===y.date&&s===y.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Re extends S{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=(i,a)=>{if(ht(i)||ht(a))return w;const d=Zt(i.value,a.value);return d.valid?((gt(i)||gt(a))&&t.dirty(),{status:t.value,value:d.data}):(g(s,{code:h.invalid_intersection_types}),w)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>n(i,a)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Re.create=(r,e,t)=>new Re({left:r,right:e,typeName:N.ZodIntersection,...I(t)});class H extends S{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==y.array)return g(s,{code:h.invalid_type,expected:y.array,received:s.parsedType}),w;if(s.data.length<this._def.items.length)return g(s,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w;!this._def.rest&&s.data.length>this._def.items.length&&(g(s,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...s.data].map((a,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new ae(s,a,s.path,d)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>Z.mergeArray(t,a)):Z.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new H({...this._def,rest:e})}}H.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new H({items:r,typeName:N.ZodTuple,rest:null,...I(e)})};class Fe extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==y.object)return g(s,{code:h.invalid_type,expected:y.object,received:s.parsedType}),w;const n=[],i=this._def.keyType,a=this._def.valueType;for(const d in s.data)n.push({key:i._parse(new ae(s,d,s.path,d)),value:a._parse(new ae(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?Z.mergeObjectAsync(t,n):Z.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof S?new Fe({keyType:e,valueType:t,typeName:N.ZodRecord,...I(s)}):new Fe({keyType:W.create(),valueType:e,typeName:N.ZodRecord,...I(t)})}}class Ye extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==y.map)return g(s,{code:h.invalid_type,expected:y.map,received:s.parsedType}),w;const n=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([d,f],m)=>({key:n._parse(new ae(s,d,s.path,[m,"key"])),value:i._parse(new ae(s,f,s.path,[m,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const f of a){const m=await f.key,l=await f.value;if(m.status==="aborted"||l.status==="aborted")return w;(m.status==="dirty"||l.status==="dirty")&&t.dirty(),d.set(m.value,l.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const f of a){const m=f.key,l=f.value;if(m.status==="aborted"||l.status==="aborted")return w;(m.status==="dirty"||l.status==="dirty")&&t.dirty(),d.set(m.value,l.value)}return{status:t.value,value:d}}}}Ye.create=(r,e,t)=>new Ye({valueType:e,keyType:r,typeName:N.ZodMap,...I(t)});class ve extends S{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==y.set)return g(s,{code:h.invalid_type,expected:y.set,received:s.parsedType}),w;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(g(s,{code:h.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(g(s,{code:h.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function a(f){const m=new Set;for(const l of f){if(l.status==="aborted")return w;l.status==="dirty"&&t.dirty(),m.add(l.value)}return{status:t.value,value:m}}const d=[...s.data.values()].map((f,m)=>i._parse(new ae(s,f,s.path,m)));return s.common.async?Promise.all(d).then(f=>a(f)):a(d)}min(e,t){return new ve({...this._def,minSize:{value:e,message:b.toString(t)}})}max(e,t){return new ve({...this._def,maxSize:{value:e,message:b.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ve.create=(r,e)=>new ve({valueType:r,minSize:null,maxSize:null,typeName:N.ZodSet,...I(e)});class Ne extends S{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==y.function)return g(t,{code:h.invalid_type,expected:y.function,received:t.parsedType}),w;function s(d,f){return Xe({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,We(),Te].filter(m=>!!m),issueData:{code:h.invalid_arguments,argumentsError:f}})}function n(d,f){return Xe({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,We(),Te].filter(m=>!!m),issueData:{code:h.invalid_return_type,returnTypeError:f}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Ie){const d=this;return q(async function(...f){const m=new Q([]),l=await d._def.args.parseAsync(f,i).catch(V=>{throw m.addIssue(s(f,V)),m}),O=await Reflect.apply(a,this,l);return await d._def.returns._def.type.parseAsync(O,i).catch(V=>{throw m.addIssue(n(O,V)),m})})}else{const d=this;return q(function(...f){const m=d._def.args.safeParse(f,i);if(!m.success)throw new Q([s(f,m.error)]);const l=Reflect.apply(a,this,m.data),O=d._def.returns.safeParse(l,i);if(!O.success)throw new Q([n(l,O.error)]);return O.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ne({...this._def,args:H.create(e).rest(ge.create())})}returns(e){return new Ne({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new Ne({args:e||H.create([]).rest(ge.create()),returns:t||ge.create(),typeName:N.ZodFunction,...I(s)})}}class $e extends S{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}$e.create=(r,e)=>new $e({getter:r,typeName:N.ZodLazy,...I(e)});class Le extends S{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:h.invalid_literal,expected:this._def.value}),w}return{status:"valid",value:e.data}}get value(){return this._def.value}}Le.create=(r,e)=>new Le({value:r,typeName:N.ZodLiteral,...I(e)});function sd(r,e){return new pe({values:r,typeName:N.ZodEnum,...I(e)})}class pe extends S{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return g(t,{expected:j.joinValues(s),received:t.parsedType,code:h.invalid_type}),w}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return g(t,{received:t.data,code:h.invalid_enum_value,options:s}),w}return q(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return pe.create(e,{...this._def,...t})}exclude(e,t=this._def){return pe.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}pe.create=sd;class Be extends S{_parse(e){const t=j.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==y.string&&s.parsedType!==y.number){const n=j.objectValues(t);return g(s,{expected:j.joinValues(n),received:s.parsedType,code:h.invalid_type}),w}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=j.objectValues(t);return g(s,{received:s.data,code:h.invalid_enum_value,options:n}),w}return q(e.data)}get enum(){return this._def.values}}Be.create=(r,e)=>new Be({values:r,typeName:N.ZodNativeEnum,...I(e)});class Ie extends S{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==y.promise&&t.common.async===!1)return g(t,{code:h.invalid_type,expected:y.promise,received:t.parsedType}),w;const s=t.parsedType===y.promise?t.data:Promise.resolve(t.data);return q(s.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ie.create=(r,e)=>new Ie({type:r,typeName:N.ZodPromise,...I(e)});class K extends S{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===N.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:a=>{g(s,a),a.fatal?t.abort():t.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const a=n.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async d=>{if(t.value==="aborted")return w;const f=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return f.status==="aborted"?w:f.status==="dirty"||t.value==="dirty"?we(f.value):f});{if(t.value==="aborted")return w;const d=this._def.schema._parseSync({data:a,path:s.path,parent:s});return d.status==="aborted"?w:d.status==="dirty"||t.value==="dirty"?we(d.value):d}}if(n.type==="refinement"){const a=d=>{const f=n.refinement(d,i);if(s.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?w:(d.status==="dirty"&&t.dirty(),a(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?w:(d.status==="dirty"&&t.dirty(),a(d.value).then(()=>({status:t.value,value:d.value}))))}if(n.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ye(a))return w;const d=n.transform(a.value,i);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>ye(a)?Promise.resolve(n.transform(a.value,i)).then(d=>({status:t.value,value:d})):w);j.assertNever(n)}}K.create=(r,e,t)=>new K({schema:r,typeName:N.ZodEffects,effect:e,...I(t)});K.createWithPreprocess=(r,e,t)=>new K({schema:e,effect:{type:"preprocess",transform:r},typeName:N.ZodEffects,...I(t)});class J extends S{_parse(e){return this._getType(e)===y.undefined?q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}J.create=(r,e)=>new J({innerType:r,typeName:N.ZodOptional,...I(e)});class me extends S{_parse(e){return this._getType(e)===y.null?q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}me.create=(r,e)=>new me({innerType:r,typeName:N.ZodNullable,...I(e)});class Ze extends S{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===y.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ze.create=(r,e)=>new Ze({innerType:r,typeName:N.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...I(e)});class qe extends S{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ee(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Q(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Q(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}qe.create=(r,e)=>new qe({innerType:r,typeName:N.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...I(e)});class et extends S{_parse(e){if(this._getType(e)!==y.nan){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:y.nan,received:s.parsedType}),w}return{status:"valid",value:e.data}}}et.create=r=>new et({typeName:N.ZodNaN,...I(r)});const nd=Symbol("zod_brand");class bt extends S{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ke extends S{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?w:i.status==="dirty"?(t.dirty(),we(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?w:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,t){return new Ke({in:e,out:t,typeName:N.ZodPipeline})}}class Ue extends S{_parse(e){const t=this._def.innerType._parse(e),s=n=>(ye(n)&&(n.value=Object.freeze(n.value)),n);return Ee(t)?t.then(n=>s(n)):s(t)}unwrap(){return this._def.innerType}}Ue.create=(r,e)=>new Ue({innerType:r,typeName:N.ZodReadonly,...I(e)});function Sr(r,e){const t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function xt(r,e={},t){return r?Se.create().superRefine((s,n)=>{const i=r(s);if(i instanceof Promise)return i.then(a=>{if(!a){const d=Sr(e,s),f=d.fatal??t??!0;n.addIssue({code:"custom",...d,fatal:f})}});if(!i){const a=Sr(e,s),d=a.fatal??t??!0;n.addIssue({code:"custom",...a,fatal:d})}}):Se.create()}const id={object:M.lazycreate};var N;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(N||(N={}));const ad=(r,e={message:`Input not instance of ${r.name}`})=>xt(t=>t instanceof r,e),wt=W.create,nt=le.create,od=et.create,dd=fe.create,Nt=Oe.create,cd=_e.create,ud=Je.create,ld=Ve.create,Kt=Me.create,tt=Se.create,fd=ge.create,pd=oe.create,md=He.create,Gt=X.create,Wt=M.create,hd=M.strictCreate,Tt=ze.create,gd=st.create,yd=Re.create,_d=H.create,Xt=Fe.create,vd=Ye.create,bd=ve.create,xd=Ne.create,wd=$e.create,Nd=Le.create,Td=pe.create,Sd=Be.create,Id=Ie.create,yt=K.create,Ad=J.create,kd=me.create,jd=K.createWithPreprocess,Cd=Ke.create,Pd=()=>wt().optional(),Dd=()=>nt().optional(),Ed=()=>Nt().optional(),Od={string:r=>W.create({...r,coerce:!0}),number:r=>le.create({...r,coerce:!0}),boolean:r=>Oe.create({...r,coerce:!0}),bigint:r=>fe.create({...r,coerce:!0}),date:r=>_e.create({...r,coerce:!0})},Vd=w,Ir=Object.freeze(Object.defineProperty({__proto__:null,BRAND:nd,DIRTY:we,EMPTY_PATH:ed,INVALID:w,NEVER:Vd,OK:q,ParseStatus:Z,Schema:S,ZodAny:Se,ZodArray:X,ZodBigInt:fe,ZodBoolean:Oe,ZodBranded:bt,ZodCatch:qe,ZodDate:_e,ZodDefault:Ze,ZodDiscriminatedUnion:st,ZodEffects:K,ZodEnum:pe,ZodError:Q,get ZodFirstPartyTypeKind(){return N},ZodFunction:Ne,ZodIntersection:Re,ZodIssueCode:h,ZodLazy:$e,ZodLiteral:Le,ZodMap:Ye,ZodNaN:et,ZodNativeEnum:Be,ZodNever:oe,ZodNull:Me,ZodNullable:me,ZodNumber:le,ZodObject:M,ZodOptional:J,ZodParsedType:y,ZodPipeline:Ke,ZodPromise:Ie,ZodReadonly:Ue,ZodRecord:Fe,ZodSchema:S,ZodSet:ve,ZodString:W,ZodSymbol:Je,ZodTransformer:K,ZodTuple:H,ZodType:S,ZodUndefined:Ve,ZodUnion:ze,ZodUnknown:ge,ZodVoid:He,addIssueToContext:g,any:tt,array:Gt,bigint:dd,boolean:Nt,coerce:Od,custom:xt,date:cd,datetimeRegex:Qt,defaultErrorMap:Te,discriminatedUnion:gd,effect:yt,enum:Td,function:xd,getErrorMap:We,getParsedType:ie,instanceof:ad,intersection:yd,isAborted:ht,isAsync:Ee,isDirty:gt,isValid:ye,late:id,lazy:wd,literal:Nd,makeIssue:Xe,map:vd,nan:od,nativeEnum:Sd,never:pd,null:Kt,nullable:kd,number:nt,object:Wt,get objectUtil(){return mt},oboolean:Ed,onumber:Dd,optional:Ad,ostring:Pd,pipeline:Cd,preprocess:jd,promise:Id,quotelessJson:Jo,record:Xt,set:bd,setErrorMap:Yo,strictObject:hd,string:wt,symbol:ud,transformer:yt,tuple:_d,undefined:ld,union:Tt,unknown:fd,get util(){return j},void:md},Symbol.toStringTag,{value:"Module"})),lu=Object.freeze(Object.defineProperty({__proto__:null,BRAND:nd,DIRTY:we,EMPTY_PATH:ed,INVALID:w,NEVER:Vd,OK:q,ParseStatus:Z,Schema:S,ZodAny:Se,ZodArray:X,ZodBigInt:fe,ZodBoolean:Oe,ZodBranded:bt,ZodCatch:qe,ZodDate:_e,ZodDefault:Ze,ZodDiscriminatedUnion:st,ZodEffects:K,ZodEnum:pe,ZodError:Q,get ZodFirstPartyTypeKind(){return N},ZodFunction:Ne,ZodIntersection:Re,ZodIssueCode:h,ZodLazy:$e,ZodLiteral:Le,ZodMap:Ye,ZodNaN:et,ZodNativeEnum:Be,ZodNever:oe,ZodNull:Me,ZodNullable:me,ZodNumber:le,ZodObject:M,ZodOptional:J,ZodParsedType:y,ZodPipeline:Ke,ZodPromise:Ie,ZodReadonly:Ue,ZodRecord:Fe,ZodSchema:S,ZodSet:ve,ZodString:W,ZodSymbol:Je,ZodTransformer:K,ZodTuple:H,ZodType:S,ZodUndefined:Ve,ZodUnion:ze,ZodUnknown:ge,ZodVoid:He,addIssueToContext:g,any:tt,array:Gt,bigint:dd,boolean:Nt,coerce:Od,custom:xt,date:cd,datetimeRegex:Qt,default:Ir,defaultErrorMap:Te,discriminatedUnion:gd,effect:yt,enum:Td,function:xd,getErrorMap:We,getParsedType:ie,instanceof:ad,intersection:yd,isAborted:ht,isAsync:Ee,isDirty:gt,isValid:ye,late:id,lazy:wd,literal:Nd,makeIssue:Xe,map:vd,nan:od,nativeEnum:Sd,never:pd,null:Kt,nullable:kd,number:nt,object:Wt,get objectUtil(){return mt},oboolean:Ed,onumber:Dd,optional:Ad,ostring:Pd,pipeline:Cd,preprocess:jd,promise:Id,quotelessJson:Jo,record:Xt,set:bd,setErrorMap:Yo,strictObject:hd,string:wt,symbol:ud,transformer:yt,tuple:_d,undefined:ld,union:Tt,unknown:fd,get util(){return j},void:md,z:Ir},Symbol.toStringTag,{value:"Module"})),z={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function R(r,e){return e.includes(r.columnType)}function fu(r){return"enumValues"in r&&Array.isArray(r.enumValues)&&r.enumValues.length>0}const pu=Tt([wt(),nt(),Nt(),Kt()]),mu=Tt([pu,Xt(tt()),Gt(tt())]),hu=xt(r=>r instanceof Buffer);function Md(r,e){const t=(e==null?void 0:e.zodInstance)??lu,s=(e==null?void 0:e.coerce)??{};let n;return fu(r)&&(n=r.enumValues.length?t.enum(r.enumValues):t.string()),n||(R(r,["PgGeometry","PgPointTuple"])?n=t.tuple([t.number(),t.number()]):R(r,["PgGeometryObject","PgPointObject"])?n=t.object({x:t.number(),y:t.number()}):R(r,["PgHalfVector","PgVector"])?(n=t.array(t.number()),n=r.dimensions?n.length(r.dimensions):n):R(r,["PgLine"])?n=t.tuple([t.number(),t.number(),t.number()]):R(r,["PgLineABC"])?n=t.object({a:t.number(),b:t.number(),c:t.number()}):R(r,["PgArray"])?(n=t.array(Md(r.baseColumn,t)),n=r.size?n.length(r.size):n):r.dataType==="array"?n=t.array(t.any()):r.dataType==="number"?n=gu(r,t,s):r.dataType==="bigint"?n=yu(r,t,s):r.dataType==="boolean"?n=s===!0||s.boolean?t.coerce.boolean():t.boolean():r.dataType==="date"?n=s===!0||s.date?t.coerce.date():t.date():r.dataType==="string"?n=_u(r,t,s):r.dataType==="json"?n=mu:r.dataType==="custom"?n=t.any():r.dataType==="buffer"&&(n=hu)),n||(n=t.any()),n}function gu(r,e,t){let s=r.getSQLType().includes("unsigned"),n,i,a=!1;R(r,["MySqlTinyInt","SingleStoreTinyInt"])?(n=s?0:z.INT8_MIN,i=s?z.INT8_UNSIGNED_MAX:z.INT8_MAX,a=!0):R(r,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(n=s?0:z.INT16_MIN,i=s?z.INT16_UNSIGNED_MAX:z.INT16_MAX,a=!0):R(r,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(n=s?0:z.INT24_MIN,i=s?z.INT24_UNSIGNED_MAX:z.INT24_MAX,a=R(r,["MySqlMediumInt","SingleStoreMediumInt"])):R(r,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(n=s?0:z.INT32_MIN,i=s?z.INT32_UNSIGNED_MAX:z.INT32_MAX,a=!0):R(r,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(n=s?0:z.INT48_MIN,i=s?z.INT48_UNSIGNED_MAX:z.INT48_MAX):R(r,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||R(r,["MySqlSerial","SingleStoreSerial"]),n=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):R(r,["MySqlYear","SingleStoreYear"])?(n=1901,i=2155,a=!0):(n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let d=t===!0||t!=null&&t.number?e.coerce.number():e.number();return d=d.min(n).max(i),a?d.int():d}function yu(r,e,t){const s=r.getSQLType().includes("unsigned"),n=s?0n:z.INT64_MIN,i=s?z.INT64_UNSIGNED_MAX:z.INT64_MAX;return(t===!0||t!=null&&t.bigint?e.coerce.bigint():e.bigint()).min(n).max(i)}function _u(r,e,t){if(R(r,["PgUUID"]))return e.string().uuid();let s,n,i=!1;R(r,["PgVarchar","SQLiteText"])?s=r.length:R(r,["MySqlVarChar","SingleStoreVarChar"])?s=r.length??z.INT16_UNSIGNED_MAX:R(r,["MySqlText","SingleStoreText"])&&(r.textType==="longtext"?s=z.INT32_UNSIGNED_MAX:r.textType==="mediumtext"?s=z.INT24_UNSIGNED_MAX:r.textType==="text"?s=z.INT16_UNSIGNED_MAX:s=z.INT8_UNSIGNED_MAX),R(r,["PgChar","MySqlChar","SingleStoreChar"])&&(s=r.length,i=!0),R(r,["PgBinaryVector"])&&(n=/^[01]+$/,s=r.dimensions);let a=t===!0||t!=null&&t.string?e.coerce.string():e.string();return a=n?a.regex(n):a,s&&i?a.length(s):s?a.max(s):a}function zd(r){return va(r)?hc(r):gc(r)}function Rd(r,e,t,s){const n={};for(const[i,a]of Object.entries(r)){if(!B(a,Pe)&&!B(a,$)&&!B(a,$.Aliased)&&typeof a=="object"){const O=va(a)||mc(a)?zd(a):a;n[i]=Rd(O,e[i]??{},t,s);continue}const d=e[i];if(d!==void 0&&typeof d!="function"){n[i]=d;continue}const f=B(a,Pe)?a:void 0,m=f?Md(f,s):tt(),l=typeof d=="function"?d(m):m;t.never(f)||(n[i]=l,f&&(t.nullable(f)&&(n[i]=n[i].nullable()),t.optional(f)&&(n[i]=n[i].optional())))}return Wt(n)}const vu={never:r=>{var e,t;return((e=r==null?void 0:r.generated)==null?void 0:e.type)==="always"||((t=r==null?void 0:r.generatedIdentity)==null?void 0:t.type)==="always"},optional:r=>!r.notNull||r.notNull&&r.hasDefault,nullable:r=>!r.notNull},E=(r,e)=>{const t=zd(r);return Rd(t,{},vu)},de=D("users",{id:P("id").primaryKey(),email:u("email").notNull().unique(),password:u("password").notNull(),name:u("name"),profileImage:u("profile_image"),userType:u("user_type").notNull().default("client"),phone:u("phone"),address:u("address"),isActive:x("is_active").default(!0),isVerified:x("is_verified").default(!1),createdAt:T("created_at").defaultNow(),asaasCustomerId:Lt("asaas_customer_id",{length:64}),cpf:Lt("cpf",{length:18}).notNull()}),bu=D("user_addresses",{id:P("id").primaryKey(),userId:_("user_id").notNull().references(()=>de.id,{onDelete:"cascade"}),type:u("type").notNull().default("home"),name:u("name").notNull(),street:u("street").notNull(),number:u("number").notNull(),complement:u("complement"),neighborhood:u("neighborhood").notNull(),city:u("city").notNull(),state:u("state").notNull(),zipCode:u("zip_code").notNull(),isDefault:x("is_default").default(!1),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),it=D("niches",{id:P("id").primaryKey(),name:u("name").notNull(),description:u("description"),icon:u("icon"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),St=D("categories",{id:P("id").primaryKey(),name:u("name").notNull(),description:u("description"),icon:u("icon"),color:u("color"),nicheId:_("niche_id").notNull().references(()=>it.id),parentId:_("parent_id"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),xu=D("service_templates",{id:P("id").primaryKey(),name:u("name").notNull(),description:u("description"),categoryId:_("category_id").notNull().references(()=>St.id),nicheId:_("niche_id").references(()=>it.id),icon:u("icon"),duration:_("duration").default(60),isActive:x("is_active").default(!0),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),Jt=D("services",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().references(()=>de.id),categoryId:_("category_id").notNull().references(()=>St.id),nicheId:_("niche_id").references(()=>it.id),name:u("name").notNull(),description:u("description"),price:_("price").default(0),duration:_("duration").notNull(),isActive:x("is_active").default(!0)}),wu=D("provider_services",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().references(()=>de.id),serviceId:_("service_id").notNull().references(()=>Jt.id),executionTime:_("execution_time").notNull(),duration:_("duration").notNull(),price:_("price").notNull(),breakTime:_("break_time").default(0),isActive:x("is_active").default(!0),createdAt:T("created_at").defaultNow()}),Nu=D("availability",{id:P("id").primaryKey(),providerId:_("provider_id").notNull(),dayOfWeek:_("day_of_week").notNull(),startTime:u("start_time").notNull(),endTime:u("end_time").notNull(),isAvailable:x("is_available").default(!0),date:u("date"),intervalMinutes:_("interval_minutes").default(30)}),Tu=D("blocked_time_slots",{id:P("id").primaryKey(),providerId:_("provider_id").notNull(),availabilityId:_("availability_id").notNull(),date:u("date"),startTime:u("start_time").notNull(),endTime:u("end_time").notNull(),reason:u("reason"),blockedByUserId:_("blocked_by_user_id"),metadata:vt("metadata"),createdAt:T("created_at").defaultNow()}),Su=D("provider_breaks",{id:P("id").primaryKey(),providerId:_("provider_id").notNull(),name:u("name").notNull(),dayOfWeek:_("day_of_week").notNull(),startTime:u("start_time").notNull(),endTime:u("end_time").notNull(),isRecurring:x("is_recurring").default(!0),date:u("date"),createdAt:T("created_at").defaultNow()}),Fd=D("appointments",{id:P("id").primaryKey(),clientId:_("client_id").notNull(),providerId:_("provider_id").notNull(),serviceId:_("service_id").notNull(),providerServiceId:_("provider_service_id"),date:u("date").notNull(),startTime:u("start_time").notNull(),endTime:u("end_time").notNull(),availabilityId:_("availability_id"),status:u("status").default("pending"),notes:u("notes"),paymentMethod:u("payment_method"),paymentStatus:u("payment_status"),paymentId:u("payment_id"),isManuallyCreated:x("is_manually_created").default(!1),createdAt:T("created_at").defaultNow(),serviceName:u("service_name"),providerName:u("provider_name"),clientName:u("client_name"),clientPhone:u("client_phone"),totalPrice:_("total_price")}),Iu=D("provider_settings",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().unique(),stripeAccountId:u("stripe_account_id"),isOnline:x("is_online").default(!1),businessName:u("business_name"),description:u("description"),address:u("address"),city:u("city"),state:u("state"),postalCode:u("postal_code"),zip:u("zip"),phone:u("phone"),whatsapp:u("whatsapp"),email:u("email"),website:u("website"),instagram:u("instagram"),facebook:u("facebook"),coverImage:u("cover_image"),latitude:u("latitude"),longitude:u("longitude"),businessHours:u("business_hours"),specialties:u("specialties"),acceptsCards:x("accepts_cards").default(!0),acceptsPix:x("accepts_pix").default(!0),acceptsCash:x("accepts_cash").default(!0),acceptOnlinePayments:x("accept_online_payments").default(!1),merchantCode:u("merchant_code"),rating:_("rating"),ratingCount:_("rating_count").default(0),bio:u("bio"),defaultServiceDuration:_("default_service_duration").default(60)}),Au=D("provider_payment_preferences",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().unique(),acceptsCreditCard:x("accepts_credit_card").default(!0),acceptsDebitCard:x("accepts_debit_card").default(!0),acceptsPix:x("accepts_pix").default(!0),acceptsCash:x("accepts_cash").default(!0),acceptsTransfer:x("accepts_transfer").default(!1),preferStripe:x("prefer_stripe").default(!0),preferAsaas:x("prefer_asaas").default(!1),preferManual:x("prefer_manual").default(!1),autoConfirm:x("auto_confirm").default(!1),requestPrePayment:x("request_pre_payment").default(!1),allowPartialPayment:x("allow_partial_payment").default(!1),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),ku=D("client_payment_preferences",{id:P("id").primaryKey(),clientId:_("client_id").notNull().unique(),preferCreditCard:x("prefer_credit_card").default(!0),preferDebitCard:x("prefer_debit_card").default(!1),preferPix:x("prefer_pix").default(!1),preferCash:x("prefer_cash").default(!1),defaultCardId:u("default_card_id"),savePaymentInfo:x("save_payment_info").default(!0),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),ju=D("payment_settings",{id:P("id").primaryKey(),serviceFeePercentage:_("service_fee_percentage").default(175),serviceFee:_("service_fee").default(175),minServiceFee:_("min_service_fee").default(100),maxServiceFee:_("max_service_fee").default(5e3),payoutSchedule:u("payout_schedule").default("weekly"),stripeEnabled:x("stripe_enabled").default(!1),stripeLiveMode:x("stripe_live_mode").default(!1),stripePublicKey:u("stripe_public_key"),stripeSecretKey:u("stripe_secret_key"),stripeWebhookSecret:u("stripe_webhook_secret"),stripeConnectEnabled:x("stripe_connect_enabled").default(!1),asaasEnabled:x("asaas_enabled").default(!1),asaasLiveMode:x("asaas_live_mode").default(!1),asaasApiKey:u("asaas_api_key"),asaasWebhookToken:u("asaas_webhook_token"),asaasWalletId:u("asaas_wallet_id"),asaasSplitEnabled:x("asaas_split_enabled").default(!1)}),Cu=D("integrations_settings",{id:P("id").primaryKey(),sendGridEnabled:x("sendgrid_enabled").default(!1),sendGridApiKey:u("sendgrid_api_key"),pushNotificationsEnabled:x("push_notifications_enabled").default(!1),vapidPublicKey:u("vapid_public_key"),vapidPrivateKey:u("vapid_private_key"),whatsappEnabled:x("whatsapp_enabled").default(!1),whatsappApiKey:u("whatsapp_api_key"),whatsappPhoneNumberId:u("whatsapp_phone_number_id"),whatsappVerifyToken:u("whatsapp_verify_token"),whatsappBusinessId:u("whatsapp_business_id"),whatsappChatbotEnabled:x("whatsapp_chatbot_enabled").default(!1),whatsappChatbotWelcomeMessage:u("whatsapp_chatbot_welcome_message"),whatsappChatbotSchedulingEnabled:x("whatsapp_chatbot_scheduling_enabled").default(!1),updatedAt:T("updated_at").defaultNow()}),$d=D("support_tickets",{id:P("id").primaryKey(),userId:_("user_id").notNull(),adminId:_("admin_id"),subject:u("subject").notNull(),category:u("category").default("general"),priority:u("priority").default("normal"),status:u("status").notNull().default("pending"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow(),resolvedAt:T("resolved_at"),lastResponseAt:T("last_response_at"),readByUser:x("read_by_user").default(!1),readByAdmin:x("read_by_admin").default(!1)}),Pu=D("support_messages",{id:P("id").primaryKey(),ticketId:_("ticket_id").notNull().references(()=>$d.id,{onDelete:"cascade"}),userId:_("user_id"),adminId:_("admin_id"),message:u("message").notNull(),attachmentUrl:u("attachment_url"),isInternal:x("is_internal").default(!1),createdAt:T("created_at").defaultNow(),readByUser:x("read_by_user").default(!1),readByAdmin:x("read_by_admin").default(!1)}),Du=D("reviews",{id:P("id").primaryKey(),clientId:_("client_id").notNull(),providerId:_("provider_id").notNull(),appointmentId:_("appointment_id").notNull(),rating:_("rating").notNull(),comment:u("comment"),publishedAt:T("published_at").defaultNow(),isPublic:x("is_public").default(!0),providerResponse:u("provider_response"),status:u("status").notNull().default("published"),updatedAt:T("updated_at").defaultNow()});E(wu).omit({id:!0,createdAt:!0});E(de).omit({id:!0,createdAt:!0});E(it).omit({id:!0,createdAt:!0,updatedAt:!0});E(St).omit({id:!0,createdAt:!0,updatedAt:!0});E(Jt).omit({id:!0});E(Nu).omit({id:!0});E(Tu).omit({id:!0,createdAt:!0});E(Su).omit({id:!0,createdAt:!0});E(Fd).omit({id:!0,createdAt:!0});E(Iu).omit({id:!0});E(ju).omit({id:!0});E($d).omit({id:!0,createdAt:!0,updatedAt:!0,resolvedAt:!0,lastResponseAt:!0,adminId:!0});E(Pu).omit({id:!0,createdAt:!0});E(Du).omit({id:!0,publishedAt:!0,updatedAt:!0,providerResponse:!0,status:!0});const Eu=E(xu).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({duration:nt().min(5).default(60)});E(Au).omit({id:!0,createdAt:!0,updatedAt:!0});E(ku).omit({id:!0,createdAt:!0,updatedAt:!0});const Ou=D("onboarding_steps",{id:P("id").primaryKey(),name:u("name").notNull(),description:u("description"),userType:u("user_type").notNull(),order:_("order").notNull(),isRequired:x("is_required").default(!0),icon:u("icon"),helpText:u("help_text"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),Vu=D("user_onboarding_progress",{id:P("id").primaryKey(),userId:_("user_id").notNull(),stepId:_("step_id").notNull(),status:u("status").notNull().default("pending"),completedAt:T("completed_at"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()});E(Ou).omit({id:!0,createdAt:!0,updatedAt:!0});E(Vu).omit({id:!0,completedAt:!0,createdAt:!0,updatedAt:!0});const Mu=D("user_payment_methods",{id:P("id").primaryKey(),userId:_("user_id").notNull(),stripeCustomerId:u("stripe_customer_id"),stripeSubscriptionId:u("stripe_subscription_id"),defaultPaymentMethodId:u("default_payment_method_id"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()});E(Mu).omit({id:!0,createdAt:!0,updatedAt:!0});E(bu).omit({id:!0,createdAt:!0,updatedAt:!0});const zu=D("notifications",{id:P("id").primaryKey(),userId:_("user_id").notNull(),title:u("title").notNull(),message:u("message").notNull(),type:u("type").default("info"),read:x("read").default(!1),linkTo:u("link_to"),appointmentId:_("appointment_id"),createdAt:T("created_at").defaultNow()});E(zu).omit({id:!0,createdAt:!0});const Ru=D("password_reset_tokens",{id:P("id").primaryKey(),userId:_("user_id").notNull().references(()=>de.id),token:u("token").notNull().unique(),expiresAt:T("expires_at").notNull(),createdAt:T("created_at").defaultNow(),usedAt:T("used_at")});E(Ru).omit({id:!0,createdAt:!0,usedAt:!0});E(Cu).omit({id:!0,updatedAt:!0});const Fu=D("promotions",{id:P("id").primaryKey(),title:u("title").notNull(),description:u("description"),discountPercentage:_("discount_percentage"),discountValue:_("discount_value"),serviceId:_("service_id").references(()=>Jt.id,{onDelete:"set null"}),providerId:_("provider_id").references(()=>de.id,{onDelete:"set null"}),categoryId:_("category_id").references(()=>St.id,{onDelete:"set null"}),nicheId:_("niche_id").references(()=>it.id,{onDelete:"set null"}),startDate:T("start_date").notNull(),endDate:T("end_date").notNull(),image:u("image"),couponCode:u("coupon_code"),isActive:x("is_active").notNull().default(!0),backgroundColor:u("background_color"),textColor:u("text_color"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()});E(Fu).omit({id:!0,createdAt:!0,updatedAt:!0});const $u=D("provider_balances",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().references(()=>de.id),balance:Ge("balance",{precision:10,scale:2}).default("0"),availableBalance:Ge("available_balance",{precision:10,scale:2}).default("0"),pendingBalance:Ge("pending_balance",{precision:10,scale:2}).default("0"),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()}),Lu=D("provider_transactions",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().references(()=>de.id),amount:Ge("amount",{precision:10,scale:2}).notNull(),type:u("type").notNull(),status:u("status").notNull(),appointmentId:_("appointment_id").references(()=>Fd.id),createdAt:T("created_at").defaultNow(),description:u("description"),metadata:vt("metadata")}),Bu=D("payment_withdrawals",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().references(()=>de.id),amount:Ge("amount",{precision:10,scale:2}).notNull(),status:u("status").notNull(),paymentMethod:u("payment_method").notNull(),paymentDetails:vt("payment_details"),requestedAt:T("requested_at").defaultNow(),processedAt:T("processed_at"),transactionId:u("transaction_id"),notes:u("notes")});E($u).omit({id:!0,createdAt:!0,updatedAt:!0});E(Lu).omit({id:!0,createdAt:!0});E(Bu).omit({id:!0,requestedAt:!0,processedAt:!0});D("system_settings",{id:P("id").primaryKey(),key:u("key").notNull().unique(),value:u("value"),label:u("label").notNull(),description:u("description"),createdAt:T("created_at",{withTimezone:!0}).default(De`CURRENT_TIMESTAMP`),updatedAt:T("updated_at",{withTimezone:!0}).default(De`CURRENT_TIMESTAMP`)});const Zu=D("provider_service_fees",{id:P("id").primaryKey(),providerId:_("provider_id").notNull().references(()=>de.id),fixedFee:_("fixed_fee").notNull().default(0),description:u("description"),isActive:x("is_active").default(!0),createdAt:T("created_at").defaultNow(),updatedAt:T("updated_at").defaultNow()});E(Zu).omit({id:!0,createdAt:!0,updatedAt:!0});const Ar=Eu.extend({categoryId:pr([mr(),hr()]).transform(r=>Number(r)),duration:pr([mr(),hr()]).transform(r=>Number(r))});function Bl(){const{toast:r}=Wd(),e=Xd(),[t,s]=at.useState(!1),[n,i]=at.useState(!1),[a,d]=at.useState(!1),[f,m]=at.useState(null),{data:l=[],isLoading:O}=Ht({queryKey:["/api/service-templates"],queryFn:async()=>{const v=await fetch("/api/service-templates");if(!v.ok)throw new Error("Falha ao carregar templates de servio");return v.json()}}),{data:k=[],isLoading:V}=Ht({queryKey:["/api/categories"],queryFn:async()=>{const v=await fetch("/api/categories");if(!v.ok)throw new Error("Falha ao carregar categorias");return v.json()}}),Y=lr({resolver:fr(Ar),defaultValues:{name:"",description:"",categoryId:0,icon:"",duration:60,isActive:!0}}),he=lr({resolver:fr(Ar),defaultValues:{name:"",description:"",categoryId:0,icon:"",duration:60,isActive:!0}}),It=Ct({mutationFn:async v=>{const F=await jt("POST","/api/service-templates",v);if(!F.ok){const ce=await F.json().catch(()=>({error:"Falha ao criar template"}));throw new Error(ce.error||"Falha ao criar template")}return F.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/service-templates"]}),r({title:"Template criado com sucesso",description:"O novo template de servio foi adicionado."}),s(!1),Y.reset({name:"",description:"",categoryId:0,icon:"",duration:60,isActive:!0})},onError:v=>{r({title:"Erro ao criar template",description:v.message,variant:"destructive"})}}),At=Ct({mutationFn:async({id:v,data:F})=>{const ce=await jt("PUT",`/api/service-templates/${v}`,F);if(!ce.ok){const Qd=await ce.json().catch(()=>({error:"Falha ao atualizar template"}));throw new Error(Qd.error||"Falha ao atualizar template")}return ce.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/service-templates"]}),r({title:"Template atualizado com sucesso",description:"As alteraes foram salvas."}),i(!1)},onError:v=>{r({title:"Erro ao atualizar template",description:v.message,variant:"destructive"})}}),kt=Ct({mutationFn:async v=>{const F=await jt("DELETE",`/api/service-templates/${v}`);if(!F.ok){const ce=await F.text();throw new Error(ce||"Falha ao excluir template")}return!0},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/service-templates"]}),r({title:"Template excludo com sucesso",description:"O template foi removido do sistema."}),d(!1),m(null)},onError:v=>{r({title:"Erro ao excluir template",description:v.message,variant:"destructive"})}}),Ld=v=>{It.mutate(v)},Bd=v=>{f&&At.mutate({id:f.id,data:v})},Zd=v=>{m(v),he.reset({name:v.name,description:v.description||"",categoryId:v.categoryId,icon:v.icon||"",duration:v.duration||60,isActive:v.isActive!==!1}),i(!0)},qd=v=>{m(v),d(!0)},Ud=()=>{f&&kt.mutate(f.id)};return O||V?c.jsx(ur,{children:c.jsx("div",{className:"p-6",children:c.jsxs(Yt,{children:[c.jsx(er,{children:c.jsx(tr,{children:"Templates de Servio"})}),c.jsx(rr,{children:c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})})})]})})}):c.jsxs(ur,{children:[c.jsx("div",{className:"p-6",children:c.jsxs(Yt,{children:[c.jsxs(er,{className:"flex flex-row items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(tr,{children:"Templates de Servio"}),c.jsx(Jd,{children:"Crie e gerencie templates de servios que sero oferecidos pelos prestadores"})]}),c.jsxs(Pt,{open:t,onOpenChange:s,children:[c.jsx(rc,{asChild:!0,children:c.jsxs(be,{className:"flex items-center gap-2",children:[c.jsx(sc,{size:16}),"Novo Template"]})}),c.jsxs(Dt,{className:"sm:max-w-[550px]",children:[c.jsx(Et,{children:c.jsx(Ot,{children:"Criar Novo Template de Servio"})}),c.jsx(gr,{...Y,children:c.jsxs("form",{onSubmit:Y.handleSubmit(Ld),className:"space-y-4",children:[c.jsx(ee,{control:Y.control,name:"name",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Nome"}),c.jsx(se,{children:c.jsx(Ae,{...v,placeholder:"Nome do servio"})}),c.jsx(ne,{})]})}),c.jsx(ee,{control:Y.control,name:"description",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Descrio"}),c.jsx(se,{children:c.jsx(nr,{...v,placeholder:"Descreva o servio",rows:3})}),c.jsx(ne,{})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ee,{control:Y.control,name:"categoryId",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Categoria"}),c.jsxs(ir,{onValueChange:v.onChange,defaultValue:v.value?v.value.toString():void 0,children:[c.jsx(se,{children:c.jsx(ar,{children:c.jsx(or,{placeholder:"Selecione uma categoria"})})}),c.jsx(dr,{children:k.map(F=>c.jsx(cr,{value:F.id.toString(),children:F.name},F.id))})]}),c.jsx(ne,{})]})}),c.jsx(ee,{control:Y.control,name:"icon",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"cone"}),c.jsx(se,{children:c.jsx(Ae,{...v,placeholder:"Nome do cone"})}),c.jsx(ct,{children:"Nome do cone Lucide (ex: scissors, heart)"}),c.jsx(ne,{})]})})]}),c.jsx(ee,{control:Y.control,name:"duration",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Durao Padro (minutos)"}),c.jsx(se,{children:c.jsx(Ae,{...v,type:"number",min:"5",placeholder:"Durao estimada do servio"})}),c.jsx(ct,{children:"Tempo mdio para executar este servio (os prestadores podero personalizar)"}),c.jsx(ne,{})]})}),c.jsx(Vt,{children:c.jsx(be,{type:"submit",disabled:It.isPending,children:It.isPending?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin mr-2 inline-block h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Salvando..."]}):"Criar Template"})})]})})]})]})]}),c.jsx(rr,{children:l.length>0?c.jsxs(Yd,{children:[c.jsx(ec,{children:c.jsxs(sr,{children:[c.jsx(ot,{children:"Nome"}),c.jsx(ot,{children:"Categoria"}),c.jsx(ot,{children:"Durao"}),c.jsx(ot,{className:"text-right",children:"Aes"})]})}),c.jsx(tc,{children:l.map(v=>{var F;return c.jsxs(sr,{children:[c.jsx(dt,{className:"font-medium",children:v.name}),c.jsx(dt,{children:((F=k.find(ce=>ce.id===v.categoryId))==null?void 0:F.name)||"N/A"}),c.jsx(dt,{children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(nc,{className:"h-4 w-4 mr-1 text-muted-foreground"}),c.jsxs("span",{children:[v.duration||60," min"]})]})}),c.jsx(dt,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(be,{variant:"outline",size:"icon",onClick:()=>Zd(v),children:c.jsx(ic,{size:16})}),c.jsx(be,{variant:"outline",size:"icon",className:"text-destructive hover:bg-destructive/10",onClick:()=>qd(v),children:c.jsx(ac,{size:16})})]})})]},v.id)})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[c.jsx(Hd,{className:"h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium",children:"Nenhum template encontrado"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Crie templates de servio para que os prestadores possam us-los como base."})]})})]})}),c.jsx(Pt,{open:n,onOpenChange:i,children:c.jsxs(Dt,{className:"sm:max-w-[550px]",children:[c.jsx(Et,{children:c.jsx(Ot,{children:"Editar Template de Servio"})}),c.jsx(gr,{...he,children:c.jsxs("form",{onSubmit:he.handleSubmit(Bd),className:"space-y-4",children:[c.jsx(ee,{control:he.control,name:"name",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Nome"}),c.jsx(se,{children:c.jsx(Ae,{...v,placeholder:"Nome do servio"})}),c.jsx(ne,{})]})}),c.jsx(ee,{control:he.control,name:"description",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Descrio"}),c.jsx(se,{children:c.jsx(nr,{...v,placeholder:"Descreva o servio",rows:3})}),c.jsx(ne,{})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ee,{control:he.control,name:"categoryId",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Categoria"}),c.jsxs(ir,{onValueChange:v.onChange,value:v.value.toString(),children:[c.jsx(se,{children:c.jsx(ar,{children:c.jsx(or,{placeholder:"Selecione uma categoria"})})}),c.jsx(dr,{children:k.map(F=>c.jsx(cr,{value:F.id.toString(),children:F.name},F.id))})]}),c.jsx(ne,{})]})}),c.jsx(ee,{control:he.control,name:"icon",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"cone"}),c.jsx(se,{children:c.jsx(Ae,{...v,placeholder:"Nome do cone"})}),c.jsx(ct,{children:"Nome do cone Lucide (ex: scissors, heart)"}),c.jsx(ne,{})]})})]}),c.jsx(ee,{control:he.control,name:"duration",render:({field:v})=>c.jsxs(te,{children:[c.jsx(re,{children:"Durao Padro (minutos)"}),c.jsx(se,{children:c.jsx(Ae,{...v,type:"number",min:"5",placeholder:"Durao estimada do servio"})}),c.jsx(ct,{children:"Tempo mdio para executar este servio (os prestadores podero personalizar)"}),c.jsx(ne,{})]})}),c.jsx(Vt,{children:c.jsx(be,{type:"submit",disabled:At.isPending,children:At.isPending?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin mr-2 inline-block h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Salvando..."]}):"Salvar Alteraes"})})]})})]})}),c.jsx(Pt,{open:a,onOpenChange:d,children:c.jsxs(Dt,{className:"sm:max-w-[425px]",children:[c.jsx(Et,{children:c.jsx(Ot,{children:"Confirmar Excluso"})}),c.jsx("div",{className:"py-4",children:c.jsxs("p",{children:['Tem certeza que deseja excluir o template "',f==null?void 0:f.name,'"? Esta ao no pode ser desfeita.']})}),c.jsxs(Vt,{children:[c.jsx(be,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),c.jsx(be,{variant:"destructive",onClick:Ud,disabled:kt.isPending,children:kt.isPending?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin mr-2 inline-block h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Excluindo..."]}):"Excluir"})]})]})})]})}export{Bl as default};
