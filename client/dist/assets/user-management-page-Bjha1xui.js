import{j as e}from"./ui-UIpCtT3r.js";import{r as C}from"./vendor-vA4cx1mx.js";import{j as je,b as fe,c as ve,B as c,C as ge,d as Ne,e as ye,f as be,g as Ce,n as _,q as w,i as T,A as we}from"./index-_oaftgoR.js";import{u as E}from"./useMutation-CeSY69nI.js";import{A as Te}from"./AdminLayout-Dn-3ez7f.js";import{F as Ee,a as n,b as d,c as o,d as l,e as u,f as A}from"./form-BHx1wYe3.js";import{T as Ae,a as Se,b as Pe,c as V,d as v,e as ke,f as j}from"./table-C5AtHS6a.js";import{D as W,a as Z,b as X,c as Y,d as ee,e as Ie}from"./dialog-BvsjuwHe.js";import{S as Ue,a as Fe,b as De,c as Ve,d as I}from"./select-CyrYoysU.js";import{I as x}from"./input-BDDyNkir.js";import{u as ze,t as Me,o as Le,b as U,s as m}from"./zod-BPPSwYm9.js";import{B as g}from"./badge-ku74LRvb.js";import{a as qe,b as S,T as Be}from"./tabs-C6Wggbd4.js";import{A as se,a as ae,b as ie}from"./avatar-DJIjDcKV.js";import{S as z}from"./switch-BTklkuL5.js";import{U as M}from"./user-plus-Dr4OUlEk.js";import{C as re}from"./circle-user-DkPA_e6q.js";import{S as te}from"./square-pen-BgjOg-3N.js";import{T as oe}from"./trash-2-CFTARSkj.js";import{U as Oe}from"./upload-BDKCfxfm.js";import"./router-CxXythJb.js";import"./dropdown-menu-SXsdRjpy.js";import"./chevron-right-B7vqsZez.js";import"./check-BMyHMEgN.js";import"./circle-C4JZ1W_T.js";import"./sheet-D7J49Z8r.js";import"./menu-ClVtlElC.js";import"./log-out-BxiFzjZw.js";import"./settings-VXdXcZL4.js";import"./users-FiLp6VlV.js";import"./chart-pie-BNiBMH91.js";import"./calendar-DopD1FE2.js";import"./message-square-CTw3dXYe.js";import"./file-text-CpCuS0MM.js";import"./dollar-sign-DWlvcVKO.js";import"./label-C1VFYQZZ.js";import"./index-BdQq_4o_.js";import"./index-BH3L9zMK.js";import"./chevron-down-DElYyfWA.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=je("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),$e=Le({name:m().min(3,{message:"Nome deve ter pelo menos 3 caracteres"}),email:m().email({message:"Email inválido"}),password:m().min(6,{message:"Senha deve ter pelo menos 6 caracteres"}),userType:m().min(1,{message:"Tipo de usuário é obrigatório"}),profileImage:m().optional(),phone:m().optional(),address:m().optional(),document:m().optional(),city:m().optional(),state:m().optional(),postalCode:m().optional(),sendPasswordEmail:U().default(!1),isActive:U().default(!0),isVerified:U().default(!1),allowNotifications:U().default(!0)});function ne(r){if(r)return r.startsWith("http")?r:`${we}${r}`}function Ps(){var $,H,K;const{toast:r}=fe(),[de,N]=C.useState(!1),[le,y]=C.useState(!1),[a,p]=C.useState(null),[L,ce]=C.useState("all");C.useEffect(()=>{const s=()=>{k()};return window.addEventListener("openUserCreateModal",s),()=>{window.removeEventListener("openUserCreateModal",s)}},[]);const{data:q,isLoading:me}=ve({queryKey:["/api/admin/users"],staleTime:1e4}),i=ze({resolver:Me($e),defaultValues:{name:"",email:"",password:"",userType:"",phone:"",address:"",document:"",city:"",state:"",postalCode:"",sendPasswordEmail:!1,isActive:!0,isVerified:!1,allowNotifications:!0}}),F=E({mutationFn:async s=>await(await T("POST","/api/admin/users",s)).json(),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"Usuário criado com sucesso",variant:"default"}),N(!1),i.reset()},onError:s=>{r({title:"Erro ao criar usuário",description:s.message||"Tente novamente mais tarde",variant:"destructive"})}}),P=E({mutationFn:async({id:s,userData:t})=>await(await T("PATCH",`/api/admin/users/${s}`,t)).json(),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"Usuário atualizado com sucesso",variant:"default"}),N(!1),p(null),i.reset()},onError:s=>{r({title:"Erro ao atualizar usuário",description:s.message||"Tente novamente mais tarde",variant:"destructive"})}}),ue=E({mutationFn:async s=>(await T("DELETE",`/api/admin/users/${s}`)).ok,onSuccess:()=>{w.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"Usuário excluído com sucesso",variant:"default"})},onError:s=>{r({title:"Erro ao excluir usuário",description:s.message||"Tente novamente mais tarde",variant:"destructive"})}}),f=E({mutationFn:async({id:s,isActive:t})=>await(await T("PATCH",`/api/admin/users/${s}/status`,{isActive:t})).json(),onSuccess:s=>{w.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:s.isActive?"Usuário ativado com sucesso":"Usuário desativado com sucesso",variant:"default"})},onError:s=>{r({title:"Erro ao atualizar status do usuário",description:s.message||"Tente novamente mais tarde",variant:"destructive"})}}),D=E({mutationFn:async({id:s,isVerified:t})=>await(await T("PATCH",`/api/admin/users/${s}/verification`,{isVerified:t})).json(),onSuccess:s=>{w.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:s.isVerified?"Usuário verificado com sucesso":"Verificação removida com sucesso",variant:"default"})},onError:s=>{r({title:"Erro ao atualizar verificação do usuário",description:s.message||"Tente novamente mais tarde",variant:"destructive"})}}),B=s=>{window.confirm("Tem certeza que deseja excluir este usuário?")&&ue.mutate(s)},xe=s=>{p(s),y(!0)},O=s=>{p(s),i.reset({name:s.name||"",email:s.email,password:"",userType:s.userType,profileImage:s.profileImage||"",phone:s.phone||"",address:s.address||"",document:s.document||"",city:s.city||"",state:s.state||"",postalCode:s.postalCode||"",sendPasswordEmail:!1,isActive:s.isActive||!0,isVerified:s.isVerified||!1,allowNotifications:s.allowNotifications!==!1}),N(!0)},k=()=>{p(null),i.reset({name:"",email:"",password:"",userType:"",profileImage:"",phone:"",address:"",document:"",city:"",state:"",postalCode:"",sendPasswordEmail:!1,isActive:!0,isVerified:!1,allowNotifications:!0}),N(!0)},he=s=>{if(a){const{password:t,...h}=s;t&&t.length>0?P.mutate({id:a.id,userData:s}):P.mutate({id:a.id,userData:h})}else F.mutate(s)},R=Array.isArray(q)?q.filter(s=>L==="all"?!0:s.userType===L):[];return e.jsx(Te,{children:e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciamento de Usuários"}),e.jsxs(c,{onClick:k,className:"flex items-center gap-2 bg-primary hover:bg-primary/90",children:[e.jsx(M,{size:18}),"Novo Usuário"]})]}),e.jsx("div",{className:"fixed bottom-6 right-6 z-10",children:e.jsx(c,{onClick:k,className:"h-14 w-14 rounded-full bg-primary hover:bg-primary/90 shadow-lg",title:"Adicionar Novo Usuário",children:e.jsx(M,{size:24})})}),e.jsxs(ge,{className:"mb-8",children:[e.jsxs(Ne,{children:[e.jsx(ye,{children:"Usuários do Sistema"}),e.jsx(be,{children:"Gerencie todos os usuários, incluindo administradores, suporte, prestadores e clientes."})]}),e.jsxs(Ce,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs(qe,{children:[e.jsx(S,{value:"all",children:"Todos"}),e.jsx(S,{value:"admin",children:"Administradores"}),e.jsx(S,{value:"support",children:"Suporte"}),e.jsx(S,{value:"provider",children:"Prestadores"}),e.jsx(S,{value:"client",children:"Clientes"})]}),e.jsxs(c,{onClick:k,className:"flex items-center gap-2 bg-primary hover:bg-primary/90",children:[e.jsx(M,{size:18}),"Adicionar Usuário"]})]}),e.jsx(Be,{defaultValue:"all",onValueChange:ce,children:me?e.jsx("div",{className:"flex justify-center items-center h-48",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):e.jsxs(Ae,{children:[e.jsx(Se,{children:"Lista de usuários cadastrados no sistema"}),e.jsx(Pe,{children:e.jsxs(V,{children:[e.jsx(v,{className:"w-[50px]",children:"ID"}),e.jsx(v,{children:"Nome"}),e.jsx(v,{children:"Email"}),e.jsx(v,{children:"Tipo"}),e.jsx(v,{children:"Status"}),e.jsx(v,{className:"text-right",children:"Ações"})]})}),e.jsx(ke,{children:R.length===0?e.jsx(V,{children:e.jsx(j,{colSpan:6,className:"text-center py-6",children:"Nenhum usuário encontrado."})}):R.map(s=>{var t;return e.jsxs(V,{children:[e.jsx(j,{children:s.id}),e.jsx(j,{className:"font-medium",children:s.name||"-"}),e.jsx(j,{children:s.email}),e.jsx(j,{children:e.jsxs(g,{variant:s.userType==="admin"?"destructive":s.userType==="support"?"outline":s.userType==="provider"?"default":"secondary",children:[s.userType==="admin"&&"Administrador",s.userType==="support"&&"Suporte",s.userType==="provider"&&"Prestador",s.userType==="client"&&"Cliente"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:s.isActive?"success":"destructive",children:s.isActive?"Ativo":"Inativo"}),e.jsx(z,{checked:s.isActive,onCheckedChange:h=>f.mutate({id:s.id,isActive:h}),className:"data-[state=checked]:bg-green-500",disabled:f.isPending&&((t=f.variables)==null?void 0:t.id)===s.id}),s.isVerified&&e.jsxs(g,{variant:"outline",className:"ml-1 border-blue-500 text-blue-500",children:[e.jsx(Re,{className:"mr-1 h-3 w-3"}),"Verificado"]})]})}),e.jsx(j,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>xe(s),title:"Ver detalhes",children:e.jsx(re,{size:16})}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>O(s),title:"Editar usuário",children:e.jsx(te,{size:16})}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>B(s.id),className:"text-destructive",title:"Excluir usuário",children:e.jsx(oe,{size:16})})]})})]},s.id)})})]})})]})]}),e.jsx(W,{open:de,onOpenChange:N,children:e.jsxs(Z,{className:"sm:max-w-[500px]",children:[e.jsxs(X,{children:[e.jsx(Y,{children:a?"Editar Usuário":"Criar Novo Usuário"}),e.jsx(ee,{children:a?"Atualize as informações do usuário conforme necessário.":"Preencha as informações para criar um novo usuário."})]}),e.jsx(Ee,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(he),className:"space-y-4",children:[e.jsx(n,{control:i.control,name:"name",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"Nome"}),e.jsx(l,{children:e.jsx(x,{placeholder:"Nome completo",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:i.control,name:"email",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"Email"}),e.jsx(l,{children:e.jsx(x,{type:"email",placeholder:"email@exemplo.com",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:i.control,name:"password",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:a?"Nova Senha (deixe em branco para manter a atual)":"Senha"}),e.jsx(l,{children:e.jsx(x,{type:"password",placeholder:"••••••",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:i.control,name:"userType",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"Tipo de Usuário"}),e.jsxs(Ue,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(l,{children:e.jsx(Fe,{children:e.jsx(De,{placeholder:"Selecione o tipo de usuário"})})}),e.jsxs(Ve,{children:[e.jsx(I,{value:"admin",children:"Administrador"}),e.jsx(I,{value:"support",children:"Suporte"}),e.jsx(I,{value:"provider",children:"Prestador"}),e.jsx(I,{value:"client",children:"Cliente"})]})]}),e.jsx(u,{})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(o,{className:"self-start",children:"Foto de Perfil"}),e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(se,{className:"h-20 w-20",children:a!=null&&a.profileImage?e.jsx(ae,{src:ne(a.profileImage)||"",alt:a.name||"Avatar"}):e.jsx(ie,{children:e.jsx(re,{className:"h-16 w-16 text-muted-foreground"})})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{type:"file",id:"profileImage",className:"hidden",accept:"image/*",onChange:s=>{if(!s.target.files||s.target.files.length===0)return;const t=s.target.files[0],h=new FileReader;h.onload=async Q=>{var J;if(!((J=Q.target)!=null&&J.result))return;const G=Q.target.result;try{if(a){const b=await _(`/admin/users/${a.id}/profile-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:G})});if(b.ok){const pe=await b.json();p({...a,profileImage:pe.profileImage}),r({title:"Foto de perfil atualizada",description:"A foto foi enviada com sucesso",variant:"default"})}else throw new Error("Falha ao enviar imagem")}else i.setValue("profileImage",G),r({title:"Imagem selecionada",description:"A foto será salva quando o usuário for criado",variant:"default"})}catch(b){r({title:"Erro ao enviar imagem",description:b instanceof Error?b.message:"Tente novamente",variant:"destructive"})}},h.readAsDataURL(t)}}),e.jsxs(c,{type:"button",variant:"outline",onClick:()=>{var s;return(s=document.getElementById("profileImage"))==null?void 0:s.click()},className:"flex items-center gap-2",children:[e.jsx(Oe,{size:16}),"Enviar Foto"]}),(a==null?void 0:a.profileImage)&&e.jsx(c,{type:"button",variant:"outline",className:"text-destructive",onClick:async()=>{try{if((await _(`/admin/users/${a.id}/profile-image`,{method:"DELETE"})).ok)p({...a,profileImage:null}),r({title:"Foto removida",description:"A foto de perfil foi removida com sucesso",variant:"default"});else throw new Error("Falha ao remover imagem")}catch(s){r({title:"Erro ao remover imagem",description:s instanceof Error?s.message:"Tente novamente",variant:"destructive"})}},children:"Remover Foto"})]})]}),e.jsx(A,{children:"Envie uma foto de perfil para o usuário. Formatos aceitos: JPG, PNG, GIF (máx 2MB)."})]}),e.jsx(n,{control:i.control,name:"phone",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"Telefone"}),e.jsx(l,{children:e.jsx(x,{placeholder:"(00) 00000-0000",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:i.control,name:"document",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"CPF/CNPJ"}),e.jsx(l,{children:e.jsx(x,{placeholder:"Digite o CPF ou CNPJ",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:i.control,name:"address",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"Endereço"}),e.jsx(l,{children:e.jsx(x,{placeholder:"Endereço completo",...s})}),e.jsx(u,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(n,{control:i.control,name:"city",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"Cidade"}),e.jsx(l,{children:e.jsx(x,{placeholder:"Cidade",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:i.control,name:"state",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"Estado"}),e.jsx(l,{children:e.jsx(x,{placeholder:"Estado",...s})}),e.jsx(u,{})]})})]}),e.jsx(n,{control:i.control,name:"postalCode",render:({field:s})=>e.jsxs(d,{children:[e.jsx(o,{children:"CEP"}),e.jsx(l,{children:e.jsx(x,{placeholder:"00000-000",...s})}),e.jsx(u,{})]})}),!a&&e.jsx(n,{control:i.control,name:"sendPasswordEmail",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{children:"Enviar senha por email"}),e.jsx(A,{children:"Se marcado, a senha será enviada para o email do usuário."})]}),e.jsx(l,{children:e.jsx("input",{type:"checkbox",checked:s.value,onChange:s.onChange,className:"h-4 w-4"})})]})}),e.jsx(n,{control:i.control,name:"allowNotifications",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{children:"Receber notificações"}),e.jsx(A,{children:"Se desativado, o usuário não receberá notificações do sistema."})]}),e.jsx(l,{children:e.jsx("input",{type:"checkbox",checked:s.value,onChange:s.onChange,className:"h-4 w-4"})})]})}),e.jsx(n,{control:i.control,name:"isActive",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{children:"Usuário Ativo"}),e.jsx(A,{children:"Se desativado, o usuário não poderá acessar o sistema."})]}),e.jsx(l,{children:e.jsx("input",{type:"checkbox",checked:s.value,onChange:s.onChange,className:"h-4 w-4"})})]})}),e.jsx(n,{control:i.control,name:"isVerified",render:({field:s})=>e.jsxs(d,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{children:"Email Verificado"}),e.jsx(A,{children:"Se marcado, o usuário não precisará verificar o email."})]}),e.jsx(l,{children:e.jsx("input",{type:"checkbox",checked:s.value,onChange:s.onChange,className:"h-4 w-4"})})]})}),e.jsx(Ie,{children:e.jsx(c,{type:"submit",className:"w-full sm:w-auto",disabled:F.isPending||P.isPending,children:F.isPending||P.isPending?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"Salvando..."]}):a?"Atualizar Usuário":"Criar Usuário"})})]})})]})}),e.jsx(W,{open:le,onOpenChange:y,children:e.jsxs(Z,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(X,{children:[e.jsx(Y,{children:"Detalhes do Usuário"}),e.jsx(ee,{children:"Informações completas sobre o usuário"})]}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs(se,{className:"h-24 w-24",children:[e.jsx(ae,{src:ne(a.profileImage)||"",alt:a.name}),e.jsx(ie,{children:(($=a.name)==null?void 0:$.charAt(0))||"?"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold",children:a.name||"Sem nome"}),e.jsx("p",{className:"text-muted-foreground",children:a.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(g,{variant:a.userType==="admin"?"destructive":a.userType==="support"?"outline":a.userType==="provider"?"default":"secondary",children:[a.userType==="admin"&&"Administrador",a.userType==="support"&&"Suporte",a.userType==="provider"&&"Prestador",a.userType==="client"&&"Cliente"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:a.isActive?"success":"destructive",children:a.isActive?"Ativo":"Inativo"}),e.jsx(z,{checked:a.isActive,onCheckedChange:s=>{f.mutate({id:a.id,isActive:s}),p({...a,isActive:s})},className:"data-[state=checked]:bg-green-500",disabled:f.isPending&&((H=f.variables)==null?void 0:H.id)===a.id})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:a.isVerified?"default":"outline",children:a.isVerified?"Verificado":"Não Verificado"}),e.jsx(z,{checked:a.isVerified,onCheckedChange:s=>{D.mutate({id:a.id,isVerified:s}),p({...a,isVerified:s})},className:"data-[state=checked]:bg-blue-500",disabled:D.isPending&&((K=D.variables)==null?void 0:K.id)===a.id})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border p-4 rounded-md",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"ID"}),e.jsx("p",{children:a.id})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Telefone"}),e.jsx("p",{children:a.phone||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Endereço"}),e.jsx("p",{children:a.address||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Documento"}),e.jsx("p",{children:a.document||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Cidade"}),e.jsx("p",{children:a.city||"Não informada"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Estado"}),e.jsx("p",{children:a.state||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"CEP"}),e.jsx("p",{children:a.postalCode||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Data de Cadastro"}),e.jsx("p",{children:a.createdAt?new Date(a.createdAt).toLocaleDateString("pt-BR"):"Não informada"})]})]}),a.userType==="provider"&&e.jsxs("div",{className:"border p-4 rounded-md",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Informações do Prestador"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Serviços Oferecidos"}),e.jsxs("p",{children:[a.serviceCount||0," serviços"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Agendamentos"}),e.jsxs("p",{children:[a.appointmentCount||0," agendamentos"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Avaliação Média"}),e.jsx("p",{children:a.rating||"Sem avaliações"})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(c,{variant:"outline",onClick:()=>y(!1),children:"Fechar"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(c,{variant:"default",onClick:()=>{y(!1),O(a)},children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Editar"]}),e.jsxs(c,{variant:"destructive",onClick:()=>{y(!1),B(a.id)},children:[e.jsx(oe,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})]})]})})]})})}export{Ps as default};
