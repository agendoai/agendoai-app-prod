import{j as e}from"./ui-UIpCtT3r.js";import{r as y,a as C}from"./vendor-vA4cx1mx.js";import{u as k}from"./router-CxXythJb.js";import{u as T,b as E,C as d,g as m}from"./index-DEm1NP11.js";import{B as n}from"./button-j6LGAhsQ.js";import{D as A,a as D,b as L,c as M,d as P,e as S}from"./dialog-7q2nDW2H.js";import{C as u}from"./client-layout-CcG18RG7.js";import{U as q}from"./user-DI19obd1.js";import{C as F}from"./calendar-eMUANn8Q.js";import{C as I}from"./credit-card-C2LZP3Yi.js";import{M as z}from"./map-pin-DRgDManj.js";import{C as B}from"./circle-help-JrPfi8Lq.js";import{H as O}from"./headphones-C4Wkz71f.js";import{L as U}from"./log-out-Da473VaU.js";import"./navbar-hjdp4XdK.js";import"./proxy-B8DL77xD.js";import"./house-CfLQCnfM.js";import"./search-C7LrDLVs.js";import"./calendar-check-6xqeojHy.js";function ne(){var i,c;const[,a]=k(),{user:s,isLoading:l}=T(),{toast:r}=E(),[x,o]=y.useState(!1);C.useEffect(()=>{!l&&!s&&a("/auth")},[s,l,a]);const p=()=>{try{a("/client/personal-info")}catch{r({title:"Erro de navegação",description:"Não foi possível acessar as configurações pessoais.",variant:"destructive"})}},h=()=>{try{a("/client/payment-methods")}catch{r({title:"Erro de navegação",description:"Não foi possível acessar os métodos de pagamento.",variant:"destructive"})}},f=()=>{try{a("/client/addresses")}catch{r({title:"Erro de navegação",description:"Não foi possível acessar os endereços.",variant:"destructive"})}},g=()=>{try{a("/client/appointments")}catch{r({title:"Erro de navegação",description:"Não foi possível acessar os agendamentos.",variant:"destructive"})}},j=()=>{try{a("/faq")}catch{r({title:"Erro de navegação",description:"Não foi possível acessar as perguntas frequentes.",variant:"destructive"})}},b=()=>{try{a("/client/support")}catch{r({title:"Erro de navegação",description:"Não foi possível acessar o suporte.",variant:"destructive"})}},v=()=>{o(!0)},N=()=>{try{o(!1),localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),window.authToken&&(window.authToken=void 0),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="authToken=; path=/; domain="+window.location.hostname+"; expires=Thu, 01 Jan 1970 00:00:00 GMT","caches"in window&&caches.keys().then(t=>{t.forEach(w=>{caches.delete(w)})}),r({title:"Logout realizado",description:"Você saiu da sua conta com sucesso."}),window.location.reload()}catch{r({title:"Erro no logout",description:"Ocorreu um erro ao sair da conta.",variant:"destructive"})}};return s?e.jsxs(u,{children:[e.jsxs("div",{className:"h-44 bg-gradient-to-br from-[#3EB9AA] to-[#2A9D8F] relative flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"absolute -top-14 left-1/2 -translate-x-1/2 w-28 h-28 bg-white rounded-full overflow-hidden border-4 border-white shadow-lg flex items-center justify-center group",children:[s!=null&&s.profileImage?e.jsx("img",{src:s.profileImage,alt:s.name||"User",className:"w-full h-full object-cover",onError:t=>{t.currentTarget.onerror=null,t.currentTarget.src="/src/assets/service-images/perfil de usuario.png"}}):e.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-[#3EB9AA] to-[#2A9D8F] flex items-center justify-center text-white text-4xl font-bold",children:((i=s==null?void 0:s.name)==null?void 0:i.charAt(0))||"C"}),e.jsx("button",{type:"button",className:"absolute bottom-2 right-2 bg-neutral-400 text-white p-2 rounded-full shadow-lg border-2 border-white opacity-60 cursor-not-allowed","aria-label":"Alterar foto de perfil",disabled:!0,title:"Em breve disponível",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536M9 13l6-6m2 2a2.828 2.828 0 11-4-4 2.828 2.828 0 014 4z"})})})]}),e.jsxs("div",{className:"pt-20 flex flex-col items-center",children:[e.jsx("h1",{className:"text-xl font-bold text-white text-center",children:(s==null?void 0:s.name)||((c=s==null?void 0:s.email)==null?void 0:c.split("@")[0])||"Usuário"}),e.jsx("p",{className:"text-white/80 text-sm text-center",children:(s==null?void 0:s.email)||"Email não informado"})]})]}),e.jsxs("div",{className:"p-4 pt-16 max-w-md mx-auto",children:[e.jsx(d,{className:"border border-neutral-200 mb-8",children:e.jsxs(m,{className:"p-0 divide-y divide-neutral-100",children:[e.jsxs("button",{onClick:p,className:"w-full p-5 flex items-center gap-4 hover:bg-neutral-50 transition-colors rounded-t-2xl","aria-label":"Informações Pessoais",children:[e.jsx("span",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(q,{className:"h-6 w-6 text-primary"})}),e.jsxs("span",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:"Informações Pessoais"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Edite seus dados pessoais"})]})]}),e.jsxs("button",{onClick:g,className:"w-full p-5 flex items-center gap-4 hover:bg-neutral-50 transition-colors","aria-label":"Meus Agendamentos",children:[e.jsx("span",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(F,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("span",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:"Meus Agendamentos"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Visualize e gerencie seus agendamentos"})]})]}),e.jsxs("button",{onClick:h,className:"w-full p-5 flex items-center gap-4 hover:bg-neutral-50 transition-colors","aria-label":"Métodos de Pagamento",children:[e.jsx("span",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(I,{className:"h-6 w-6 text-green-600"})}),e.jsxs("span",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:"Métodos de Pagamento"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Gerencie seus cartões e métodos de pagamento"})]})]}),e.jsxs("button",{onClick:f,className:"w-full p-5 flex items-center gap-4 hover:bg-neutral-50 transition-colors rounded-b-2xl","aria-label":"Endereços",children:[e.jsx("span",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:e.jsx(z,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("span",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:"Endereços"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Gerencie seus endereços"})]})]})]})}),e.jsx(d,{className:"border border-neutral-200 mb-8",children:e.jsxs(m,{className:"p-0 divide-y divide-neutral-100",children:[e.jsxs("button",{onClick:j,className:"w-full p-5 flex items-center gap-4 hover:bg-neutral-50 transition-colors rounded-t-2xl","aria-label":"Perguntas Frequentes",children:[e.jsx("span",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(B,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("span",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:"Perguntas Frequentes"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Tire suas dúvidas mais comuns"})]})]}),e.jsxs("button",{onClick:b,className:"w-full p-5 flex items-center gap-4 hover:bg-neutral-50 transition-colors rounded-b-2xl","aria-label":"Suporte",children:[e.jsx("span",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(O,{className:"h-6 w-6 text-red-500"})}),e.jsxs("span",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium text-red-500",children:"Suporte"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Entre em contato com nossa equipe"})]})]})]})}),e.jsxs(n,{variant:"outline",className:"w-full border-2 border-red-500 text-red-600 font-bold py-4 rounded-2xl text-lg hover:bg-red-50 hover:text-red-700 transition-colors mb-4",onClick:v,"aria-label":"Sair da conta",children:[e.jsx(U,{className:"mr-2 h-5 w-5"}),"Sair da conta"]})]}),e.jsx(A,{open:x,onOpenChange:o,children:e.jsxs(D,{className:"z-[10001] bg-white border-2 border-gray-200 shadow-2xl max-w-sm mx-auto",children:[e.jsxs(L,{className:"text-center pb-4",children:[e.jsx(M,{className:"text-gray-800 font-bold text-xl",children:"Sair da conta"}),e.jsx(P,{className:"text-gray-600 text-base mt-2",children:"Tem certeza que deseja sair da sua conta? Você será redirecionado para a tela de login."})]}),e.jsxs(S,{className:"gap-3 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>o(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50 h-12",children:"Cancelar"}),e.jsx(n,{variant:"destructive",onClick:N,className:"flex-1 bg-red-600 hover:bg-red-700 text-white h-12",children:"Sair"})]})]})})]}):e.jsx(u,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando perfil..."})]})})})}export{ne as default};
